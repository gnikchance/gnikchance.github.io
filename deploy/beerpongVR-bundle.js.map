{
    "version": 3,
    "sources": [
        "components/node_modules/gl-matrix/cjs/common.js",
        "components/node_modules/gl-matrix/cjs/mat2.js",
        "components/node_modules/gl-matrix/cjs/mat2d.js",
        "components/node_modules/gl-matrix/cjs/mat3.js",
        "components/node_modules/gl-matrix/cjs/mat4.js",
        "components/node_modules/gl-matrix/cjs/vec3.js",
        "components/node_modules/gl-matrix/cjs/vec4.js",
        "components/node_modules/gl-matrix/cjs/quat.js",
        "components/node_modules/gl-matrix/cjs/quat2.js",
        "components/node_modules/gl-matrix/cjs/vec2.js",
        "components/node_modules/gl-matrix/cjs/index.js",
        "components/8thwall-camera.js",
        "components/cursor-target.js",
        "components/cursor.js",
        "components/debug-object.js",
        "components/device-orientation-look.js",
        "components/finger-cursor.js",
        "components/fixed-foveation.js",
        "components/hand-tracking.js",
        "components/hit-test-location.js",
        "components/node_modules/howler/dist/howler.js",
        "components/howler-audio-listener.js",
        "components/howler-audio-source.js",
        "components/image-texture.js",
        "components/mouse-look.js",
        "components/target-framerate.js",
        "components/teleport.js",
        "components/two-joint-ik-solver.js",
        "components/video-texture.js",
        "components/vr-mode-active-switch.js",
        "components/wasd-controls.js",
        "components/wonderleap-ad.js",
        "components/index.js",
        "js/bundles/ball.js",
        "js/bundles/wle_pp_bundle.js"
    ],
    "sourcesContent": [
        "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setMatrixArrayType = setMatrixArrayType;\nexports.toRadian = toRadian;\nexports.equals = equals;\nexports.RANDOM = exports.ARRAY_TYPE = exports.EPSILON = void 0;\n\n/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nvar EPSILON = 0.000001;\nexports.EPSILON = EPSILON;\nvar ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexports.ARRAY_TYPE = ARRAY_TYPE;\nvar RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r\n */\n\nexports.RANDOM = RANDOM;\n\nfunction setMatrixArrayType(type) {\n  exports.ARRAY_TYPE = ARRAY_TYPE = type;\n}\n\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nfunction toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\n\nfunction equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\n\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};",
        "\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.clone = clone;\nexports.copy = copy;\nexports.identity = identity;\nexports.fromValues = fromValues;\nexports.set = set;\nexports.transpose = transpose;\nexports.invert = invert;\nexports.adjoint = adjoint;\nexports.determinant = determinant;\nexports.multiply = multiply;\nexports.rotate = rotate;\nexports.scale = scale;\nexports.fromRotation = fromRotation;\nexports.fromScaling = fromScaling;\nexports.str = str;\nexports.frob = frob;\nexports.LDU = LDU;\nexports.add = add;\nexports.subtract = subtract;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\nexports.multiplyScalar = multiplyScalar;\nexports.multiplyScalarAndAdd = multiplyScalarAndAdd;\nexports.sub = exports.mul = void 0;\n\nvar glMatrix = _interopRequireWildcard(require(\"./common.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\r\n * 2x2 Matrix\r\n * @module mat2\r\n */\n\n/**\r\n * Creates a new identity mat2\r\n *\r\n * @returns {mat2} a new 2x2 matrix\r\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat2 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat2} a matrix to clone\r\n * @returns {mat2} a new 2x2 matrix\r\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Copy the values from one mat2 to another\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set a mat2 to the identity matrix\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @returns {mat2} out\r\n */\n\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Create a new mat2 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\r\n * @returns {mat2} out A new 2x2 matrix\r\n */\n\n\nfunction fromValues(m00, m01, m10, m11) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\r\n * Set the components of a mat2 to the given values\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\r\n * @returns {mat2} out\r\n */\n\n\nfunction set(out, m00, m01, m10, m11) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\r\n * Transpose the values of a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\n\nfunction transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache\n  // some values\n  if (out === a) {\n    var a1 = a[1];\n    out[1] = a[2];\n    out[2] = a1;\n  } else {\n    out[0] = a[0];\n    out[1] = a[2];\n    out[2] = a[1];\n    out[3] = a[3];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\n\nfunction invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3]; // Calculate the determinant\n\n  var det = a0 * a3 - a2 * a1;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = a3 * det;\n  out[1] = -a1 * det;\n  out[2] = -a2 * det;\n  out[3] = a0 * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\n\nfunction adjoint(out, a) {\n  // Caching this value is nessecary if out == a\n  var a0 = a[0];\n  out[0] = a[3];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a0;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat2\r\n *\r\n * @param {ReadonlyMat2} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\n\nfunction determinant(a) {\n  return a[0] * a[3] - a[2] * a[1];\n}\n/**\r\n * Multiplies two mat2's\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the first operand\r\n * @param {ReadonlyMat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\n\nfunction multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  return out;\n}\n/**\r\n * Rotates a mat2 by the given angle\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2} out\r\n */\n\n\nfunction rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  return out;\n}\n/**\r\n * Scales the mat2 by the dimensions in the given vec2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the matrix to rotate\r\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\r\n * @returns {mat2} out\r\n **/\n\n\nfunction scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2.identity(dest);\r\n *     mat2.rotate(dest, dest, rad);\r\n *\r\n * @param {mat2} out mat2 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2} out\r\n */\n\n\nfunction fromRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2.identity(dest);\r\n *     mat2.scale(dest, dest, vec);\r\n *\r\n * @param {mat2} out mat2 receiving operation result\r\n * @param {ReadonlyVec2} v Scaling vector\r\n * @returns {mat2} out\r\n */\n\n\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  return out;\n}\n/**\r\n * Returns a string representation of a mat2\r\n *\r\n * @param {ReadonlyMat2} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\n\nfunction str(a) {\n  return \"mat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat2\r\n *\r\n * @param {ReadonlyMat2} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\n\nfunction frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3]);\n}\n/**\r\n * Returns L, D and U matrices (Lower triangular, Diagonal and Upper triangular) by factorizing the input matrix\r\n * @param {ReadonlyMat2} L the lower triangular matrix\r\n * @param {ReadonlyMat2} D the diagonal matrix\r\n * @param {ReadonlyMat2} U the upper triangular matrix\r\n * @param {ReadonlyMat2} a the input matrix to factorize\r\n */\n\n\nfunction LDU(L, D, U, a) {\n  L[2] = a[2] / a[0];\n  U[0] = a[0];\n  U[1] = a[1];\n  U[3] = a[3] - L[2] * U[1];\n  return [L, D, U];\n}\n/**\r\n * Adds two mat2's\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the first operand\r\n * @param {ReadonlyMat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the first operand\r\n * @param {ReadonlyMat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat2} a The first matrix.\r\n * @param {ReadonlyMat2} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat2} a The first matrix.\r\n * @param {ReadonlyMat2} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat2} out\r\n */\n\n\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two mat2's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat2} out the receiving vector\r\n * @param {ReadonlyMat2} a the first operand\r\n * @param {ReadonlyMat2} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat2} out\r\n */\n\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Alias for {@link mat2.multiply}\r\n * @function\r\n */\n\n\nvar mul = multiply;\n/**\r\n * Alias for {@link mat2.subtract}\r\n * @function\r\n */\n\nexports.mul = mul;\nvar sub = subtract;\nexports.sub = sub;",
        "\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.clone = clone;\nexports.copy = copy;\nexports.identity = identity;\nexports.fromValues = fromValues;\nexports.set = set;\nexports.invert = invert;\nexports.determinant = determinant;\nexports.multiply = multiply;\nexports.rotate = rotate;\nexports.scale = scale;\nexports.translate = translate;\nexports.fromRotation = fromRotation;\nexports.fromScaling = fromScaling;\nexports.fromTranslation = fromTranslation;\nexports.str = str;\nexports.frob = frob;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiplyScalar = multiplyScalar;\nexports.multiplyScalarAndAdd = multiplyScalarAndAdd;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\nexports.sub = exports.mul = void 0;\n\nvar glMatrix = _interopRequireWildcard(require(\"./common.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\r\n * 2x3 Matrix\r\n * @module mat2d\r\n * @description\r\n * A mat2d contains six elements defined as:\r\n * <pre>\r\n * [a, b,\r\n *  c, d,\r\n *  tx, ty]\r\n * </pre>\r\n * This is a short form for the 3x3 matrix:\r\n * <pre>\r\n * [a, b, 0,\r\n *  c, d, 0,\r\n *  tx, ty, 1]\r\n * </pre>\r\n * The last column is ignored so the array is shorter and operations are faster.\r\n */\n\n/**\r\n * Creates a new identity mat2d\r\n *\r\n * @returns {mat2d} a new 2x3 matrix\r\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(6);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[4] = 0;\n    out[5] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat2d initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat2d} a matrix to clone\r\n * @returns {mat2d} a new 2x3 matrix\r\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\r\n * Copy the values from one mat2d to another\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the source matrix\r\n * @returns {mat2d} out\r\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\r\n * Set a mat2d to the identity matrix\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @returns {mat2d} out\r\n */\n\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Create a new mat2d with the given values\r\n *\r\n * @param {Number} a Component A (index 0)\r\n * @param {Number} b Component B (index 1)\r\n * @param {Number} c Component C (index 2)\r\n * @param {Number} d Component D (index 3)\r\n * @param {Number} tx Component TX (index 4)\r\n * @param {Number} ty Component TY (index 5)\r\n * @returns {mat2d} A new mat2d\r\n */\n\n\nfunction fromValues(a, b, c, d, tx, ty) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\r\n * Set the components of a mat2d to the given values\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {Number} a Component A (index 0)\r\n * @param {Number} b Component B (index 1)\r\n * @param {Number} c Component C (index 2)\r\n * @param {Number} d Component D (index 3)\r\n * @param {Number} tx Component TX (index 4)\r\n * @param {Number} ty Component TY (index 5)\r\n * @returns {mat2d} out\r\n */\n\n\nfunction set(out, a, b, c, d, tx, ty) {\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\r\n * Inverts a mat2d\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the source matrix\r\n * @returns {mat2d} out\r\n */\n\n\nfunction invert(out, a) {\n  var aa = a[0],\n      ab = a[1],\n      ac = a[2],\n      ad = a[3];\n  var atx = a[4],\n      aty = a[5];\n  var det = aa * ad - ab * ac;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = ad * det;\n  out[1] = -ab * det;\n  out[2] = -ac * det;\n  out[3] = aa * det;\n  out[4] = (ac * aty - ad * atx) * det;\n  out[5] = (ab * atx - aa * aty) * det;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat2d\r\n *\r\n * @param {ReadonlyMat2d} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\n\nfunction determinant(a) {\n  return a[0] * a[3] - a[1] * a[2];\n}\n/**\r\n * Multiplies two mat2d's\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the first operand\r\n * @param {ReadonlyMat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\n\nfunction multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  out[4] = a0 * b4 + a2 * b5 + a4;\n  out[5] = a1 * b4 + a3 * b5 + a5;\n  return out;\n}\n/**\r\n * Rotates a mat2d by the given angle\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2d} out\r\n */\n\n\nfunction rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\r\n * Scales the mat2d by the dimensions in the given vec2\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to translate\r\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\r\n * @returns {mat2d} out\r\n **/\n\n\nfunction scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\r\n * Translates the mat2d by the dimensions in the given vec2\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to translate\r\n * @param {ReadonlyVec2} v the vec2 to translate the matrix by\r\n * @returns {mat2d} out\r\n **/\n\n\nfunction translate(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0;\n  out[1] = a1;\n  out[2] = a2;\n  out[3] = a3;\n  out[4] = a0 * v0 + a2 * v1 + a4;\n  out[5] = a1 * v0 + a3 * v1 + a5;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.rotate(dest, dest, rad);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2d} out\r\n */\n\n\nfunction fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.scale(dest, dest, vec);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {ReadonlyVec2} v Scaling vector\r\n * @returns {mat2d} out\r\n */\n\n\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.translate(dest, dest, vec);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {ReadonlyVec2} v Translation vector\r\n * @returns {mat2d} out\r\n */\n\n\nfunction fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = v[0];\n  out[5] = v[1];\n  return out;\n}\n/**\r\n * Returns a string representation of a mat2d\r\n *\r\n * @param {ReadonlyMat2d} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\n\nfunction str(a) {\n  return \"mat2d(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat2d\r\n *\r\n * @param {ReadonlyMat2d} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\n\nfunction frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], 1);\n}\n/**\r\n * Adds two mat2d's\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the first operand\r\n * @param {ReadonlyMat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the first operand\r\n * @param {ReadonlyMat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat2d} out\r\n */\n\n\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  return out;\n}\n/**\r\n * Adds two mat2d's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat2d} out the receiving vector\r\n * @param {ReadonlyMat2d} a the first operand\r\n * @param {ReadonlyMat2d} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat2d} out\r\n */\n\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat2d} a The first matrix.\r\n * @param {ReadonlyMat2d} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat2d} a The first matrix.\r\n * @param {ReadonlyMat2d} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5));\n}\n/**\r\n * Alias for {@link mat2d.multiply}\r\n * @function\r\n */\n\n\nvar mul = multiply;\n/**\r\n * Alias for {@link mat2d.subtract}\r\n * @function\r\n */\n\nexports.mul = mul;\nvar sub = subtract;\nexports.sub = sub;",
        "\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.fromMat4 = fromMat4;\nexports.clone = clone;\nexports.copy = copy;\nexports.fromValues = fromValues;\nexports.set = set;\nexports.identity = identity;\nexports.transpose = transpose;\nexports.invert = invert;\nexports.adjoint = adjoint;\nexports.determinant = determinant;\nexports.multiply = multiply;\nexports.translate = translate;\nexports.rotate = rotate;\nexports.scale = scale;\nexports.fromTranslation = fromTranslation;\nexports.fromRotation = fromRotation;\nexports.fromScaling = fromScaling;\nexports.fromMat2d = fromMat2d;\nexports.fromQuat = fromQuat;\nexports.normalFromMat4 = normalFromMat4;\nexports.projection = projection;\nexports.str = str;\nexports.frob = frob;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiplyScalar = multiplyScalar;\nexports.multiplyScalarAndAdd = multiplyScalarAndAdd;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\nexports.sub = exports.mul = void 0;\n\nvar glMatrix = _interopRequireWildcard(require(\"./common.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\r\n * 3x3 Matrix\r\n * @module mat3\r\n */\n\n/**\r\n * Creates a new identity mat3\r\n *\r\n * @returns {mat3} a new 3x3 matrix\r\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the upper-left 3x3 values into the given mat3.\r\n *\r\n * @param {mat3} out the receiving 3x3 matrix\r\n * @param {ReadonlyMat4} a   the source 4x4 matrix\r\n * @returns {mat3} out\r\n */\n\n\nfunction fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\r\n * Creates a new mat3 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat3} a matrix to clone\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Copy the values from one mat3 to another\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Create a new mat3 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} A new mat3\r\n */\n\n\nfunction fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set the components of a mat3 to the given values\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} out\r\n */\n\n\nfunction set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set a mat3 to the identity matrix\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @returns {mat3} out\r\n */\n\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\n\nfunction transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\n\nfunction invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\n\nfunction adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat3\r\n *\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\n\nfunction determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\r\n * Multiplies two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\n\nfunction multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\r\n * Translate a mat3 by the given vector\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to translate\r\n * @param {ReadonlyVec2} v vector to translate by\r\n * @returns {mat3} out\r\n */\n\n\nfunction translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\r\n * Rotates a mat3 by the given angle\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\n\nfunction rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\r\n * Scales the mat3 by the dimensions in the given vec2\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to rotate\r\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\r\n * @returns {mat3} out\r\n **/\n\n\nfunction scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.translate(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyVec2} v Translation vector\r\n * @returns {mat3} out\r\n */\n\n\nfunction fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.rotate(dest, dest, rad);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\n\nfunction fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.scale(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyVec2} v Scaling vector\r\n * @returns {mat3} out\r\n */\n\n\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the values from a mat2d into a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to copy\r\n * @returns {mat3} out\r\n **/\n\n\nfunction fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Calculates a 3x3 matrix from the given quaternion\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat3} out\r\n */\n\n\nfunction fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\r\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\r\n *\r\n * @returns {mat3} out\r\n */\n\n\nfunction normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\r\n * Generates a 2D projection matrix with the given bounds\r\n *\r\n * @param {mat3} out mat3 frustum matrix will be written into\r\n * @param {number} width Width of your gl context\r\n * @param {number} height Height of gl context\r\n * @returns {mat3} out\r\n */\n\n\nfunction projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat3\r\n *\r\n * @param {ReadonlyMat3} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\n\nfunction str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat3\r\n *\r\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\n\nfunction frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\r\n * Adds two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat3} out\r\n */\n\n\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\r\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat3} out the receiving vector\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat3} out\r\n */\n\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat3} a The first matrix.\r\n * @param {ReadonlyMat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat3} a The first matrix.\r\n * @param {ReadonlyMat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\r\n * Alias for {@link mat3.multiply}\r\n * @function\r\n */\n\n\nvar mul = multiply;\n/**\r\n * Alias for {@link mat3.subtract}\r\n * @function\r\n */\n\nexports.mul = mul;\nvar sub = subtract;\nexports.sub = sub;",
        "\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.clone = clone;\nexports.copy = copy;\nexports.fromValues = fromValues;\nexports.set = set;\nexports.identity = identity;\nexports.transpose = transpose;\nexports.invert = invert;\nexports.adjoint = adjoint;\nexports.determinant = determinant;\nexports.multiply = multiply;\nexports.translate = translate;\nexports.scale = scale;\nexports.rotate = rotate;\nexports.rotateX = rotateX;\nexports.rotateY = rotateY;\nexports.rotateZ = rotateZ;\nexports.fromTranslation = fromTranslation;\nexports.fromScaling = fromScaling;\nexports.fromRotation = fromRotation;\nexports.fromXRotation = fromXRotation;\nexports.fromYRotation = fromYRotation;\nexports.fromZRotation = fromZRotation;\nexports.fromRotationTranslation = fromRotationTranslation;\nexports.fromQuat2 = fromQuat2;\nexports.getTranslation = getTranslation;\nexports.getScaling = getScaling;\nexports.getRotation = getRotation;\nexports.fromRotationTranslationScale = fromRotationTranslationScale;\nexports.fromRotationTranslationScaleOrigin = fromRotationTranslationScaleOrigin;\nexports.fromQuat = fromQuat;\nexports.frustum = frustum;\nexports.perspective = perspective;\nexports.perspectiveFromFieldOfView = perspectiveFromFieldOfView;\nexports.ortho = ortho;\nexports.lookAt = lookAt;\nexports.targetTo = targetTo;\nexports.str = str;\nexports.frob = frob;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiplyScalar = multiplyScalar;\nexports.multiplyScalarAndAdd = multiplyScalarAndAdd;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\nexports.sub = exports.mul = void 0;\n\nvar glMatrix = _interopRequireWildcard(require(\"./common.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\r\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r\n * @module mat4\r\n */\n\n/**\r\n * Creates a new identity mat4\r\n *\r\n * @returns {mat4} a new 4x4 matrix\r\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat4} a matrix to clone\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Create a new mat4 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} A new mat4\r\n */\n\n\nfunction fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} out\r\n */\n\n\nfunction set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\n\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\n\nfunction transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\n\nfunction invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\n\nfunction adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\n\nfunction determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\n\nfunction multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to translate\r\n * @param {ReadonlyVec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\n\n\nfunction translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\n\n\nfunction scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\n\nfunction rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the X axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\n\nfunction rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Y axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\n\nfunction rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Z axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\n\nfunction rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\n\nfunction fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.scale(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Scaling vector\r\n * @returns {mat4} out\r\n */\n\n\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle around a given axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotate(dest, dest, rad, axis);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\n\nfunction fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the X axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateX(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\n\nfunction fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Y axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateY(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\n\nfunction fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Z axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateZ(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\n\nfunction fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation and vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\n\nfunction fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 from a dual quat.\r\n *\r\n * @param {mat4} out Matrix\r\n * @param {ReadonlyQuat2} a Dual Quaternion\r\n * @returns {mat4} mat4 receiving operation result\r\n */\n\n\nfunction fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\n\nfunction getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\n\nfunction getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\n\n\nfunction getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\n\n\nfunction fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     mat4.translate(dest, origin);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *     mat4.translate(dest, negativeOrigin);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\r\n * @returns {mat4} out\r\n */\n\n\nfunction fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\n\n\nfunction fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a frustum matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Number} left Left bound of the frustum\r\n * @param {Number} right Right bound of the frustum\r\n * @param {Number} bottom Bottom bound of the frustum\r\n * @param {Number} top Top bound of the frustum\r\n * @param {Number} near Near bound of the frustum\r\n * @param {Number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\n\nfunction frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given bounds.\r\n * Passing null/undefined/no value for far will generate infinite projection matrix.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum, can be null or Infinity\r\n * @returns {mat4} out\r\n */\n\n\nfunction perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given field of view.\r\n * This is primarily useful for generating projection matrices to be used\r\n * with the still experiemental WebVR API.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\n\nfunction perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\n\nfunction ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\n\nfunction lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\n\nfunction targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat4\r\n *\r\n * @param {ReadonlyMat4} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\n\nfunction str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\n\nfunction frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\r\n * Adds two mat4's\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat4} out\r\n */\n\n\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\r\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat4} out the receiving vector\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat4} out\r\n */\n\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\r\n * Alias for {@link mat4.multiply}\r\n * @function\r\n */\n\n\nvar mul = multiply;\n/**\r\n * Alias for {@link mat4.subtract}\r\n * @function\r\n */\n\nexports.mul = mul;\nvar sub = subtract;\nexports.sub = sub;",
        "\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.clone = clone;\nexports.length = length;\nexports.fromValues = fromValues;\nexports.copy = copy;\nexports.set = set;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiply = multiply;\nexports.divide = divide;\nexports.ceil = ceil;\nexports.floor = floor;\nexports.min = min;\nexports.max = max;\nexports.round = round;\nexports.scale = scale;\nexports.scaleAndAdd = scaleAndAdd;\nexports.distance = distance;\nexports.squaredDistance = squaredDistance;\nexports.squaredLength = squaredLength;\nexports.negate = negate;\nexports.inverse = inverse;\nexports.normalize = normalize;\nexports.dot = dot;\nexports.cross = cross;\nexports.lerp = lerp;\nexports.hermite = hermite;\nexports.bezier = bezier;\nexports.random = random;\nexports.transformMat4 = transformMat4;\nexports.transformMat3 = transformMat3;\nexports.transformQuat = transformQuat;\nexports.rotateX = rotateX;\nexports.rotateY = rotateY;\nexports.rotateZ = rotateZ;\nexports.angle = angle;\nexports.zero = zero;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\nexports.forEach = exports.sqrLen = exports.len = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = void 0;\n\nvar glMatrix = _interopRequireWildcard(require(\"./common.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\n\nfunction length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\n\nfunction fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\n\nfunction set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\n\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\n\nfunction distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\n\nfunction squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\n\nfunction normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\n\nfunction cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\n\nfunction hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\n\nfunction bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\n\nfunction random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\n\nfunction transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\n\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\n\nfunction transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\n\nfunction rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\n\nfunction rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\n\nfunction rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {ReadonlyVec3} a The first operand\r\n * @param {ReadonlyVec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\n\nfunction angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\n\nfunction zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\n\nfunction str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\n\nvar sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nexports.sub = sub;\nvar mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nexports.mul = mul;\nvar div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nexports.div = div;\nvar dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nexports.dist = dist;\nvar sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nexports.sqrDist = sqrDist;\nvar len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nexports.len = len;\nvar sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexports.sqrLen = sqrLen;\n\nvar forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();\n\nexports.forEach = forEach;",
        "\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.clone = clone;\nexports.fromValues = fromValues;\nexports.copy = copy;\nexports.set = set;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiply = multiply;\nexports.divide = divide;\nexports.ceil = ceil;\nexports.floor = floor;\nexports.min = min;\nexports.max = max;\nexports.round = round;\nexports.scale = scale;\nexports.scaleAndAdd = scaleAndAdd;\nexports.distance = distance;\nexports.squaredDistance = squaredDistance;\nexports.length = length;\nexports.squaredLength = squaredLength;\nexports.negate = negate;\nexports.inverse = inverse;\nexports.normalize = normalize;\nexports.dot = dot;\nexports.cross = cross;\nexports.lerp = lerp;\nexports.random = random;\nexports.transformMat4 = transformMat4;\nexports.transformQuat = transformQuat;\nexports.zero = zero;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\nexports.forEach = exports.sqrLen = exports.len = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = void 0;\n\nvar glMatrix = _interopRequireWildcard(require(\"./common.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\r\n * 4 Dimensional Vector\r\n * @module vec4\r\n */\n\n/**\r\n * Creates a new, empty vec4\r\n *\r\n * @returns {vec4} a new 4D vector\r\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec4} a vector to clone\r\n * @returns {vec4} a new 4D vector\r\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} a new 4D vector\r\n */\n\n\nfunction fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Copy the values from one vec4 to another\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the source vector\r\n * @returns {vec4} out\r\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to the given values\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} out\r\n */\n\n\nfunction set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Adds two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Multiplies two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\n\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\r\n * Divides two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to ceil\r\n * @returns {vec4} out\r\n */\n\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to floor\r\n * @returns {vec4} out\r\n */\n\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to round\r\n * @returns {vec4} out\r\n */\n\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\r\n * Scales a vec4 by a scalar number\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec4} out\r\n */\n\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two vec4's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec4} out\r\n */\n\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\n\nfunction distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Calculates the length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\n\nfunction length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\n\nfunction squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Negates the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to negate\r\n * @returns {vec4} out\r\n */\n\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to invert\r\n * @returns {vec4} out\r\n */\n\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\r\n * Normalize a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to normalize\r\n * @returns {vec4} out\r\n */\n\n\nfunction normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\r\n * Returns the cross-product of three vectors in a 4-dimensional space\r\n *\r\n * @param {ReadonlyVec4} result the receiving vector\r\n * @param {ReadonlyVec4} U the first vector\r\n * @param {ReadonlyVec4} V the second vector\r\n * @param {ReadonlyVec4} W the third vector\r\n * @returns {vec4} result\r\n */\n\n\nfunction cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec4} out\r\n */\n\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec4} out\r\n */\n\n\nfunction random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a mat4.\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec4} out\r\n */\n\n\nfunction transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a quat\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec4} out\r\n */\n\n\nfunction transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to zero\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @returns {vec4} out\r\n */\n\n\nfunction zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec4} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\n\nfunction str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Alias for {@link vec4.subtract}\r\n * @function\r\n */\n\n\nvar sub = subtract;\n/**\r\n * Alias for {@link vec4.multiply}\r\n * @function\r\n */\n\nexports.sub = sub;\nvar mul = multiply;\n/**\r\n * Alias for {@link vec4.divide}\r\n * @function\r\n */\n\nexports.mul = mul;\nvar div = divide;\n/**\r\n * Alias for {@link vec4.distance}\r\n * @function\r\n */\n\nexports.div = div;\nvar dist = distance;\n/**\r\n * Alias for {@link vec4.squaredDistance}\r\n * @function\r\n */\n\nexports.dist = dist;\nvar sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec4.length}\r\n * @function\r\n */\n\nexports.sqrDist = sqrDist;\nvar len = length;\n/**\r\n * Alias for {@link vec4.squaredLength}\r\n * @function\r\n */\n\nexports.len = len;\nvar sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec4s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexports.sqrLen = sqrLen;\n\nvar forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();\n\nexports.forEach = forEach;",
        "\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.identity = identity;\nexports.setAxisAngle = setAxisAngle;\nexports.getAxisAngle = getAxisAngle;\nexports.getAngle = getAngle;\nexports.multiply = multiply;\nexports.rotateX = rotateX;\nexports.rotateY = rotateY;\nexports.rotateZ = rotateZ;\nexports.calculateW = calculateW;\nexports.exp = exp;\nexports.ln = ln;\nexports.pow = pow;\nexports.slerp = slerp;\nexports.random = random;\nexports.invert = invert;\nexports.conjugate = conjugate;\nexports.fromMat3 = fromMat3;\nexports.fromEuler = fromEuler;\nexports.str = str;\nexports.setAxes = exports.sqlerp = exports.rotationTo = exports.equals = exports.exactEquals = exports.normalize = exports.sqrLen = exports.squaredLength = exports.len = exports.length = exports.lerp = exports.dot = exports.scale = exports.mul = exports.add = exports.set = exports.copy = exports.fromValues = exports.clone = void 0;\n\nvar glMatrix = _interopRequireWildcard(require(\"./common.js\"));\n\nvar mat3 = _interopRequireWildcard(require(\"./mat3.js\"));\n\nvar vec3 = _interopRequireWildcard(require(\"./vec3.js\"));\n\nvar vec4 = _interopRequireWildcard(require(\"./vec4.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\r\n * Quaternion\r\n * @module quat\r\n */\n\n/**\r\n * Creates a new identity quat\r\n *\r\n * @returns {quat} a new quaternion\r\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Set a quat to the identity quaternion\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\n\n\nfunction identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Sets a quat from the given angle and rotation axis,\r\n * then returns it.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyVec3} axis the axis around which to rotate\r\n * @param {Number} rad the angle in radians\r\n * @returns {quat} out\r\n **/\n\n\nfunction setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\r\n * Gets the rotation axis and angle for a given\r\n *  quaternion. If a quaternion is created with\r\n *  setAxisAngle, this method will return the same\r\n *  values as providied in the original parameter list\r\n *  OR functionally equivalent values.\r\n * Example: The quaternion formed by axis [0, 0, 1] and\r\n *  angle -90 is the same as the quaternion formed by\r\n *  [0, 0, 1] and 270. This method favors the latter.\r\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\r\n * @param  {ReadonlyQuat} q     Quaternion to be decomposed\r\n * @return {Number}     Angle, in radians, of the rotation\r\n */\n\n\nfunction getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\r\n * Gets the angular distance between two unit quaternions\r\n *\r\n * @param  {ReadonlyQuat} a     Origin unit quaternion\r\n * @param  {ReadonlyQuat} b     Destination unit quaternion\r\n * @return {Number}     Angle, in radians, between the two quaternions\r\n */\n\n\nfunction getAngle(a, b) {\n  var dotproduct = dot(a, b);\n  return Math.acos(2 * dotproduct * dotproduct - 1);\n}\n/**\r\n * Multiplies two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @returns {quat} out\r\n */\n\n\nfunction multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the X axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {ReadonlyQuat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\n\nfunction rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the Y axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {ReadonlyQuat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\n\nfunction rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the Z axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {ReadonlyQuat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\n\nfunction rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\r\n * Calculates the W component of a quat from the X, Y, and Z components.\r\n * Assumes that quaternion is 1 unit in length.\r\n * Any existing W component will be ignored.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate W component of\r\n * @returns {quat} out\r\n */\n\n\nfunction calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\r\n * Calculate the exponential of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate the exponential of\r\n * @returns {quat} out\r\n */\n\n\nfunction exp(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var et = Math.exp(w);\n  var s = r > 0 ? et * Math.sin(r) / r : 0;\n  out[0] = x * s;\n  out[1] = y * s;\n  out[2] = z * s;\n  out[3] = et * Math.cos(r);\n  return out;\n}\n/**\r\n * Calculate the natural logarithm of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate the exponential of\r\n * @returns {quat} out\r\n */\n\n\nfunction ln(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var t = r > 0 ? Math.atan2(r, w) / r : 0;\n  out[0] = x * t;\n  out[1] = y * t;\n  out[2] = z * t;\n  out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n  return out;\n}\n/**\r\n * Calculate the scalar power of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate the exponential of\r\n * @param {Number} b amount to scale the quaternion by\r\n * @returns {quat} out\r\n */\n\n\nfunction pow(out, a, b) {\n  ln(out, a);\n  scale(out, out, b);\n  exp(out, out);\n  return out;\n}\n/**\r\n * Performs a spherical linear interpolation between two quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n */\n\n\nfunction slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\r\n * Generates a random unit quaternion\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\n\n\nfunction random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\r\n * Calculates the inverse of a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate inverse of\r\n * @returns {quat} out\r\n */\n\n\nfunction invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\r\n * Calculates the conjugate of a quat\r\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate conjugate of\r\n * @returns {quat} out\r\n */\n\n\nfunction conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a quaternion from the given 3x3 rotation matrix.\r\n *\r\n * NOTE: The resultant quaternion is not normalized, so you should be sure\r\n * to renormalize the quaternion yourself where necessary.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyMat3} m rotation matrix\r\n * @returns {quat} out\r\n * @function\r\n */\n\n\nfunction fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\r\n * Creates a quaternion from the given euler angle x, y, z.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {x} Angle to rotate around X axis in degrees.\r\n * @param {y} Angle to rotate around Y axis in degrees.\r\n * @param {z} Angle to rotate around Z axis in degrees.\r\n * @returns {quat} out\r\n * @function\r\n */\n\n\nfunction fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\r\n * Returns a string representation of a quatenion\r\n *\r\n * @param {ReadonlyQuat} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\n\nfunction str(a) {\n  return \"quat(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\r\n * Creates a new quat initialized with values from an existing quaternion\r\n *\r\n * @param {ReadonlyQuat} a quaternion to clone\r\n * @returns {quat} a new quaternion\r\n * @function\r\n */\n\n\nvar clone = vec4.clone;\n/**\r\n * Creates a new quat initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} a new quaternion\r\n * @function\r\n */\n\nexports.clone = clone;\nvar fromValues = vec4.fromValues;\n/**\r\n * Copy the values from one quat to another\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the source quaternion\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexports.fromValues = fromValues;\nvar copy = vec4.copy;\n/**\r\n * Set the components of a quat to the given values\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexports.copy = copy;\nvar set = vec4.set;\n/**\r\n * Adds two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexports.set = set;\nvar add = vec4.add;\n/**\r\n * Alias for {@link quat.multiply}\r\n * @function\r\n */\n\nexports.add = add;\nvar mul = multiply;\n/**\r\n * Scales a quat by a scalar number\r\n *\r\n * @param {quat} out the receiving vector\r\n * @param {ReadonlyQuat} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexports.mul = mul;\nvar scale = vec4.scale;\n/**\r\n * Calculates the dot product of two quat's\r\n *\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @returns {Number} dot product of a and b\r\n * @function\r\n */\n\nexports.scale = scale;\nvar dot = vec4.dot;\n/**\r\n * Performs a linear interpolation between two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexports.dot = dot;\nvar lerp = vec4.lerp;\n/**\r\n * Calculates the length of a quat\r\n *\r\n * @param {ReadonlyQuat} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexports.lerp = lerp;\nvar length = vec4.length;\n/**\r\n * Alias for {@link quat.length}\r\n * @function\r\n */\n\nexports.length = length;\nvar len = length;\n/**\r\n * Calculates the squared length of a quat\r\n *\r\n * @param {ReadonlyQuat} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n * @function\r\n */\n\nexports.len = len;\nvar squaredLength = vec4.squaredLength;\n/**\r\n * Alias for {@link quat.squaredLength}\r\n * @function\r\n */\n\nexports.squaredLength = squaredLength;\nvar sqrLen = squaredLength;\n/**\r\n * Normalize a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quaternion to normalize\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexports.sqrLen = sqrLen;\nvar normalize = vec4.normalize;\n/**\r\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyQuat} a The first quaternion.\r\n * @param {ReadonlyQuat} b The second quaternion.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexports.normalize = normalize;\nvar exactEquals = vec4.exactEquals;\n/**\r\n * Returns whether or not the quaternions have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyQuat} a The first vector.\r\n * @param {ReadonlyQuat} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexports.exactEquals = exactEquals;\nvar equals = vec4.equals;\n/**\r\n * Sets a quaternion to represent the shortest rotation from one\r\n * vector to another.\r\n *\r\n * Both vectors are assumed to be unit length.\r\n *\r\n * @param {quat} out the receiving quaternion.\r\n * @param {ReadonlyVec3} a the initial vector\r\n * @param {ReadonlyVec3} b the destination vector\r\n * @returns {quat} out\r\n */\n\nexports.equals = equals;\n\nvar rotationTo = function () {\n  var tmpvec3 = vec3.create();\n  var xUnitVec3 = vec3.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001) vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\r\n * Performs a spherical linear interpolation with two control points\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @param {ReadonlyQuat} c the third operand\r\n * @param {ReadonlyQuat} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n */\n\n\nexports.rotationTo = rotationTo;\n\nvar sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\r\n * Sets the specified quaternion with values corresponding to the given\r\n * axes. Each axis is a vec3 and is expected to be unit length and\r\n * perpendicular to all other specified axes.\r\n *\r\n * @param {ReadonlyVec3} view  the vector representing the viewing direction\r\n * @param {ReadonlyVec3} right the vector representing the local \"right\" direction\r\n * @param {ReadonlyVec3} up    the vector representing the local \"up\" direction\r\n * @returns {quat} out\r\n */\n\n\nexports.sqlerp = sqlerp;\n\nvar setAxes = function () {\n  var matr = mat3.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();\n\nexports.setAxes = setAxes;",
        "\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.clone = clone;\nexports.fromValues = fromValues;\nexports.fromRotationTranslationValues = fromRotationTranslationValues;\nexports.fromRotationTranslation = fromRotationTranslation;\nexports.fromTranslation = fromTranslation;\nexports.fromRotation = fromRotation;\nexports.fromMat4 = fromMat4;\nexports.copy = copy;\nexports.identity = identity;\nexports.set = set;\nexports.getDual = getDual;\nexports.setDual = setDual;\nexports.getTranslation = getTranslation;\nexports.translate = translate;\nexports.rotateX = rotateX;\nexports.rotateY = rotateY;\nexports.rotateZ = rotateZ;\nexports.rotateByQuatAppend = rotateByQuatAppend;\nexports.rotateByQuatPrepend = rotateByQuatPrepend;\nexports.rotateAroundAxis = rotateAroundAxis;\nexports.add = add;\nexports.multiply = multiply;\nexports.scale = scale;\nexports.lerp = lerp;\nexports.invert = invert;\nexports.conjugate = conjugate;\nexports.normalize = normalize;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\nexports.sqrLen = exports.squaredLength = exports.len = exports.length = exports.dot = exports.mul = exports.setReal = exports.getReal = void 0;\n\nvar glMatrix = _interopRequireWildcard(require(\"./common.js\"));\n\nvar quat = _interopRequireWildcard(require(\"./quat.js\"));\n\nvar mat4 = _interopRequireWildcard(require(\"./mat4.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\r\n * Dual Quaternion<br>\r\n * Format: [real, dual]<br>\r\n * Quaternion format: XYZW<br>\r\n * Make sure to have normalized dual quaternions, otherwise the functions may not work as intended.<br>\r\n * @module quat2\r\n */\n\n/**\r\n * Creates a new identity dual quat\r\n *\r\n * @returns {quat2} a new dual quaternion [real -> rotation, dual -> translation]\r\n */\nfunction create() {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    dq[0] = 0;\n    dq[1] = 0;\n    dq[2] = 0;\n    dq[4] = 0;\n    dq[5] = 0;\n    dq[6] = 0;\n    dq[7] = 0;\n  }\n\n  dq[3] = 1;\n  return dq;\n}\n/**\r\n * Creates a new quat initialized with values from an existing quaternion\r\n *\r\n * @param {ReadonlyQuat2} a dual quaternion to clone\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\n\nfunction clone(a) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = a[0];\n  dq[1] = a[1];\n  dq[2] = a[2];\n  dq[3] = a[3];\n  dq[4] = a[4];\n  dq[5] = a[5];\n  dq[6] = a[6];\n  dq[7] = a[7];\n  return dq;\n}\n/**\r\n * Creates a new dual quat initialized with the given values\r\n *\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component\r\n * @param {Number} y2 Y component\r\n * @param {Number} z2 Z component\r\n * @param {Number} w2 W component\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\n\nfunction fromValues(x1, y1, z1, w1, x2, y2, z2, w2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  dq[4] = x2;\n  dq[5] = y2;\n  dq[6] = z2;\n  dq[7] = w2;\n  return dq;\n}\n/**\r\n * Creates a new dual quat from the given values (quat and translation)\r\n *\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component (translation)\r\n * @param {Number} y2 Y component (translation)\r\n * @param {Number} z2 Z component (translation)\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\n\nfunction fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  var ax = x2 * 0.5,\n      ay = y2 * 0.5,\n      az = z2 * 0.5;\n  dq[4] = ax * w1 + ay * z1 - az * y1;\n  dq[5] = ay * w1 + az * x1 - ax * z1;\n  dq[6] = az * w1 + ax * y1 - ay * x1;\n  dq[7] = -ax * x1 - ay * y1 - az * z1;\n  return dq;\n}\n/**\r\n * Creates a dual quat from a quaternion and a translation\r\n *\r\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\r\n * @param {ReadonlyQuat} q a normalized quaternion\r\n * @param {ReadonlyVec3} t tranlation vector\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\n\nfunction fromRotationTranslation(out, q, t) {\n  var ax = t[0] * 0.5,\n      ay = t[1] * 0.5,\n      az = t[2] * 0.5,\n      bx = q[0],\n      by = q[1],\n      bz = q[2],\n      bw = q[3];\n  out[0] = bx;\n  out[1] = by;\n  out[2] = bz;\n  out[3] = bw;\n  out[4] = ax * bw + ay * bz - az * by;\n  out[5] = ay * bw + az * bx - ax * bz;\n  out[6] = az * bw + ax * by - ay * bx;\n  out[7] = -ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Creates a dual quat from a translation\r\n *\r\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\r\n * @param {ReadonlyVec3} t translation vector\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\n\nfunction fromTranslation(out, t) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = t[0] * 0.5;\n  out[5] = t[1] * 0.5;\n  out[6] = t[2] * 0.5;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Creates a dual quat from a quaternion\r\n *\r\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\r\n * @param {ReadonlyQuat} q the quaternion\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\n\nfunction fromRotation(out, q) {\n  out[0] = q[0];\n  out[1] = q[1];\n  out[2] = q[2];\n  out[3] = q[3];\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Creates a new dual quat from a matrix (4x4)\r\n *\r\n * @param {quat2} out the dual quaternion\r\n * @param {ReadonlyMat4} a the matrix\r\n * @returns {quat2} dual quat receiving operation result\r\n * @function\r\n */\n\n\nfunction fromMat4(out, a) {\n  //TODO Optimize this\n  var outer = quat.create();\n  mat4.getRotation(outer, a);\n  var t = new glMatrix.ARRAY_TYPE(3);\n  mat4.getTranslation(t, a);\n  fromRotationTranslation(out, outer, t);\n  return out;\n}\n/**\r\n * Copy the values from one dual quat to another\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the source dual quaternion\r\n * @returns {quat2} out\r\n * @function\r\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\r\n * Set a dual quat to the identity dual quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @returns {quat2} out\r\n */\n\n\nfunction identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Set the components of a dual quat to the given values\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component\r\n * @param {Number} y2 Y component\r\n * @param {Number} z2 Z component\r\n * @param {Number} w2 W component\r\n * @returns {quat2} out\r\n * @function\r\n */\n\n\nfunction set(out, x1, y1, z1, w1, x2, y2, z2, w2) {\n  out[0] = x1;\n  out[1] = y1;\n  out[2] = z1;\n  out[3] = w1;\n  out[4] = x2;\n  out[5] = y2;\n  out[6] = z2;\n  out[7] = w2;\n  return out;\n}\n/**\r\n * Gets the real part of a dual quat\r\n * @param  {quat} out real part\r\n * @param  {ReadonlyQuat2} a Dual Quaternion\r\n * @return {quat} real part\r\n */\n\n\nvar getReal = quat.copy;\n/**\r\n * Gets the dual part of a dual quat\r\n * @param  {quat} out dual part\r\n * @param  {ReadonlyQuat2} a Dual Quaternion\r\n * @return {quat} dual part\r\n */\n\nexports.getReal = getReal;\n\nfunction getDual(out, a) {\n  out[0] = a[4];\n  out[1] = a[5];\n  out[2] = a[6];\n  out[3] = a[7];\n  return out;\n}\n/**\r\n * Set the real component of a dual quat to the given quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {ReadonlyQuat} q a quaternion representing the real part\r\n * @returns {quat2} out\r\n * @function\r\n */\n\n\nvar setReal = quat.copy;\n/**\r\n * Set the dual component of a dual quat to the given quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {ReadonlyQuat} q a quaternion representing the dual part\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexports.setReal = setReal;\n\nfunction setDual(out, q) {\n  out[4] = q[0];\n  out[5] = q[1];\n  out[6] = q[2];\n  out[7] = q[3];\n  return out;\n}\n/**\r\n * Gets the translation of a normalized dual quat\r\n * @param  {vec3} out translation\r\n * @param  {ReadonlyQuat2} a Dual Quaternion to be decomposed\r\n * @return {vec3} translation\r\n */\n\n\nfunction getTranslation(out, a) {\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3];\n  out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n  out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n  out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  return out;\n}\n/**\r\n * Translates a dual quat by the given vector\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the dual quaternion to translate\r\n * @param {ReadonlyVec3} v vector to translate by\r\n * @returns {quat2} out\r\n */\n\n\nfunction translate(out, a, v) {\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3],\n      bx1 = v[0] * 0.5,\n      by1 = v[1] * 0.5,\n      bz1 = v[2] * 0.5,\n      ax2 = a[4],\n      ay2 = a[5],\n      az2 = a[6],\n      aw2 = a[7];\n  out[0] = ax1;\n  out[1] = ay1;\n  out[2] = az1;\n  out[3] = aw1;\n  out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;\n  out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;\n  out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;\n  out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the X axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\n\nfunction rotateX(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateX(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the Y axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\n\nfunction rotateY(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateY(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the Z axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\n\nfunction rotateZ(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateZ(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat by a given quaternion (a * q)\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\r\n * @param {ReadonlyQuat} q quaternion to rotate by\r\n * @returns {quat2} out\r\n */\n\n\nfunction rotateByQuatAppend(out, a, q) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  out[0] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[1] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[2] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[3] = aw * qw - ax * qx - ay * qy - az * qz;\n  ax = a[4];\n  ay = a[5];\n  az = a[6];\n  aw = a[7];\n  out[4] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[5] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[6] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[7] = aw * qw - ax * qx - ay * qy - az * qz;\n  return out;\n}\n/**\r\n * Rotates a dual quat by a given quaternion (q * a)\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat} q quaternion to rotate by\r\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\r\n * @returns {quat2} out\r\n */\n\n\nfunction rotateByQuatPrepend(out, q, a) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      bx = a[0],\n      by = a[1],\n      bz = a[2],\n      bw = a[3];\n  out[0] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[1] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[2] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[3] = qw * bw - qx * bx - qy * by - qz * bz;\n  bx = a[4];\n  by = a[5];\n  bz = a[6];\n  bw = a[7];\n  out[4] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[5] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[6] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[7] = qw * bw - qx * bx - qy * by - qz * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around a given axis. Does the normalisation automatically\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @param {Number} rad how far the rotation should be\r\n * @returns {quat2} out\r\n */\n\n\nfunction rotateAroundAxis(out, a, axis, rad) {\n  //Special case for rad = 0\n  if (Math.abs(rad) < glMatrix.EPSILON) {\n    return copy(out, a);\n  }\n\n  var axisLength = Math.hypot(axis[0], axis[1], axis[2]);\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  var bx = s * axis[0] / axisLength;\n  var by = s * axis[1] / axisLength;\n  var bz = s * axis[2] / axisLength;\n  var bw = Math.cos(rad);\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3];\n  out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  out[4] = ax * bw + aw * bx + ay * bz - az * by;\n  out[5] = ay * bw + aw * by + az * bx - ax * bz;\n  out[6] = az * bw + aw * bz + ax * by - ay * bx;\n  out[7] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Adds two dual quat's\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the first operand\r\n * @param {ReadonlyQuat2} b the second operand\r\n * @returns {quat2} out\r\n * @function\r\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  return out;\n}\n/**\r\n * Multiplies two dual quat's\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the first operand\r\n * @param {ReadonlyQuat2} b the second operand\r\n * @returns {quat2} out\r\n */\n\n\nfunction multiply(out, a, b) {\n  var ax0 = a[0],\n      ay0 = a[1],\n      az0 = a[2],\n      aw0 = a[3],\n      bx1 = b[4],\n      by1 = b[5],\n      bz1 = b[6],\n      bw1 = b[7],\n      ax1 = a[4],\n      ay1 = a[5],\n      az1 = a[6],\n      aw1 = a[7],\n      bx0 = b[0],\n      by0 = b[1],\n      bz0 = b[2],\n      bw0 = b[3];\n  out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;\n  out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;\n  out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;\n  out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;\n  out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;\n  out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;\n  out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;\n  out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;\n  return out;\n}\n/**\r\n * Alias for {@link quat2.multiply}\r\n * @function\r\n */\n\n\nvar mul = multiply;\n/**\r\n * Scales a dual quat by a scalar number\r\n *\r\n * @param {quat2} out the receiving dual quat\r\n * @param {ReadonlyQuat2} a the dual quat to scale\r\n * @param {Number} b amount to scale the dual quat by\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexports.mul = mul;\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  return out;\n}\n/**\r\n * Calculates the dot product of two dual quat's (The dot product of the real parts)\r\n *\r\n * @param {ReadonlyQuat2} a the first operand\r\n * @param {ReadonlyQuat2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n * @function\r\n */\n\n\nvar dot = quat.dot;\n/**\r\n * Performs a linear interpolation between two dual quats's\r\n * NOTE: The resulting dual quaternions won't always be normalized (The error is most noticeable when t = 0.5)\r\n *\r\n * @param {quat2} out the receiving dual quat\r\n * @param {ReadonlyQuat2} a the first operand\r\n * @param {ReadonlyQuat2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat2} out\r\n */\n\nexports.dot = dot;\n\nfunction lerp(out, a, b, t) {\n  var mt = 1 - t;\n  if (dot(a, b) < 0) t = -t;\n  out[0] = a[0] * mt + b[0] * t;\n  out[1] = a[1] * mt + b[1] * t;\n  out[2] = a[2] * mt + b[2] * t;\n  out[3] = a[3] * mt + b[3] * t;\n  out[4] = a[4] * mt + b[4] * t;\n  out[5] = a[5] * mt + b[5] * t;\n  out[6] = a[6] * mt + b[6] * t;\n  out[7] = a[7] * mt + b[7] * t;\n  return out;\n}\n/**\r\n * Calculates the inverse of a dual quat. If they are normalized, conjugate is cheaper\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a dual quat to calculate inverse of\r\n * @returns {quat2} out\r\n */\n\n\nfunction invert(out, a) {\n  var sqlen = squaredLength(a);\n  out[0] = -a[0] / sqlen;\n  out[1] = -a[1] / sqlen;\n  out[2] = -a[2] / sqlen;\n  out[3] = a[3] / sqlen;\n  out[4] = -a[4] / sqlen;\n  out[5] = -a[5] / sqlen;\n  out[6] = -a[6] / sqlen;\n  out[7] = a[7] / sqlen;\n  return out;\n}\n/**\r\n * Calculates the conjugate of a dual quat\r\n * If the dual quaternion is normalized, this function is faster than quat2.inverse and produces the same result.\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {ReadonlyQuat2} a quat to calculate conjugate of\r\n * @returns {quat2} out\r\n */\n\n\nfunction conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  out[4] = -a[4];\n  out[5] = -a[5];\n  out[6] = -a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\r\n * Calculates the length of a dual quat\r\n *\r\n * @param {ReadonlyQuat2} a dual quat to calculate length of\r\n * @returns {Number} length of a\r\n * @function\r\n */\n\n\nvar length = quat.length;\n/**\r\n * Alias for {@link quat2.length}\r\n * @function\r\n */\n\nexports.length = length;\nvar len = length;\n/**\r\n * Calculates the squared length of a dual quat\r\n *\r\n * @param {ReadonlyQuat2} a dual quat to calculate squared length of\r\n * @returns {Number} squared length of a\r\n * @function\r\n */\n\nexports.len = len;\nvar squaredLength = quat.squaredLength;\n/**\r\n * Alias for {@link quat2.squaredLength}\r\n * @function\r\n */\n\nexports.squaredLength = squaredLength;\nvar sqrLen = squaredLength;\n/**\r\n * Normalize a dual quat\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a dual quaternion to normalize\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexports.sqrLen = sqrLen;\n\nfunction normalize(out, a) {\n  var magnitude = squaredLength(a);\n\n  if (magnitude > 0) {\n    magnitude = Math.sqrt(magnitude);\n    var a0 = a[0] / magnitude;\n    var a1 = a[1] / magnitude;\n    var a2 = a[2] / magnitude;\n    var a3 = a[3] / magnitude;\n    var b0 = a[4];\n    var b1 = a[5];\n    var b2 = a[6];\n    var b3 = a[7];\n    var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;\n    out[0] = a0;\n    out[1] = a1;\n    out[2] = a2;\n    out[3] = a3;\n    out[4] = (b0 - a0 * a_dot_b) / magnitude;\n    out[5] = (b1 - a1 * a_dot_b) / magnitude;\n    out[6] = (b2 - a2 * a_dot_b) / magnitude;\n    out[7] = (b3 - a3 * a_dot_b) / magnitude;\n  }\n\n  return out;\n}\n/**\r\n * Returns a string representation of a dual quatenion\r\n *\r\n * @param {ReadonlyQuat2} a dual quaternion to represent as a string\r\n * @returns {String} string representation of the dual quat\r\n */\n\n\nfunction str(a) {\n  return \"quat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \")\";\n}\n/**\r\n * Returns whether or not the dual quaternions have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyQuat2} a the first dual quaternion.\r\n * @param {ReadonlyQuat2} b the second dual quaternion.\r\n * @returns {Boolean} true if the dual quaternions are equal, false otherwise.\r\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];\n}\n/**\r\n * Returns whether or not the dual quaternions have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyQuat2} a the first dual quat.\r\n * @param {ReadonlyQuat2} b the second dual quat.\r\n * @returns {Boolean} true if the dual quats are equal, false otherwise.\r\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7));\n}",
        "\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = create;\nexports.clone = clone;\nexports.fromValues = fromValues;\nexports.copy = copy;\nexports.set = set;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiply = multiply;\nexports.divide = divide;\nexports.ceil = ceil;\nexports.floor = floor;\nexports.min = min;\nexports.max = max;\nexports.round = round;\nexports.scale = scale;\nexports.scaleAndAdd = scaleAndAdd;\nexports.distance = distance;\nexports.squaredDistance = squaredDistance;\nexports.length = length;\nexports.squaredLength = squaredLength;\nexports.negate = negate;\nexports.inverse = inverse;\nexports.normalize = normalize;\nexports.dot = dot;\nexports.cross = cross;\nexports.lerp = lerp;\nexports.random = random;\nexports.transformMat2 = transformMat2;\nexports.transformMat2d = transformMat2d;\nexports.transformMat3 = transformMat3;\nexports.transformMat4 = transformMat4;\nexports.rotate = rotate;\nexports.angle = angle;\nexports.zero = zero;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\nexports.forEach = exports.sqrLen = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = exports.len = void 0;\n\nvar glMatrix = _interopRequireWildcard(require(\"./common.js\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\n\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\n\nfunction fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\n\nfunction set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\n\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\n\nfunction distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\n\nfunction length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\n\nfunction squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\n\nfunction normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\n\nfunction cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\n\nfunction random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\n\nfunction transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\n\nfunction transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\n\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\n\nfunction transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {ReadonlyVec2} a The vec2 point to rotate\r\n * @param {ReadonlyVec2} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec2} out\r\n */\n\n\nfunction rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {ReadonlyVec2} a The first operand\r\n * @param {ReadonlyVec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\n\nfunction angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\n\nfunction zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\n\nfunction str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\n\nvar len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexports.len = len;\nvar sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexports.sub = sub;\nvar mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexports.mul = mul;\nvar div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexports.div = div;\nvar dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexports.dist = dist;\nvar sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexports.sqrDist = sqrDist;\nvar sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexports.sqrLen = sqrLen;\n\nvar forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();\n\nexports.forEach = forEach;",
        "\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.vec4 = exports.vec3 = exports.vec2 = exports.quat2 = exports.quat = exports.mat4 = exports.mat3 = exports.mat2d = exports.mat2 = exports.glMatrix = void 0;\n\nvar glMatrix = _interopRequireWildcard(require(\"./common.js\"));\n\nexports.glMatrix = glMatrix;\n\nvar mat2 = _interopRequireWildcard(require(\"./mat2.js\"));\n\nexports.mat2 = mat2;\n\nvar mat2d = _interopRequireWildcard(require(\"./mat2d.js\"));\n\nexports.mat2d = mat2d;\n\nvar mat3 = _interopRequireWildcard(require(\"./mat3.js\"));\n\nexports.mat3 = mat3;\n\nvar mat4 = _interopRequireWildcard(require(\"./mat4.js\"));\n\nexports.mat4 = mat4;\n\nvar quat = _interopRequireWildcard(require(\"./quat.js\"));\n\nexports.quat = quat;\n\nvar quat2 = _interopRequireWildcard(require(\"./quat2.js\"));\n\nexports.quat2 = quat2;\n\nvar vec2 = _interopRequireWildcard(require(\"./vec2.js\"));\n\nexports.vec2 = vec2;\n\nvar vec3 = _interopRequireWildcard(require(\"./vec3.js\"));\n\nexports.vec3 = vec3;\n\nvar vec4 = _interopRequireWildcard(require(\"./vec4.js\"));\n\nexports.vec4 = vec4;\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }",
        "/**\r\n * Sets up the 8thwall pipeline and retrieves tracking events to place an\r\n * object at the location of the tracked AR camera / mobile device.\r\n *\r\n * Use this for SLAM tracking based on 8thwall.\r\n *\r\n * Make sure to enable 8thwall in \"Project Settings\" > \"AR\". See also the\r\n * [AR Getting Started Guide](/getting-started/quick-start-ar). */\r\nWL.registerComponent('8thwall-camera', {\r\n    /** Choose front/back camera */\r\n    camera: {type: WL.Type.Enum, values: ['auto', 'back', 'front'], default: 'auto'},\r\n}, {\r\n    name: 'wonderland-engine',\r\n\r\n    init: function() {\r\n        this.position = [0, 0, 0, 0];\r\n        this.rotation = [0, 0, 0, 0];\r\n        this.started = false;\r\n\r\n        const vals = ['auto', 'back', 'front'];\r\n        this.camera = vals[this.camera];\r\n        if(this.camera == 'auto') {\r\n            this.camera = 'back';\r\n        }\r\n\r\n        this.onStart = this.onStart.bind(this);\r\n        this.onUpdate = this.onUpdate.bind(this);\r\n\r\n        XR8.addCameraPipelineModules([\r\n            /* Draw the camera feed */\r\n            XR8.GlTextureRenderer.pipelineModule(),\r\n            XR8.XrController.pipelineModule(),\r\n            this,\r\n        ]);\r\n\r\n        if(this.camera == 'back') {\r\n            XR8.run({canvas: Module['canvas'], ownRunLoop: false});\r\n\r\n        } else if(this.camera == 'back') {\r\n            XR8.XrController.configure({disableWorldTracking: true});\r\n            XR8.run({canvas: Module['canvas'], ownRunLoop: false, cameraConfig: {\r\n                direction: XR8.XrConfig.camera().FRONT\r\n            }});\r\n        } else {\r\n            console.error(\"[8thwall-camera] Invalid camera setting:\", this.camera);\r\n        }\r\n    },\r\n\r\n    update: function() {\r\n        if(this.started) {\r\n            if(WL.scene.onPostRender.length == 0) {\r\n                WL.scene.onPreRender.push(function() {\r\n                    XR8.runPreRender(Date.now());\r\n                    _wl_reset_context();\r\n                });\r\n                WL.scene.onPostRender.push(function() {\r\n                    XR8.runPostRender(Date.now());\r\n                    //_wl_reset_context();\r\n                });\r\n            }\r\n\r\n            if(this.rotation[0] == 0 && this.rotation[1] == 0 &&\r\n                this.rotation[2] == 0 && this.rotation[3] == 0) {\r\n                return;\r\n            }\r\n\r\n            /* Apply the transform retrieved from 8thwall */\r\n            this.object.resetTransform();\r\n            this.object.rotate(this.rotation);\r\n            this.object.translate(this.position);\r\n        }\r\n    },\r\n\r\n    /* XR8 CameraPipelineModule functions\r\n     * See: https://www.8thwall.com/docs/web/#camerapipelinemodule */\r\n    onUpdate: function(data) {\r\n        if (!data.processCpuResult.reality) return;\r\n        let r = data.processCpuResult.reality.rotation;\r\n        this.rotation[0] = r.x;\r\n        this.rotation[1] = r.y;\r\n        this.rotation[2] = r.z;\r\n        this.rotation[3] = r.w;\r\n        let p = data.processCpuResult.reality.position;\r\n        this.position[0] = p.x;\r\n        this.position[1] = p.y;\r\n        this.position[2] = p.z;\r\n    },\r\n\r\n    onStart: function() {\r\n        this.started = true;\r\n    }\r\n});\r\n",
        "/**\r\n * Click/hover/move/button target for [cursor](#cursor).\r\n *\r\n * To trigger code when clicking, hovering, unhovering, moving cursor, pressing\r\n * cursor button or releasing cursor button, use `.addClickFunction(f)`,\r\n * `.addHoverFunction(f)`, `.addUnHoverFunction(f)`,\r\n * `.addMoveFunction(f)`, `.addDownFunction(f)` and\r\n * `.addUpFunction(f)` respectively with any `function f() {}`.\r\n *\r\n * To call members on a different component, you can set up a cursor target like\r\n * so:\r\n *\r\n * ```js\r\n * start: function() {\r\n *   let target = this.object.addComponent('cursor-target');\r\n *   target.addClickFunction(this.onClick.bind(this));\r\n * },\r\n * onClick: function() {\r\n *   console.log(this.object.name, \"was clicked!\");\r\n * }\r\n * ```\r\n * **Functions:**\r\n *\r\n * ```js\r\n * callback = function(object, cursorComponent) {};\r\n *\r\n * addHoverFunction(callback);\r\n * removeHoverFunction(callback);\r\n *\r\n * addUnHoverFunction(callback);\r\n * removeUnHoverFunction(callback);\r\n *\r\n * addClickFunction(callback);\r\n * removeClickFunction(callback);\r\n *\r\n * addMoveFunction(callback);\r\n * removeMoveFunction(callback);\r\n *\r\n * addDownFunction(callback);\r\n * removeDownFunction(callback);\r\n *\r\n * addUpFunction(callback);\r\n * removeUpFunction(callback);\r\n * ```\r\n *\r\n * **Requirements:**\r\n * - a `collision` component to be attached to the same object.\r\n *\r\n * See [Animation Example](/showcase/animation).\r\n */\r\nWL.registerComponent(\"cursor-target\", {\r\n  }, {\r\n    init: function () {\r\n      this.hoverFunctions = [];\r\n      this.unHoverFunctions = [];\r\n      this.clickFunctions = [];\r\n      this.moveFunctions = [];\r\n      this.downFunctions = [];\r\n      this.upFunctions = [];\r\n    },\r\n    onHover: function(object, cursor) {\r\n        for(let f of this.hoverFunctions) f(object, cursor);\r\n    },\r\n    onUnhover: function(object, cursor) {\r\n        for(let f of this.unHoverFunctions) f(object, cursor);\r\n    },\r\n    onClick: function(object, cursor) {\r\n        for(let f of this.clickFunctions) f(object, cursor);\r\n    },\r\n    onMove: function(object, cursor) {\r\n        for(let f of this.moveFunctions) f(object, cursor);\r\n    },\r\n    onDown: function(object, cursor) {\r\n        for(let f of this.downFunctions) f(object, cursor);\r\n    },\r\n    onUp: function(object, cursor) {\r\n        for(let f of this.upFunctions) f(object, cursor);\r\n    },\r\n    addHoverFunction: function(f) {\r\n        this._validateCallback(f);\r\n        this.hoverFunctions.push(f);\r\n    },\r\n    removeHoverFunction: function(f) {\r\n        this._validateCallback(f);\r\n        this._removeItemOnce(this.hoverFunctions, f);\r\n    },\r\n    addUnHoverFunction: function(f) {\r\n        this._validateCallback(f);\r\n        this.unHoverFunctions.push(f);\r\n    },\r\n    removeUnHoverFunction: function(f) {\r\n        this._validateCallback(f);\r\n        this._removeItemOnce(this.unHoverFunctions, f);\r\n    },\r\n    addClickFunction: function(f) {\r\n        this._validateCallback(f);\r\n        this.clickFunctions.push(f);\r\n    },\r\n    removeClickFunction: function(f) {\r\n        this._validateCallback(f);\r\n        this._removeItemOnce(this.clickFunctions, f);\r\n    },\r\n    addMoveFunction: function(f) {\r\n        this._validateCallback(f);\r\n        this.moveFunctions.push(f);\r\n    },\r\n    removeMoveFunction: function(f) {\r\n        this._validateCallback(f);\r\n        this._removeItemOnce(this.moveFunctions, f);\r\n    },\r\n    addDownFunction: function(f) {\r\n        this._validateCallback(f);\r\n        this.downFunctions.push(f);\r\n    },\r\n    removeDownFunction: function(f) {\r\n        this._validateCallback(f);\r\n        this._removeItemOnce(this.downFunctions, f);\r\n    },\r\n    addUpFunction: function(f) {\r\n        this._validateCallback(f);\r\n        this.upFunctions.push(f);\r\n    },\r\n    removeUpFunction: function(f) {\r\n        this._validateCallback(f);\r\n        this._removeItemOnce(this.upFunctions, f);\r\n    },\r\n\r\n    _removeItemOnce: function(arr, value) {\r\n        var index = arr.indexOf(value);\r\n        if(index > -1) arr.splice(index, 1);\r\n        return arr;\r\n    },\r\n    _validateCallback: function(f) {\r\n        if(typeof f !== \"function\") {\r\n            throw new TypeError(this.object.name\r\n                + \".cursor-target: Argument needs to be a function\");\r\n        }\r\n    },\r\n});\r\n\r\n",
        "import {vec3, mat4} from 'gl-matrix';\r\n/**\r\n * 3D cursor for desktop/mobile/VR.\r\n *\r\n * Implements a ray-casting cursor into the scene. To react to\r\n * clicking/hover/unhover/cursor down/cursor up/move use a\r\n * [cursor-target](#cursor-target).\r\n *\r\n * For VR, the ray is cast in direction of\r\n * [this.object.getForward()](/jsapi/object/#getforward). For desktop and mobile, the\r\n * forward vector is inverse-projected to account for where on screen the user clicked.\r\n *\r\n * `.globalTarget` can be used to call callbacks for all objects, even those that\r\n * do not have a cursor target attached, but match the collision group.\r\n *\r\n * See [Animation Example](/showcase/animation).\r\n */\r\nWL.registerComponent('cursor', {\r\n    /** Collision group for the ray cast. Only objects in this group will be affected by this cursor. */\r\n    collisionGroup: {type: WL.Type.Int, default: 1},\r\n    /** (optional) Object that visualizes the cursor's ray. */\r\n    cursorRayObject: {type: WL.Type.Object},\r\n    /** Axis along which to scale the `cursorRayObject`. */\r\n    cursorRayScalingAxis: {type: WL.Type.Enum, values: ['x', 'y', 'z', 'none'], default: 'z'},\r\n    /** (optional) Object that visualizes the cursor's hit location. */\r\n    cursorObject: {type: WL.Type.Object},\r\n    /** Handedness for VR cursors to accept trigger events only from respective controller. */\r\n    handedness: {type: WL.Type.Enum, values: ['input component', 'left', 'right', 'none'], default: 'input component'},\r\n    /** Mode for raycasting, whether to use PhysX or simple collision components */\r\n    rayCastMode: {type: WL.Type.Enum, values: ['collision', 'physx'], default: 'collision'},\r\n    /** Whether to set the CSS style of the mouse cursor on desktop */\r\n    styleCursor: {type: WL.Type.Bool, default: true},\r\n  }, {\r\n    init: function() {\r\n        /* VR session cache, in case in VR */\r\n        this.session = null;\r\n        this.collisionMask = (1 << this.collisionGroup);\r\n        this.maxDistance = 100;\r\n    },\r\n    start: function() {\r\n        if(this.handedness == 0) {\r\n            const inputComp = this.object.getComponent('input');\r\n            if(!inputComp) {\r\n                console.warn('cursor component on object', this.object.name,\r\n                    'was configured with handedness \"input component\", ' +\r\n                    'but object has no input component.');\r\n            } else {\r\n                this.handedness = inputComp.handedness;\r\n                this.input = inputComp;\r\n            }\r\n        } else {\r\n            this.handedness = ['left', 'right'][this.handedness - 1];\r\n        }\r\n\r\n        this.globalTarget = this.object.addComponent('cursor-target');\r\n\r\n        this.origin = new Float32Array(3);\r\n        this.cursorObjScale = new Float32Array(3);\r\n        this.direction = [0, 0, 0];\r\n        this.tempQuat = new Float32Array(4);\r\n        this.viewComponent = this.object.getComponent(\"view\");\r\n        /* If this object also has a view component, we will enable inverse-projected mouse clicks,\r\n         * otherwise just use the objects transformation */\r\n        if(this.viewComponent != null) {\r\n            WL.canvas.addEventListener(\"click\", this.onClick.bind(this));\r\n            WL.canvas.addEventListener(\"pointermove\", this.onPointerMove.bind(this));\r\n            WL.canvas.addEventListener(\"pointerdown\", this.onPointerDown.bind(this));\r\n            WL.canvas.addEventListener(\"pointerup\", this.onPointerUp.bind(this));\r\n\r\n            this.projectionMatrix = new Float32Array(16);\r\n            mat4.invert(this.projectionMatrix, this.viewComponent.projectionMatrix);\r\n            window.addEventListener(\"resize\", this.onViewportResize.bind(this));\r\n        }\r\n        this.isHovering = false;\r\n        this.visible = true;\r\n        this.isDown = false;\r\n        this.lastIsDown = false;\r\n\r\n        this.cursorPos = new Float32Array(3);\r\n        this.hoveringObject = null;\r\n\r\n        WL.onXRSessionStart.push(this.setupVREvents.bind(this));\r\n\r\n        if(this.cursorRayObject) {\r\n            this.cursorRayScale = new Float32Array(3);\r\n            this.cursorRayScale.set(this.cursorRayObject.scalingLocal);\r\n\r\n            /* Set ray to a good default distance of the cursor of 1m */\r\n            this.object.getTranslationWorld(this.origin);\r\n            this.object.getForward(this.direction);\r\n            this._setCursorRayTransform([\r\n                this.origin[0] + this.direction[0],\r\n                this.origin[1] + this.direction[1],\r\n                this.origin[2] + this.direction[2]]);\r\n        }\r\n    },\r\n    onViewportResize: function() {\r\n        if(!this.viewComponent) return;\r\n        /* Projection matrix will change if the viewport is resized, which will affect the\r\n         * projection matrix because of the aspect ratio. */\r\n        mat4.invert(this.projectionMatrix, this.viewComponent.projectionMatrix);\r\n    },\r\n\r\n    _setCursorRayTransform: function(hitPosition) {\r\n        if(!this.cursorRayObject) return;\r\n        const dist = vec3.dist(this.origin, hitPosition);\r\n        this.cursorRayObject.setTranslationLocal([0.0, 0.0, -dist / 2]);\r\n        if(this.cursorRayScalingAxis != 4) {\r\n            this.cursorRayObject.resetScaling();\r\n            this.cursorRayScale[this.cursorRayScalingAxis] = dist/2;\r\n            this.cursorRayObject.scale(this.cursorRayScale);\r\n        }\r\n    },\r\n\r\n    _setCursorVisibility: function(visible) {\r\n        if(this.visible == visible) return;\r\n        this.visible = visible;\r\n        if(!this.cursorObject) return;\r\n\r\n        if(visible) {\r\n            this.cursorObject.resetScaling();\r\n            this.cursorObject.scale(this.cursorObjScale);\r\n        } else {\r\n            this.cursorObjScale.set(this.cursorObject.scalingLocal);\r\n            this.cursorObject.scale([0, 0, 0]);\r\n        }\r\n    },\r\n\r\n    update: function() {\r\n        this.doUpdate(false);\r\n    },\r\n\r\n    doUpdate: function(doClick) {\r\n        /* If in VR, set the cursor ray based on object transform */\r\n        if(this.session) {\r\n            /* Since Google Cardboard tap is registered as arTouchDown without a gamepad, we need to check for gamepad presence */\r\n            if(this.arTouchDown && this.input && WL.xrSession.inputSources[0].handedness === 'none' && WL.xrSession.inputSources[0].gamepad) {\r\n                const p = WL.xrSession.inputSources[0].gamepad.axes;\r\n                /* Screenspace Y is inverted */\r\n                this.direction = [p[0], -p[1], -1.0];\r\n                this.updateDirection();\r\n            } else {\r\n                this.object.getTranslationWorld(this.origin);\r\n                this.object.getForward(this.direction);\r\n            }\r\n            const rayHit = this.rayHit = (this.rayCastMode == 0) ?\r\n                WL.scene.rayCast(this.origin, this.direction, this.collisionMask) :\r\n                WL.physics.rayCast(this.origin, this.direction, this.collisionMask, this.maxDistance);\r\n\r\n            if(rayHit.hitCount > 0) {\r\n                this.cursorPos.set(rayHit.locations[0]);\r\n            } else {\r\n                this.cursorPos.fill(0);\r\n            }\r\n\r\n            this.hoverBehaviour(rayHit, doClick);\r\n        }\r\n\r\n        if(this.cursorObject) {\r\n            if(this.hoveringObject && (this.cursorPos[0] != 0 || this.cursorPos[1] != 0 || this.cursorPos[2] != 0)) {\r\n                this._setCursorVisibility(true);\r\n                this.cursorObject.setTranslationWorld(this.cursorPos);\r\n                this._setCursorRayTransform(this.cursorPos);\r\n            } else {\r\n                this._setCursorVisibility(false);\r\n            }\r\n        }\r\n    },\r\n\r\n    hoverBehaviour: function(rayHit, doClick) {\r\n        if(rayHit.hitCount > 0) {\r\n            if(!this.hoveringObject || !this.hoveringObject.equals(rayHit.objects[0])) {\r\n                /* Unhover previous, if exists */\r\n                if(this.hoveringObject) {\r\n                    const cursorTarget = this.hoveringObject.getComponent(\"cursor-target\");\r\n                    if(cursorTarget) cursorTarget.onUnhover(this.hoveringObject, this);\r\n                    this.globalTarget.onUnhover(this.hoveringObject, this);\r\n                }\r\n\r\n                /* Hover new object */\r\n                this.hoveringObject = rayHit.objects[0];\r\n                if(this.styleCursor) WL.canvas.style.cursor = \"pointer\";\r\n\r\n                let cursorTarget = this.hoveringObject.getComponent(\"cursor-target\");\r\n                if(cursorTarget) {\r\n                    this.hoveringObjectTarget = cursorTarget;\r\n                    cursorTarget.onHover(this.hoveringObject, this);\r\n                }\r\n                this.globalTarget.onHover(this.hoveringObject, this);\r\n            }\r\n\r\n            if(this.hoveringObjectTarget) {\r\n                this.hoveringObjectTarget.onMove(this.hoveringObject, this);\r\n            }\r\n\r\n            /* Cursor up/down */\r\n            const cursorTarget = this.hoveringObject.getComponent(\"cursor-target\");\r\n            if(this.isDown !== this.lastIsDown) {\r\n                if(this.isDown) {\r\n                    /* Down */\r\n                    if(cursorTarget) cursorTarget.onDown(this.hoveringObject, this);\r\n                    this.globalTarget.onDown(this.hoveringObject, this);\r\n                } else {\r\n                    /* Up */\r\n                    if(cursorTarget) cursorTarget.onUp(this.hoveringObject, this);\r\n                    this.globalTarget.onUp(this.hoveringObject, this);\r\n                }\r\n            }\r\n\r\n            /* Click */\r\n            if(doClick) {\r\n                if(cursorTarget) cursorTarget.onClick(this.hoveringObject, this);\r\n                this.globalTarget.onClick(this.hoveringObject, this);\r\n            }\r\n        } else if(this.hoveringObject && rayHit.hitCount == 0) {\r\n            const cursorTarget = this.hoveringObject.getComponent(\"cursor-target\");\r\n            if(cursorTarget) cursorTarget.onUnhover(this.hoveringObject, this);\r\n            this.globalTarget.onUnhover(this.hoveringObject, this);\r\n            this.hoveringObject = null;\r\n            this.hoveringObjectTarget = null;\r\n            if(this.styleCursor) WL.canvas.style.cursor = \"default\";\r\n        }\r\n\r\n        this.lastIsDown = this.isDown;\r\n    },\r\n\r\n    /**\r\n     * Setup event listeners on session object\r\n     * @param s WebXR session\r\n     *\r\n     * Sets up 'select' and 'end' events and caches the session to avoid\r\n     * Module object access.\r\n     */\r\n    setupVREvents: function(s) {\r\n        /* If in VR, one-time bind the listener */\r\n        this.session = s;\r\n        s.addEventListener('end', function(e) {\r\n            /* Reset cache once the session ends to rebind select etc, in case\r\n             * it starts again */\r\n            this.session = null;\r\n        }.bind(this));\r\n\r\n        s.addEventListener('select', this.onSelect.bind(this));\r\n        s.addEventListener('selectstart', this.onSelectStart.bind(this));\r\n        s.addEventListener('selectend', this.onSelectEnd.bind(this));\r\n\r\n        /* After AR session was entered, the projection matrix changed */\r\n        this.onViewportResize();\r\n    },\r\n\r\n    /** 'select' event listener */\r\n    onSelect: function(e) {\r\n        if(e.inputSource.handedness != this.handedness) return;\r\n        this.doUpdate(true);\r\n    },\r\n\r\n    /** 'selectstart' event listener */\r\n    onSelectStart: function(e) {\r\n        this.arTouchDown = true;\r\n        if(e.inputSource.handedness == this.handedness) this.isDown = true;\r\n    },\r\n\r\n    /** 'selectend' event listener */\r\n    onSelectEnd: function(e) {\r\n        this.arTouchDown = false;\r\n        if(e.inputSource.handedness == this.handedness) this.isDown = false;\r\n    },\r\n\r\n    /** 'pointermove' event listener */\r\n    onPointerMove: function (e) {\r\n        /* Don't care about secondary pointers */\r\n        if(!e.isPrimary) return;\r\n        const bounds = e.target.getBoundingClientRect();\r\n        const rayHit = this.updateMousePos(e.clientX, e.clientY, bounds.width, bounds.height);\r\n\r\n        this.hoverBehaviour(rayHit, false);\r\n    },\r\n\r\n    /** 'click' event listener */\r\n    onClick: function (e) {\r\n        const bounds = e.target.getBoundingClientRect();\r\n        const rayHit = this.updateMousePos(e.clientX, e.clientY, bounds.width, bounds.height);\r\n        this.hoverBehaviour(rayHit, true);\r\n    },\r\n\r\n    /** 'pointerdown' event listener */\r\n    onPointerDown: function (e) {\r\n        /* Don't care about secondary pointers or non-left clicks */\r\n        if(!e.isPrimary || e.button !== 0) return;\r\n        const bounds = e.target.getBoundingClientRect();\r\n        const rayHit = this.updateMousePos(e.clientX, e.clientY, bounds.width, bounds.height);\r\n        this.isDown = true;\r\n\r\n        this.hoverBehaviour(rayHit, false);\r\n    },\r\n\r\n    /** 'pointerup' event listener */\r\n    onPointerUp: function (e) {\r\n        /* Don't care about secondary pointers or non-left clicks */\r\n        if(!e.isPrimary || e.button !== 0) return;\r\n        const bounds = e.target.getBoundingClientRect();\r\n        const rayHit = this.updateMousePos(e.clientX, e.clientY, bounds.width, bounds.height);\r\n        this.isDown = false;\r\n\r\n        this.hoverBehaviour(rayHit, false);\r\n    },\r\n\r\n    /**\r\n     * Update mouse position in non-VR mode and raycast for new position\r\n     * @returns @ref WL.RayHit for new position.\r\n     */\r\n    updateMousePos: function(clientX, clientY, w, h) {\r\n        /* Get direction in normalized device coordinate space from mouse position */\r\n        const left = clientX/w;\r\n        const top = clientY/h;\r\n        this.direction = [left*2 - 1, -top*2 + 1, -1.0];\r\n        return this.updateDirection();\r\n    },\r\n\r\n    updateDirection: function() {\r\n        this.object.getTranslationWorld(this.origin);\r\n\r\n        /* Reverse-project the direction into view space */\r\n        vec3.transformMat4(this.direction, this.direction,\r\n            this.projectionMatrix);\r\n        vec3.normalize(this.direction, this.direction);\r\n        vec3.transformQuat(this.direction, this.direction, this.object.transformWorld);\r\n        const rayHit = this.rayHit = (this.rayCastMode == 0) ?\r\n            WL.scene.rayCast(this.origin, this.direction, this.collisionMask) :\r\n            WL.physics.rayCast(this.origin, this.direction, this.collisionMask, this.maxDistance);\r\n\r\n        if(rayHit.hitCount > 0) {\r\n            this.cursorPos.set(rayHit.locations[0]);\r\n        } else {\r\n            this.cursorPos.fill(0);\r\n        }\r\n\r\n        return rayHit;\r\n    },\r\n\r\n    onDeactivate: function() {\r\n        this._setCursorVisibility(false);\r\n        if(this.hoveringObject) {\r\n            const target = this.hoveringObject.getComponent('cursor-target');\r\n            if(target) target.onUnhover(this.hoveringObject, this);\r\n            this.globalTarget.onUnhover(this.hoveringObject, this);\r\n        }\r\n        if(this.cursorRayObject) this.cursorRayObject.scale([0, 0, 0]);\r\n    },\r\n\r\n    onActivate: function() {\r\n        this._setCursorVisibility(true);\r\n    },\r\n});\r\n",
        "/**\r\n * Prints some limited debug information about the object.\r\n *\r\n * Information consists of: This object's name, an object parameter's name,\r\n * the object's world translation, world transform and local transform.\r\n *\r\n * Mainly used by engine developers for debug purposes or as example code.\r\n */\r\nWL.registerComponent('debug-object', {\r\n    /** A second object to print the name of */\r\n    obj: {type: WL.Type.Object}\r\n}, {\r\n    start: function() {\r\n    },\r\n    init: function() {\r\n        let origin = [0, 0, 0];\r\n        glMatrix.quat2.getTranslation(origin, this.object.transformWorld);\r\n        console.log(\"Debug Object:\", this.object.name);\r\n        console.log(\"Other object:\", this.obj.name);\r\n        console.log(\"\\ttranslation\", origin);\r\n        console.log(\"\\ttransformWorld\", this.object.transformWorld);\r\n        console.log(\"\\ttransformLocal\", this.object.transformLocal);\r\n    },\r\n    update: function() {}\r\n});\r\n",
        "/**\r\n * Function to convert a Euler in YXZ order to a quaternion\r\n */\r\nfunction quatFromEulerYXZ (out, x, y, z) {\r\n    const c1 = Math.cos(x/2);\r\n    const c2 = Math.cos(y/2);\r\n    const c3 = Math.cos(z/2);\r\n\r\n    const s1 = Math.sin(x/2);\r\n    const s2 = Math.sin(y/2);\r\n    const s3 = Math.sin(z/2);\r\n\r\n    out[0] = s1*c2*c3 + c1*s2*s3;\r\n    out[1] = c1*s2*c3 - s1*c2*s3;\r\n    out[2] = c1*c2*s3 - s1*s2*c3;\r\n    out[3] = c1*c2*c3 + s1*s2*s3;\r\n};\r\n\r\n/**\r\n * Retrieve device orientation from a mobile device and set the object's\r\n * orientation accordingly.\r\n *\r\n * Useful for magic window experiences.\r\n */\r\nWL.registerComponent('device-orientation-look', {\r\n}, {\r\n    start: function() {\r\n        this.rotationX = 0;\r\n        this.rotationY = 0;\r\n\r\n        this.lastClientX = -1;\r\n        this.lastClientY = -1;\r\n    },\r\n    init: function() {\r\n        /* Initialize device orientation with Identity Quaternion */\r\n        this.deviceOrientation = [0, 0, 0, 1];\r\n        this.screenOrientation = 0;\r\n        this._origin = [0, 0, 0];\r\n\r\n        window.addEventListener('deviceorientation',function(e) {\r\n            let alpha = e.alpha || 0;\r\n            let beta = e.beta || 0;\r\n            let gamma = e.gamma || 0;\r\n            const toRad = Math.PI/180;\r\n            quatFromEulerYXZ(this.deviceOrientation, beta*toRad, alpha*toRad, -gamma*toRad);\r\n        }.bind(this));\r\n\r\n        window.addEventListener('orientationchange', function(e) {\r\n            this.screenOrientation = window.orientation || 0;\r\n        }.bind(this), false);\r\n    },\r\n\r\n    update: function() {\r\n        /* Don't use device orientation in VR */\r\n        if(Module['webxr_session'] != null) return;\r\n\r\n        glMatrix.quat2.getTranslation(this._origin, this.object.transformLocal);\r\n\r\n        this.object.resetTransform();\r\n        if(this.screenOrientation != 0) {\r\n            this.object.rotateAxisAngleDeg([0, 0, 1], this.screenOrientation);\r\n        }\r\n        this.object.rotate([-Math.sqrt(0.5), 0, 0, Math.sqrt(0.5)]);\r\n        this.object.rotate(this.deviceOrientation);\r\n        this.object.translate(this._origin);\r\n    }\r\n});\r\n",
        "/**\r\n * Enables interaction with cursor-targets through collision overlaps,\r\n * e.g. on the tip of a finger on a tracked hand.\r\n *\r\n * **Requirements:**\r\n *  - A collision component (usually a sphere with `0.05` radius) on the same object\r\n *\r\n * @since 0.8.5\r\n */\r\nWL.registerComponent('finger-cursor', {\r\n}, {\r\n    init: function() {\r\n        this.lastTarget = null;\r\n    },\r\n    start: function() {\r\n        this.tip = this.object.getComponent('collision');\r\n    },\r\n    update: function() {\r\n        const overlaps = this.tip.queryOverlaps();\r\n\r\n        let overlapFound = null;\r\n        for(let i = 0; i < overlaps.length; ++i) {\r\n            const o = overlaps[i].object;\r\n            const target = o.getComponent('cursor-target');\r\n            if(target) {\r\n                if(!target.equals(this.lastTarget)) {\r\n                    target.onHover(o, this);\r\n                    target.onClick(o, this);\r\n                }\r\n                overlapFound = target;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if(!overlapFound) {\r\n            if(this.lastTarget) this.lastTarget.onUnhover(this.lastTarget.object, this);\r\n            this.lastTarget = null;\r\n            return;\r\n        } else {\r\n            this.lastTarget = overlapFound;\r\n        }\r\n    },\r\n});\r\n",
        "/**\r\n * Applies [fixed foveation](https://www.w3.org/TR/webxrlayers-1/#dom-xrcompositionlayer-fixedfoveation)\r\n * once a WebXR session is started\r\n *\r\n * Fixed foveation reduces shading cost at the periphery by rendering at lower resolutions at the\r\n * edges of the users vision.\r\n */\r\nWL.registerComponent('fixed-foveation', {\r\n    /** Amount to apply from 0 (none) to 1 (full) */\r\n    fixedFoveation: {type: WL.Type.Float, default: 0.5},\r\n}, {\r\n    start: function() {\r\n        if(WL.xrSession) {\r\n            this.setFixedFoveation();\r\n        } else {\r\n            WL.onXRSessionStart.push(this.setFixedFoveation.bind(this));\r\n        }\r\n    },\r\n    setFixedFoveation: function() {\r\n        if('webxr_baseLayer' in Module) {\r\n            Module.webxr_baseLayer.fixedFoveation = this.fixedFoveation;\r\n        }\r\n    },\r\n});\r\n",
        "import {vec3,quat,quat2} from 'gl-matrix';\r\n/**\r\n * Easy hand tracking through the WebXR Device API\r\n * [\"Hand Input\" API](https://immersive-web.github.io/webxr-hand-input/).\r\n *\r\n * Allows displaying hands either as sphere-joints or skinned mesh.\r\n *\r\n * To react to grabbing, use `this.isGrabbing()`. For other gestures, refer\r\n * to `this.joints` - an array of [WL.Object](/jsapi/object) and use the joint\r\n * indices listed [in the WebXR Hand Input specification](https://immersive-web.github.io/webxr-hand-input/#skeleton-joints-section).\r\n *\r\n * It is often desired to use either hand tracking or controllers, not both.\r\n * This component provides `deactivateChildrenWithoutPose` to hide the hand\r\n * tracking visualization if no pose is available and `controllerToDeactivate`\r\n * for disabling another object once a hand tracking pose *is* available.\r\n * Outside of XR sessions, tracking or controllers are neither enabled nor disabled\r\n * to play well with the [vr-mode-active-switch](#vr-mode-active-switch) component.\r\n *\r\n * **Requirements:**\r\n *  - To use hand-tracking, enable \"joint tracking\" in `chrome://flags` on\r\n *    Oculus Browser for Oculus Quest/Oculus Quest 2.\r\n *\r\n * See [Hand Tracking Example](/showcase/hand-tracking).\r\n */\r\nWL.registerComponent('hand-tracking', {\r\n    /** Handedness determining whether to receive tracking input from right or left hand */\r\n    handedness: {type: WL.Type.Enum, default: 'left', values: ['left', 'right']},\r\n    /** (optional) Mesh to use to visualize joints */\r\n    jointMesh: {type: WL.Type.Mesh, default: null},\r\n    /** Material to use for display. Applied to either the spawned skinned mesh or the joint spheres. */\r\n    jointMaterial: {type: WL.Type.Material, default: null},\r\n    /** (optional) Skin to apply tracked joint poses to. If not present, joint spheres will be used for display instead. */\r\n    handSkin: {type: WL.Type.Skin, default: null},\r\n    /** Deactivate children if no pose was tracked */\r\n    deactivateChildrenWithoutPose: {type: WL.Type.Bool, default: true},\r\n    /** Controller objects to activate including children if no pose is available */\r\n    controllerToDeactivate: {type: WL.Type.Object},\r\n}, {\r\n    ORDERED_JOINTS: [\r\n        \"wrist\",\r\n        \"thumb-metacarpal\", \"thumb-phalanx-proximal\", \"thumb-phalanx-distal\", \"thumb-tip\",\r\n        \"index-finger-metacarpal\", \"index-finger-phalanx-proximal\", \"index-finger-phalanx-intermediate\", \"index-finger-phalanx-distal\", \"index-finger-tip\",\r\n        \"middle-finger-metacarpal\", \"middle-finger-phalanx-proximal\", \"middle-finger-phalanx-intermediate\", \"middle-finger-phalanx-distal\", \"middle-finger-tip\",\r\n        \"ring-finger-metacarpal\", \"ring-finger-phalanx-proximal\", \"ring-finger-phalanx-intermediate\", \"ring-finger-phalanx-distal\", \"ring-finger-tip\",\r\n        \"pinky-finger-metacarpal\", \"pinky-finger-phalanx-proximal\", \"pinky-finger-phalanx-intermediate\", \"pinky-finger-phalanx-distal\", \"pinky-finger-tip\"\r\n    ],\r\n    init: function() {\r\n        this.handedness = ['left', 'right'][this.handedness];\r\n    },\r\n    start: function() {\r\n        this.joints = [];\r\n        this.session = null;\r\n        /* Whether last update had a hand pose */\r\n        this.hasPose = false;\r\n        this._childrenActive = true;\r\n\r\n        if(!('XRHand' in window)) {\r\n            console.warn(\"WebXR Hand Tracking not supported by this browser.\");\r\n            this.active = false;\r\n            return;\r\n        }\r\n\r\n        if(this.handSkin) {\r\n            let skin = this.handSkin;\r\n            let jointIds = skin.jointIds;\r\n            /* Map the wrist */\r\n            this.joints[this.ORDERED_JOINTS[0]] = new WL.Object(jointIds[0]);\r\n\r\n            /* Index in ORDERED_JOINTS that we are mapping to our joints */\r\n            /* Skip thumb0 joint, start at thumb1 */\r\n            for(let j = 0; j < jointIds.length; ++j) {\r\n                let joint = new WL.Object(jointIds[j]);\r\n                /* tip joints are only needed for joint rendering, so we skip those while mapping */\r\n                this.joints[joint.name] = joint;\r\n            }\r\n\r\n            /* If we have a hand skin, no need to spawn the joints-based one */\r\n            return;\r\n        }\r\n\r\n        /* Spawn joints */\r\n        for(let j = 0; j <= this.ORDERED_JOINTS.length; ++j) {\r\n            let joint = WL.scene.addObject(this.object.parent);\r\n            let mesh = joint.addComponent('mesh');\r\n\r\n            mesh.mesh = this.jointMesh;\r\n            mesh.material = this.jointMaterial;\r\n\r\n            this.joints[this.ORDERED_JOINTS[j]] = joint;\r\n        }\r\n    },\r\n\r\n    update: function(dt) {\r\n        if(!this.session) {\r\n            if(WL.xrSession) this.setupVREvents(WL.xrSession);\r\n        }\r\n\r\n        if(!this.session) return;\r\n\r\n        this.hasPose = false;\r\n        if(this.session && this.session.inputSources) {\r\n            for(let i = 0; i <= this.session.inputSources.length; ++i) {\r\n                const inputSource = this.session.inputSources[i];\r\n                if(!inputSource || !inputSource.hand || inputSource.handedness != this.handedness) continue;\r\n                this.hasPose = true;\r\n\r\n                if(inputSource.hand.get('wrist') !== null) {\r\n                    const p = Module['webxr_frame'].getJointPose(inputSource.hand.get('wrist'), WebXR.refSpaces[WebXR.refSpace]);\r\n                    if(p) {\r\n                        this.object.resetTranslationRotation();\r\n                        this.object.transformLocal.set([\r\n                            p.transform.orientation.x,\r\n                            p.transform.orientation.y,\r\n                            p.transform.orientation.z,\r\n                            p.transform.orientation.w]);\r\n                        this.object.translate([\r\n                            p.transform.position.x,\r\n                            p.transform.position.y,\r\n                            p.transform.position.z]);\r\n                    }\r\n                }\r\n\r\n                let invTranslation = new Float32Array(3);\r\n                let invRotation = new Float32Array(4);\r\n                quat.invert(invRotation, this.object.transformLocal);\r\n                this.object.getTranslationLocal(invTranslation);\r\n\r\n                for(let j = 0; j < this.ORDERED_JOINTS.length; ++j) {\r\n                    const jointName = this.ORDERED_JOINTS[j];\r\n                    const joint = this.joints[jointName];\r\n                    if(joint == null) continue;\r\n\r\n                    let jointPose = null;\r\n                    if(inputSource.hand.get(jointName) !== null) {\r\n                        jointPose = Module['webxr_frame'].getJointPose(inputSource.hand.get(jointName), WebXR.refSpaces[WebXR.refSpace]);\r\n                    }\r\n                    if(jointPose !== null) {\r\n                        if(this.handSkin) {\r\n                            joint.resetTranslationRotation();\r\n\r\n                            joint.translate([\r\n                                (jointPose.transform.position.x - invTranslation[0]),\r\n                                (jointPose.transform.position.y - invTranslation[1]),\r\n                                (jointPose.transform.position.z - invTranslation[2])]);\r\n                            joint.rotate(invRotation);\r\n                            joint.rotateObject([\r\n                                jointPose.transform.orientation.x,\r\n                                jointPose.transform.orientation.y,\r\n                                jointPose.transform.orientation.z,\r\n                                jointPose.transform.orientation.w]);\r\n                        } else {\r\n                            joint.resetTransform();\r\n                            joint.transformLocal.set([\r\n                                jointPose.transform.orientation.x,\r\n                                jointPose.transform.orientation.y,\r\n                                jointPose.transform.orientation.z,\r\n                                jointPose.transform.orientation.w]);\r\n                            joint.translate([\r\n                                jointPose.transform.position.x,\r\n                                jointPose.transform.position.y,\r\n                                jointPose.transform.position.z]);\r\n\r\n                            /* Last joint radius of each finger is null */\r\n                            const r = jointPose.radius || 0.007;\r\n                            joint.scale([r, r, r]);\r\n                        }\r\n                    } else {\r\n                        /* Hack to hide the object */\r\n                        if(!this.handSkin) joint.scale([0, 0, 0]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if(!this.hasPose && this._childrenActive) {\r\n            this._childrenActive = false;\r\n\r\n            if(this.deactivateChildrenWithoutPose) {\r\n                this.setChildrenActive(false);\r\n            }\r\n\r\n            if(this.controllerToDeactivate) {\r\n                this.controllerToDeactivate.active = true;\r\n                this.setChildrenActive(true, this.controllerToDeactivate);\r\n            }\r\n        } else if(this.hasPose && !this._childrenActive) {\r\n            this._childrenActive = true;\r\n\r\n            if(this.deactivateChildrenWithoutPose) {\r\n                this.setChildrenActive(true);\r\n            }\r\n\r\n            if(this.controllerToDeactivate) {\r\n                this.controllerToDeactivate.active = false;\r\n                this.setChildrenActive(false, this.controllerToDeactivate);\r\n            }\r\n        }\r\n    },\r\n\r\n    setChildrenActive: function(active, object) {\r\n        object = object || this.object;\r\n\r\n        const children = object.children;\r\n        for(const o of children) {\r\n            o.active = active;\r\n            this.setChildrenActive(active, o);\r\n        }\r\n    },\r\n\r\n    isGrabbing: function() {\r\n        const indexTipPos = [0, 0, 0];\r\n        quat2.getTranslation(indexTipPos, this.joints['index-finger-tip'].transformLocal);\r\n        const thumbTipPos = [0, 0, 0];\r\n        quat2.getTranslation(thumbTipPos, this.joints['thumb-tip'].transformLocal);\r\n\r\n        return vec3.sqrDist(thumbTipPos, indexTipPos) < 0.001;\r\n    },\r\n\r\n    setupVREvents: function(s) {\r\n        this.session = s;\r\n    },\r\n});\r\n",
        "import {quat2} from 'gl-matrix';\r\n/**\r\n * Sets up a [WebXR Device API \"Hit Test\"](https://immersive-web.github.io/hit-test/)\r\n * and places the object to the hit location.\r\n *\r\n * **Requirements:**\r\n *  - Specify `'hit-test'` in the required or optional features on the AR button in your html file.\r\n *    See [Wastepaperbin AR](/showcase/wpb-ar) as an example.\r\n */\r\nWL.registerComponent('hit-test-location', {\r\n}, {\r\n    init: function() {\r\n        WL.onXRSessionStart.push(this.xrSessionStart.bind(this));\r\n        WL.onXRSessionStart.push(this.xrSessionEnd.bind(this));\r\n\r\n        this.tempScaling = new Float32Array(3);\r\n        this.tempScaling.set(this.object.scalingLocal);\r\n        this.visible = false;\r\n        this.object.scale([0, 0, 0]);\r\n    },\r\n    update: function(dt) {\r\n        const wasVisible = this.visible;\r\n        if(this.xrHitTestSource) {\r\n            const frame = Module['webxr_frame'];\r\n            if(!frame) return;\r\n            let hitTestResults = frame.getHitTestResults(this.xrHitTestSource);\r\n            if(hitTestResults.length > 0) {\r\n                let pose = hitTestResults[0].getPose(this.xrViewerSpace);\r\n                this.visible = true;\r\n                quat2.fromMat4(this.object.transformLocal, pose.transform.matrix);\r\n                this.object.setDirty();\r\n            } else {\r\n                this.visible = false;\r\n            }\r\n        }\r\n\r\n        if(this.visible != wasVisible) {\r\n            if(!this.visible) {\r\n                this.tempScaling.set(this.object.scalingLocal);\r\n                this.object.scale([0, 0, 0]);\r\n            } else {\r\n                this.object.scalingLocal.set(this.tempScaling);\r\n                this.object.setDirty();\r\n            }\r\n        }\r\n    },\r\n    xrSessionStart: function(session) {\r\n        session.requestReferenceSpace('viewer').then(function(refSpace) {\r\n            this.xrViewerSpace = refSpace;\r\n            session.requestHitTestSource({space: this.xrViewerSpace}).then(function(hitTestSource) {\r\n                this.xrHitTestSource = hitTestSource;\r\n            }.bind(this)).catch(console.error);\r\n        }.bind(this)).catch(console.error);\r\n    },\r\n    xrSessionEnd: function() {\r\n        if(!this.xrHitTestSource) return;\r\n        this.xrHitTestSource.cancel();\r\n        this.xrHitTestSource = null;\r\n    },\r\n});\r\n",
        "/*!\n *  howler.js v2.2.1\n *  howlerjs.com\n *\n *  (c) 2013-2020, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n\n(function() {\n\n  'use strict';\n\n  /** Global Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create the global controller. All contained methods and properties apply\n   * to all sounds that are currently playing or will be in the future.\n   */\n  var HowlerGlobal = function() {\n    this.init();\n  };\n  HowlerGlobal.prototype = {\n    /**\n     * Initialize the global Howler object.\n     * @return {Howler}\n     */\n    init: function() {\n      var self = this || Howler;\n\n      // Create a global ID counter.\n      self._counter = 1000;\n\n      // Pool of unlocked HTML5 Audio objects.\n      self._html5AudioPool = [];\n      self.html5PoolSize = 10;\n\n      // Internal properties.\n      self._codecs = {};\n      self._howls = [];\n      self._muted = false;\n      self._volume = 1;\n      self._canPlayEvent = 'canplaythrough';\n      self._navigator = (typeof window !== 'undefined' && window.navigator) ? window.navigator : null;\n\n      // Public properties.\n      self.masterGain = null;\n      self.noAudio = false;\n      self.usingWebAudio = true;\n      self.autoSuspend = true;\n      self.ctx = null;\n\n      // Set to false to disable the auto audio unlocker.\n      self.autoUnlock = true;\n\n      // Setup the various state values for global tracking.\n      self._setup();\n\n      return self;\n    },\n\n    /**\n     * Get/set the global volume for all sounds.\n     * @param  {Float} vol Volume from 0.0 to 1.0.\n     * @return {Howler/Float}     Returns self or current volume.\n     */\n    volume: function(vol) {\n      var self = this || Howler;\n      vol = parseFloat(vol);\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!self.ctx) {\n        setupAudioContext();\n      }\n\n      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n        self._volume = vol;\n\n        // Don't update any of the nodes if we are muted.\n        if (self._muted) {\n          return self;\n        }\n\n        // When using Web Audio, we just need to adjust the master gain.\n        if (self.usingWebAudio) {\n          self.masterGain.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n        }\n\n        // Loop through and change volume for all HTML5 audio nodes.\n        for (var i=0; i<self._howls.length; i++) {\n          if (!self._howls[i]._webAudio) {\n            // Get all of the sounds in this Howl group.\n            var ids = self._howls[i]._getSoundIds();\n\n            // Loop through all sounds and change the volumes.\n            for (var j=0; j<ids.length; j++) {\n              var sound = self._howls[i]._soundById(ids[j]);\n\n              if (sound && sound._node) {\n                sound._node.volume = sound._volume * vol;\n              }\n            }\n          }\n        }\n\n        return self;\n      }\n\n      return self._volume;\n    },\n\n    /**\n     * Handle muting and unmuting globally.\n     * @param  {Boolean} muted Is muted or not.\n     */\n    mute: function(muted) {\n      var self = this || Howler;\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!self.ctx) {\n        setupAudioContext();\n      }\n\n      self._muted = muted;\n\n      // With Web Audio, we just need to mute the master gain.\n      if (self.usingWebAudio) {\n        self.masterGain.gain.setValueAtTime(muted ? 0 : self._volume, Howler.ctx.currentTime);\n      }\n\n      // Loop through and mute all HTML5 Audio nodes.\n      for (var i=0; i<self._howls.length; i++) {\n        if (!self._howls[i]._webAudio) {\n          // Get all of the sounds in this Howl group.\n          var ids = self._howls[i]._getSoundIds();\n\n          // Loop through all sounds and mark the audio node as muted.\n          for (var j=0; j<ids.length; j++) {\n            var sound = self._howls[i]._soundById(ids[j]);\n\n            if (sound && sound._node) {\n              sound._node.muted = (muted) ? true : sound._muted;\n            }\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Handle stopping all sounds globally.\n     */\n    stop: function() {\n      var self = this || Howler;\n\n      // Loop through all Howls and stop them.\n      for (var i=0; i<self._howls.length; i++) {\n        self._howls[i].stop();\n      }\n\n      return self;\n    },\n\n    /**\n     * Unload and destroy all currently loaded Howl objects.\n     * @return {Howler}\n     */\n    unload: function() {\n      var self = this || Howler;\n\n      for (var i=self._howls.length-1; i>=0; i--) {\n        self._howls[i].unload();\n      }\n\n      // Create a new AudioContext to make sure it is fully reset.\n      if (self.usingWebAudio && self.ctx && typeof self.ctx.close !== 'undefined') {\n        self.ctx.close();\n        self.ctx = null;\n        setupAudioContext();\n      }\n\n      return self;\n    },\n\n    /**\n     * Check for codec support of specific extension.\n     * @param  {String} ext Audio file extention.\n     * @return {Boolean}\n     */\n    codecs: function(ext) {\n      return (this || Howler)._codecs[ext.replace(/^x-/, '')];\n    },\n\n    /**\n     * Setup various state values for global tracking.\n     * @return {Howler}\n     */\n    _setup: function() {\n      var self = this || Howler;\n\n      // Keeps track of the suspend/resume state of the AudioContext.\n      self.state = self.ctx ? self.ctx.state || 'suspended' : 'suspended';\n\n      // Automatically begin the 30-second suspend process\n      self._autoSuspend();\n\n      // Check if audio is available.\n      if (!self.usingWebAudio) {\n        // No audio is available on this system if noAudio is set to true.\n        if (typeof Audio !== 'undefined') {\n          try {\n            var test = new Audio();\n\n            // Check if the canplaythrough event is available.\n            if (typeof test.oncanplaythrough === 'undefined') {\n              self._canPlayEvent = 'canplay';\n            }\n          } catch(e) {\n            self.noAudio = true;\n          }\n        } else {\n          self.noAudio = true;\n        }\n      }\n\n      // Test to make sure audio isn't disabled in Internet Explorer.\n      try {\n        var test = new Audio();\n        if (test.muted) {\n          self.noAudio = true;\n        }\n      } catch (e) {}\n\n      // Check for supported codecs.\n      if (!self.noAudio) {\n        self._setupCodecs();\n      }\n\n      return self;\n    },\n\n    /**\n     * Check for browser support for various codecs and cache the results.\n     * @return {Howler}\n     */\n    _setupCodecs: function() {\n      var self = this || Howler;\n      var audioTest = null;\n\n      // Must wrap in a try/catch because IE11 in server mode throws an error.\n      try {\n        audioTest = (typeof Audio !== 'undefined') ? new Audio() : null;\n      } catch (err) {\n        return self;\n      }\n\n      if (!audioTest || typeof audioTest.canPlayType !== 'function') {\n        return self;\n      }\n\n      var mpegTest = audioTest.canPlayType('audio/mpeg;').replace(/^no$/, '');\n\n      // Opera version <33 has mixed MP3 support, so we need to check for and block it.\n      var checkOpera = self._navigator && self._navigator.userAgent.match(/OPR\\/([0-6].)/g);\n      var isOldOpera = (checkOpera && parseInt(checkOpera[0].split('/')[1], 10) < 33);\n\n      self._codecs = {\n        mp3: !!(!isOldOpera && (mpegTest || audioTest.canPlayType('audio/mp3;').replace(/^no$/, ''))),\n        mpeg: !!mpegTest,\n        opus: !!audioTest.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/, ''),\n        ogg: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n        oga: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n        wav: !!(audioTest.canPlayType('audio/wav; codecs=\"1\"') || audioTest.canPlayType('audio/wav')).replace(/^no$/, ''),\n        aac: !!audioTest.canPlayType('audio/aac;').replace(/^no$/, ''),\n        caf: !!audioTest.canPlayType('audio/x-caf;').replace(/^no$/, ''),\n        m4a: !!(audioTest.canPlayType('audio/x-m4a;') || audioTest.canPlayType('audio/m4a;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        m4b: !!(audioTest.canPlayType('audio/x-m4b;') || audioTest.canPlayType('audio/m4b;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        mp4: !!(audioTest.canPlayType('audio/x-mp4;') || audioTest.canPlayType('audio/mp4;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        weba: !!audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, ''),\n        webm: !!audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, ''),\n        dolby: !!audioTest.canPlayType('audio/mp4; codecs=\"ec-3\"').replace(/^no$/, ''),\n        flac: !!(audioTest.canPlayType('audio/x-flac;') || audioTest.canPlayType('audio/flac;')).replace(/^no$/, '')\n      };\n\n      return self;\n    },\n\n    /**\n     * Some browsers/devices will only allow audio to be played after a user interaction.\n     * Attempt to automatically unlock audio on the first user interaction.\n     * Concept from: http://paulbakaus.com/tutorials/html5/web-audio-on-ios/\n     * @return {Howler}\n     */\n    _unlockAudio: function() {\n      var self = this || Howler;\n\n      // Only run this if Web Audio is supported and it hasn't already been unlocked.\n      if (self._audioUnlocked || !self.ctx) {\n        return;\n      }\n\n      self._audioUnlocked = false;\n      self.autoUnlock = false;\n\n      // Some mobile devices/platforms have distortion issues when opening/closing tabs and/or web views.\n      // Bugs in the browser (especially Mobile Safari) can cause the sampleRate to change from 44100 to 48000.\n      // By calling Howler.unload(), we create a new AudioContext with the correct sampleRate.\n      if (!self._mobileUnloaded && self.ctx.sampleRate !== 44100) {\n        self._mobileUnloaded = true;\n        self.unload();\n      }\n\n      // Scratch buffer for enabling iOS to dispose of web audio buffers correctly, as per:\n      // http://stackoverflow.com/questions/24119684\n      self._scratchBuffer = self.ctx.createBuffer(1, 1, 22050);\n\n      // Call this method on touch start to create and play a buffer,\n      // then check if the audio actually played to determine if\n      // audio has now been unlocked on iOS, Android, etc.\n      var unlock = function(e) {\n        // Create a pool of unlocked HTML5 Audio objects that can\n        // be used for playing sounds without user interaction. HTML5\n        // Audio objects must be individually unlocked, as opposed\n        // to the WebAudio API which only needs a single activation.\n        // This must occur before WebAudio setup or the source.onended\n        // event will not fire.\n        while (self._html5AudioPool.length < self.html5PoolSize) {\n          try {\n            var audioNode = new Audio();\n\n            // Mark this Audio object as unlocked to ensure it can get returned\n            // to the unlocked pool when released.\n            audioNode._unlocked = true;\n\n            // Add the audio node to the pool.\n            self._releaseHtml5Audio(audioNode);\n          } catch (e) {\n            self.noAudio = true;\n            break;\n          }\n        }\n\n        // Loop through any assigned audio nodes and unlock them.\n        for (var i=0; i<self._howls.length; i++) {\n          if (!self._howls[i]._webAudio) {\n            // Get all of the sounds in this Howl group.\n            var ids = self._howls[i]._getSoundIds();\n\n            // Loop through all sounds and unlock the audio nodes.\n            for (var j=0; j<ids.length; j++) {\n              var sound = self._howls[i]._soundById(ids[j]);\n\n              if (sound && sound._node && !sound._node._unlocked) {\n                sound._node._unlocked = true;\n                sound._node.load();\n              }\n            }\n          }\n        }\n\n        // Fix Android can not play in suspend state.\n        self._autoResume();\n\n        // Create an empty buffer.\n        var source = self.ctx.createBufferSource();\n        source.buffer = self._scratchBuffer;\n        source.connect(self.ctx.destination);\n\n        // Play the empty buffer.\n        if (typeof source.start === 'undefined') {\n          source.noteOn(0);\n        } else {\n          source.start(0);\n        }\n\n        // Calling resume() on a stack initiated by user gesture is what actually unlocks the audio on Android Chrome >= 55.\n        if (typeof self.ctx.resume === 'function') {\n          self.ctx.resume();\n        }\n\n        // Setup a timeout to check that we are unlocked on the next event loop.\n        source.onended = function() {\n          source.disconnect(0);\n\n          // Update the unlocked state and prevent this check from happening again.\n          self._audioUnlocked = true;\n\n          // Remove the touch start listener.\n          document.removeEventListener('touchstart', unlock, true);\n          document.removeEventListener('touchend', unlock, true);\n          document.removeEventListener('click', unlock, true);\n\n          // Let all sounds know that audio has been unlocked.\n          for (var i=0; i<self._howls.length; i++) {\n            self._howls[i]._emit('unlock');\n          }\n        };\n      };\n\n      // Setup a touch start listener to attempt an unlock in.\n      document.addEventListener('touchstart', unlock, true);\n      document.addEventListener('touchend', unlock, true);\n      document.addEventListener('click', unlock, true);\n\n      return self;\n    },\n\n    /**\n     * Get an unlocked HTML5 Audio object from the pool. If none are left,\n     * return a new Audio object and throw a warning.\n     * @return {Audio} HTML5 Audio object.\n     */\n    _obtainHtml5Audio: function() {\n      var self = this || Howler;\n\n      // Return the next object from the pool if one exists.\n      if (self._html5AudioPool.length) {\n        return self._html5AudioPool.pop();\n      }\n\n      //.Check if the audio is locked and throw a warning.\n      var testPlay = new Audio().play();\n      if (testPlay && typeof Promise !== 'undefined' && (testPlay instanceof Promise || typeof testPlay.then === 'function')) {\n        testPlay.catch(function() {\n          console.warn('HTML5 Audio pool exhausted, returning potentially locked audio object.');\n        });\n      }\n\n      return new Audio();\n    },\n\n    /**\n     * Return an activated HTML5 Audio object to the pool.\n     * @return {Howler}\n     */\n    _releaseHtml5Audio: function(audio) {\n      var self = this || Howler;\n\n      // Don't add audio to the pool if we don't know if it has been unlocked.\n      if (audio._unlocked) {\n        self._html5AudioPool.push(audio);\n      }\n\n      return self;\n    },\n\n    /**\n     * Automatically suspend the Web Audio AudioContext after no sound has played for 30 seconds.\n     * This saves processing/energy and fixes various browser-specific bugs with audio getting stuck.\n     * @return {Howler}\n     */\n    _autoSuspend: function() {\n      var self = this;\n\n      if (!self.autoSuspend || !self.ctx || typeof self.ctx.suspend === 'undefined' || !Howler.usingWebAudio) {\n        return;\n      }\n\n      // Check if any sounds are playing.\n      for (var i=0; i<self._howls.length; i++) {\n        if (self._howls[i]._webAudio) {\n          for (var j=0; j<self._howls[i]._sounds.length; j++) {\n            if (!self._howls[i]._sounds[j]._paused) {\n              return self;\n            }\n          }\n        }\n      }\n\n      if (self._suspendTimer) {\n        clearTimeout(self._suspendTimer);\n      }\n\n      // If no sound has played after 30 seconds, suspend the context.\n      self._suspendTimer = setTimeout(function() {\n        if (!self.autoSuspend) {\n          return;\n        }\n\n        self._suspendTimer = null;\n        self.state = 'suspending';\n\n        // Handle updating the state of the audio context after suspending.\n        var handleSuspension = function() {\n          self.state = 'suspended';\n\n          if (self._resumeAfterSuspend) {\n            delete self._resumeAfterSuspend;\n            self._autoResume();\n          }\n        };\n\n        // Either the state gets suspended or it is interrupted.\n        // Either way, we need to update the state to suspended.\n        self.ctx.suspend().then(handleSuspension, handleSuspension);\n      }, 30000);\n\n      return self;\n    },\n\n    /**\n     * Automatically resume the Web Audio AudioContext when a new sound is played.\n     * @return {Howler}\n     */\n    _autoResume: function() {\n      var self = this;\n\n      if (!self.ctx || typeof self.ctx.resume === 'undefined' || !Howler.usingWebAudio) {\n        return;\n      }\n\n      if (self.state === 'running' && self.ctx.state !== 'interrupted' && self._suspendTimer) {\n        clearTimeout(self._suspendTimer);\n        self._suspendTimer = null;\n      } else if (self.state === 'suspended' || self.state === 'running' && self.ctx.state === 'interrupted') {\n        self.ctx.resume().then(function() {\n          self.state = 'running';\n\n          // Emit to all Howls that the audio has resumed.\n          for (var i=0; i<self._howls.length; i++) {\n            self._howls[i]._emit('resume');\n          }\n        });\n\n        if (self._suspendTimer) {\n          clearTimeout(self._suspendTimer);\n          self._suspendTimer = null;\n        }\n      } else if (self.state === 'suspending') {\n        self._resumeAfterSuspend = true;\n      }\n\n      return self;\n    }\n  };\n\n  // Setup the global audio controller.\n  var Howler = new HowlerGlobal();\n\n  /** Group Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create an audio group controller.\n   * @param {Object} o Passed in properties for this group.\n   */\n  var Howl = function(o) {\n    var self = this;\n\n    // Throw an error if no source is provided.\n    if (!o.src || o.src.length === 0) {\n      console.error('An array of source files must be passed with any new Howl.');\n      return;\n    }\n\n    self.init(o);\n  };\n  Howl.prototype = {\n    /**\n     * Initialize a new Howl group object.\n     * @param  {Object} o Passed in properties for this group.\n     * @return {Howl}\n     */\n    init: function(o) {\n      var self = this;\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!Howler.ctx) {\n        setupAudioContext();\n      }\n\n      // Setup user-defined default properties.\n      self._autoplay = o.autoplay || false;\n      self._format = (typeof o.format !== 'string') ? o.format : [o.format];\n      self._html5 = o.html5 || false;\n      self._muted = o.mute || false;\n      self._loop = o.loop || false;\n      self._pool = o.pool || 5;\n      self._preload = (typeof o.preload === 'boolean' || o.preload === 'metadata') ? o.preload : true;\n      self._rate = o.rate || 1;\n      self._sprite = o.sprite || {};\n      self._src = (typeof o.src !== 'string') ? o.src : [o.src];\n      self._volume = o.volume !== undefined ? o.volume : 1;\n      self._xhr = {\n        method: o.xhr && o.xhr.method ? o.xhr.method : 'GET',\n        headers: o.xhr && o.xhr.headers ? o.xhr.headers : null,\n        withCredentials: o.xhr && o.xhr.withCredentials ? o.xhr.withCredentials : false,\n      };\n\n      // Setup all other default properties.\n      self._duration = 0;\n      self._state = 'unloaded';\n      self._sounds = [];\n      self._endTimers = {};\n      self._queue = [];\n      self._playLock = false;\n\n      // Setup event listeners.\n      self._onend = o.onend ? [{fn: o.onend}] : [];\n      self._onfade = o.onfade ? [{fn: o.onfade}] : [];\n      self._onload = o.onload ? [{fn: o.onload}] : [];\n      self._onloaderror = o.onloaderror ? [{fn: o.onloaderror}] : [];\n      self._onplayerror = o.onplayerror ? [{fn: o.onplayerror}] : [];\n      self._onpause = o.onpause ? [{fn: o.onpause}] : [];\n      self._onplay = o.onplay ? [{fn: o.onplay}] : [];\n      self._onstop = o.onstop ? [{fn: o.onstop}] : [];\n      self._onmute = o.onmute ? [{fn: o.onmute}] : [];\n      self._onvolume = o.onvolume ? [{fn: o.onvolume}] : [];\n      self._onrate = o.onrate ? [{fn: o.onrate}] : [];\n      self._onseek = o.onseek ? [{fn: o.onseek}] : [];\n      self._onunlock = o.onunlock ? [{fn: o.onunlock}] : [];\n      self._onresume = [];\n\n      // Web Audio or HTML5 Audio?\n      self._webAudio = Howler.usingWebAudio && !self._html5;\n\n      // Automatically try to enable audio.\n      if (typeof Howler.ctx !== 'undefined' && Howler.ctx && Howler.autoUnlock) {\n        Howler._unlockAudio();\n      }\n\n      // Keep track of this Howl group in the global controller.\n      Howler._howls.push(self);\n\n      // If they selected autoplay, add a play event to the load queue.\n      if (self._autoplay) {\n        self._queue.push({\n          event: 'play',\n          action: function() {\n            self.play();\n          }\n        });\n      }\n\n      // Load the source file unless otherwise specified.\n      if (self._preload && self._preload !== 'none') {\n        self.load();\n      }\n\n      return self;\n    },\n\n    /**\n     * Load the audio file.\n     * @return {Howler}\n     */\n    load: function() {\n      var self = this;\n      var url = null;\n\n      // If no audio is available, quit immediately.\n      if (Howler.noAudio) {\n        self._emit('loaderror', null, 'No audio support.');\n        return;\n      }\n\n      // Make sure our source is in an array.\n      if (typeof self._src === 'string') {\n        self._src = [self._src];\n      }\n\n      // Loop through the sources and pick the first one that is compatible.\n      for (var i=0; i<self._src.length; i++) {\n        var ext, str;\n\n        if (self._format && self._format[i]) {\n          // If an extension was specified, use that instead.\n          ext = self._format[i];\n        } else {\n          // Make sure the source is a string.\n          str = self._src[i];\n          if (typeof str !== 'string') {\n            self._emit('loaderror', null, 'Non-string found in selected audio sources - ignoring.');\n            continue;\n          }\n\n          // Extract the file extension from the URL or base64 data URI.\n          ext = /^data:audio\\/([^;,]+);/i.exec(str);\n          if (!ext) {\n            ext = /\\.([^.]+)$/.exec(str.split('?', 1)[0]);\n          }\n\n          if (ext) {\n            ext = ext[1].toLowerCase();\n          }\n        }\n\n        // Log a warning if no extension was found.\n        if (!ext) {\n          console.warn('No file extension was found. Consider using the \"format\" property or specify an extension.');\n        }\n\n        // Check if this extension is available.\n        if (ext && Howler.codecs(ext)) {\n          url = self._src[i];\n          break;\n        }\n      }\n\n      if (!url) {\n        self._emit('loaderror', null, 'No codec support for selected audio sources.');\n        return;\n      }\n\n      self._src = url;\n      self._state = 'loading';\n\n      // If the hosting page is HTTPS and the source isn't,\n      // drop down to HTML5 Audio to avoid Mixed Content errors.\n      if (window.location.protocol === 'https:' && url.slice(0, 5) === 'http:') {\n        self._html5 = true;\n        self._webAudio = false;\n      }\n\n      // Create a new sound object and add it to the pool.\n      new Sound(self);\n\n      // Load and decode the audio data for playback.\n      if (self._webAudio) {\n        loadBuffer(self);\n      }\n\n      return self;\n    },\n\n    /**\n     * Play a sound or resume previous playback.\n     * @param  {String/Number} sprite   Sprite name for sprite playback or sound id to continue previous.\n     * @param  {Boolean} internal Internal Use: true prevents event firing.\n     * @return {Number}          Sound ID.\n     */\n    play: function(sprite, internal) {\n      var self = this;\n      var id = null;\n\n      // Determine if a sprite, sound id or nothing was passed\n      if (typeof sprite === 'number') {\n        id = sprite;\n        sprite = null;\n      } else if (typeof sprite === 'string' && self._state === 'loaded' && !self._sprite[sprite]) {\n        // If the passed sprite doesn't exist, do nothing.\n        return null;\n      } else if (typeof sprite === 'undefined') {\n        // Use the default sound sprite (plays the full audio length).\n        sprite = '__default';\n\n        // Check if there is a single paused sound that isn't ended.\n        // If there is, play that sound. If not, continue as usual.\n        if (!self._playLock) {\n          var num = 0;\n          for (var i=0; i<self._sounds.length; i++) {\n            if (self._sounds[i]._paused && !self._sounds[i]._ended) {\n              num++;\n              id = self._sounds[i]._id;\n            }\n          }\n\n          if (num === 1) {\n            sprite = null;\n          } else {\n            id = null;\n          }\n        }\n      }\n\n      // Get the selected node, or get one from the pool.\n      var sound = id ? self._soundById(id) : self._inactiveSound();\n\n      // If the sound doesn't exist, do nothing.\n      if (!sound) {\n        return null;\n      }\n\n      // Select the sprite definition.\n      if (id && !sprite) {\n        sprite = sound._sprite || '__default';\n      }\n\n      // If the sound hasn't loaded, we must wait to get the audio's duration.\n      // We also need to wait to make sure we don't run into race conditions with\n      // the order of function calls.\n      if (self._state !== 'loaded') {\n        // Set the sprite value on this sound.\n        sound._sprite = sprite;\n\n        // Mark this sound as not ended in case another sound is played before this one loads.\n        sound._ended = false;\n\n        // Add the sound to the queue to be played on load.\n        var soundId = sound._id;\n        self._queue.push({\n          event: 'play',\n          action: function() {\n            self.play(soundId);\n          }\n        });\n\n        return soundId;\n      }\n\n      // Don't play the sound if an id was passed and it is already playing.\n      if (id && !sound._paused) {\n        // Trigger the play event, in order to keep iterating through queue.\n        if (!internal) {\n          self._loadQueue('play');\n        }\n\n        return sound._id;\n      }\n\n      // Make sure the AudioContext isn't suspended, and resume it if it is.\n      if (self._webAudio) {\n        Howler._autoResume();\n      }\n\n      // Determine how long to play for and where to start playing.\n      var seek = Math.max(0, sound._seek > 0 ? sound._seek : self._sprite[sprite][0] / 1000);\n      var duration = Math.max(0, ((self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000) - seek);\n      var timeout = (duration * 1000) / Math.abs(sound._rate);\n      var start = self._sprite[sprite][0] / 1000;\n      var stop = (self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000;\n      sound._sprite = sprite;\n\n      // Mark the sound as ended instantly so that this async playback\n      // doesn't get grabbed by another call to play while this one waits to start.\n      sound._ended = false;\n\n      // Update the parameters of the sound.\n      var setParams = function() {\n        sound._paused = false;\n        sound._seek = seek;\n        sound._start = start;\n        sound._stop = stop;\n        sound._loop = !!(sound._loop || self._sprite[sprite][2]);\n      };\n\n      // End the sound instantly if seek is at the end.\n      if (seek >= stop) {\n        self._ended(sound);\n        return;\n      }\n\n      // Begin the actual playback.\n      var node = sound._node;\n      if (self._webAudio) {\n        // Fire this when the sound is ready to play to begin Web Audio playback.\n        var playWebAudio = function() {\n          self._playLock = false;\n          setParams();\n          self._refreshBuffer(sound);\n\n          // Setup the playback params.\n          var vol = (sound._muted || self._muted) ? 0 : sound._volume;\n          node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n          sound._playStart = Howler.ctx.currentTime;\n\n          // Play the sound using the supported method.\n          if (typeof node.bufferSource.start === 'undefined') {\n            sound._loop ? node.bufferSource.noteGrainOn(0, seek, 86400) : node.bufferSource.noteGrainOn(0, seek, duration);\n          } else {\n            sound._loop ? node.bufferSource.start(0, seek, 86400) : node.bufferSource.start(0, seek, duration);\n          }\n\n          // Start a new timer if none is present.\n          if (timeout !== Infinity) {\n            self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n          }\n\n          if (!internal) {\n            setTimeout(function() {\n              self._emit('play', sound._id);\n              self._loadQueue();\n            }, 0);\n          }\n        };\n\n        if (Howler.state === 'running' && Howler.ctx.state !== 'interrupted') {\n          playWebAudio();\n        } else {\n          self._playLock = true;\n\n          // Wait for the audio context to resume before playing.\n          self.once('resume', playWebAudio);\n\n          // Cancel the end timer.\n          self._clearTimer(sound._id);\n        }\n      } else {\n        // Fire this when the sound is ready to play to begin HTML5 Audio playback.\n        var playHtml5 = function() {\n          node.currentTime = seek;\n          node.muted = sound._muted || self._muted || Howler._muted || node.muted;\n          node.volume = sound._volume * Howler.volume();\n          node.playbackRate = sound._rate;\n\n          // Some browsers will throw an error if this is called without user interaction.\n          try {\n            var play = node.play();\n\n            // Support older browsers that don't support promises, and thus don't have this issue.\n            if (play && typeof Promise !== 'undefined' && (play instanceof Promise || typeof play.then === 'function')) {\n              // Implements a lock to prevent DOMException: The play() request was interrupted by a call to pause().\n              self._playLock = true;\n\n              // Set param values immediately.\n              setParams();\n\n              // Releases the lock and executes queued actions.\n              play\n                .then(function() {\n                  self._playLock = false;\n                  node._unlocked = true;\n                  if (!internal) {\n                    self._emit('play', sound._id);\n                    self._loadQueue();\n                  }\n                })\n                .catch(function() {\n                  self._playLock = false;\n                  self._emit('playerror', sound._id, 'Playback was unable to start. This is most commonly an issue ' +\n                    'on mobile devices and Chrome where playback was not within a user interaction.');\n\n                  // Reset the ended and paused values.\n                  sound._ended = true;\n                  sound._paused = true;\n                });\n            } else if (!internal) {\n              self._playLock = false;\n              setParams();\n              self._emit('play', sound._id);\n              self._loadQueue();\n            }\n\n            // Setting rate before playing won't work in IE, so we set it again here.\n            node.playbackRate = sound._rate;\n\n            // If the node is still paused, then we can assume there was a playback issue.\n            if (node.paused) {\n              self._emit('playerror', sound._id, 'Playback was unable to start. This is most commonly an issue ' +\n                'on mobile devices and Chrome where playback was not within a user interaction.');\n              return;\n            }\n\n            // Setup the end timer on sprites or listen for the ended event.\n            if (sprite !== '__default' || sound._loop) {\n              self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n            } else {\n              self._endTimers[sound._id] = function() {\n                // Fire ended on this audio node.\n                self._ended(sound);\n\n                // Clear this listener.\n                node.removeEventListener('ended', self._endTimers[sound._id], false);\n              };\n              node.addEventListener('ended', self._endTimers[sound._id], false);\n            }\n          } catch (err) {\n            self._emit('playerror', sound._id, err);\n          }\n        };\n\n        // If this is streaming audio, make sure the src is set and load again.\n        if (node.src === 'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA') {\n          node.src = self._src;\n          node.load();\n        }\n\n        // Play immediately if ready, or wait for the 'canplaythrough'e vent.\n        var loadedNoReadyState = (window && window.ejecta) || (!node.readyState && Howler._navigator.isCocoonJS);\n        if (node.readyState >= 3 || loadedNoReadyState) {\n          playHtml5();\n        } else {\n          self._playLock = true;\n\n          var listener = function() {\n            // Begin playback.\n            playHtml5();\n\n            // Clear this listener.\n            node.removeEventListener(Howler._canPlayEvent, listener, false);\n          };\n          node.addEventListener(Howler._canPlayEvent, listener, false);\n\n          // Cancel the end timer.\n          self._clearTimer(sound._id);\n        }\n      }\n\n      return sound._id;\n    },\n\n    /**\n     * Pause playback and save current position.\n     * @param  {Number} id The sound ID (empty to pause all in group).\n     * @return {Howl}\n     */\n    pause: function(id) {\n      var self = this;\n\n      // If the sound hasn't loaded or a play() promise is pending, add it to the load queue to pause when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'pause',\n          action: function() {\n            self.pause(id);\n          }\n        });\n\n        return self;\n      }\n\n      // If no id is passed, get all ID's to be paused.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Clear the end timer.\n        self._clearTimer(ids[i]);\n\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound && !sound._paused) {\n          // Reset the seek position.\n          sound._seek = self.seek(ids[i]);\n          sound._rateSeek = 0;\n          sound._paused = true;\n\n          // Stop currently running fades.\n          self._stopFade(ids[i]);\n\n          if (sound._node) {\n            if (self._webAudio) {\n              // Make sure the sound has been created.\n              if (!sound._node.bufferSource) {\n                continue;\n              }\n\n              if (typeof sound._node.bufferSource.stop === 'undefined') {\n                sound._node.bufferSource.noteOff(0);\n              } else {\n                sound._node.bufferSource.stop(0);\n              }\n\n              // Clean up the buffer source.\n              self._cleanBuffer(sound._node);\n            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n              sound._node.pause();\n            }\n          }\n        }\n\n        // Fire the pause event, unless `true` is passed as the 2nd argument.\n        if (!arguments[1]) {\n          self._emit('pause', sound ? sound._id : null);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Stop playback and reset to start.\n     * @param  {Number} id The sound ID (empty to stop all in group).\n     * @param  {Boolean} internal Internal Use: true prevents event firing.\n     * @return {Howl}\n     */\n    stop: function(id, internal) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to stop when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'stop',\n          action: function() {\n            self.stop(id);\n          }\n        });\n\n        return self;\n      }\n\n      // If no id is passed, get all ID's to be stopped.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Clear the end timer.\n        self._clearTimer(ids[i]);\n\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound) {\n          // Reset the seek position.\n          sound._seek = sound._start || 0;\n          sound._rateSeek = 0;\n          sound._paused = true;\n          sound._ended = true;\n\n          // Stop currently running fades.\n          self._stopFade(ids[i]);\n\n          if (sound._node) {\n            if (self._webAudio) {\n              // Make sure the sound's AudioBufferSourceNode has been created.\n              if (sound._node.bufferSource) {\n                if (typeof sound._node.bufferSource.stop === 'undefined') {\n                  sound._node.bufferSource.noteOff(0);\n                } else {\n                  sound._node.bufferSource.stop(0);\n                }\n\n                // Clean up the buffer source.\n                self._cleanBuffer(sound._node);\n              }\n            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n              sound._node.currentTime = sound._start || 0;\n              sound._node.pause();\n\n              // If this is a live stream, stop download once the audio is stopped.\n              if (sound._node.duration === Infinity) {\n                self._clearSound(sound._node);\n              }\n            }\n          }\n\n          if (!internal) {\n            self._emit('stop', sound._id);\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Mute/unmute a single sound or all sounds in this Howl group.\n     * @param  {Boolean} muted Set to true to mute and false to unmute.\n     * @param  {Number} id    The sound ID to update (omit to mute/unmute all).\n     * @return {Howl}\n     */\n    mute: function(muted, id) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to mute when capable.\n      if (self._state !== 'loaded'|| self._playLock) {\n        self._queue.push({\n          event: 'mute',\n          action: function() {\n            self.mute(muted, id);\n          }\n        });\n\n        return self;\n      }\n\n      // If applying mute/unmute to all sounds, update the group's value.\n      if (typeof id === 'undefined') {\n        if (typeof muted === 'boolean') {\n          self._muted = muted;\n        } else {\n          return self._muted;\n        }\n      }\n\n      // If no id is passed, get all ID's to be muted.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound) {\n          sound._muted = muted;\n\n          // Cancel active fade and set the volume to the end value.\n          if (sound._interval) {\n            self._stopFade(sound._id);\n          }\n\n          if (self._webAudio && sound._node) {\n            sound._node.gain.setValueAtTime(muted ? 0 : sound._volume, Howler.ctx.currentTime);\n          } else if (sound._node) {\n            sound._node.muted = Howler._muted ? true : muted;\n          }\n\n          self._emit('mute', sound._id);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the volume of this sound or of the Howl group. This method can optionally take 0, 1 or 2 arguments.\n     *   volume() -> Returns the group's volume value.\n     *   volume(id) -> Returns the sound id's current volume.\n     *   volume(vol) -> Sets the volume of all sounds in this Howl group.\n     *   volume(vol, id) -> Sets the volume of passed sound id.\n     * @return {Howl/Number} Returns self or current volume.\n     */\n    volume: function() {\n      var self = this;\n      var args = arguments;\n      var vol, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // Return the value of the groups' volume.\n        return self._volume;\n      } else if (args.length === 1 || args.length === 2 && typeof args[1] === 'undefined') {\n        // First check if this is an ID, and if not, assume it is a new volume.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          vol = parseFloat(args[0]);\n        }\n      } else if (args.length >= 2) {\n        vol = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // Update the volume or return the current volume.\n      var sound;\n      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n        // If the sound hasn't loaded, add it to the load queue to change volume when capable.\n        if (self._state !== 'loaded'|| self._playLock) {\n          self._queue.push({\n            event: 'volume',\n            action: function() {\n              self.volume.apply(self, args);\n            }\n          });\n\n          return self;\n        }\n\n        // Set the group volume.\n        if (typeof id === 'undefined') {\n          self._volume = vol;\n        }\n\n        // Update one or all volumes.\n        id = self._getSoundIds(id);\n        for (var i=0; i<id.length; i++) {\n          // Get the sound.\n          sound = self._soundById(id[i]);\n\n          if (sound) {\n            sound._volume = vol;\n\n            // Stop currently running fades.\n            if (!args[2]) {\n              self._stopFade(id[i]);\n            }\n\n            if (self._webAudio && sound._node && !sound._muted) {\n              sound._node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n            } else if (sound._node && !sound._muted) {\n              sound._node.volume = vol * Howler.volume();\n            }\n\n            self._emit('volume', sound._id);\n          }\n        }\n      } else {\n        sound = id ? self._soundById(id) : self._sounds[0];\n        return sound ? sound._volume : 0;\n      }\n\n      return self;\n    },\n\n    /**\n     * Fade a currently playing sound between two volumes (if no id is passed, all sounds will fade).\n     * @param  {Number} from The value to fade from (0.0 to 1.0).\n     * @param  {Number} to   The volume to fade to (0.0 to 1.0).\n     * @param  {Number} len  Time in milliseconds to fade.\n     * @param  {Number} id   The sound id (omit to fade all sounds).\n     * @return {Howl}\n     */\n    fade: function(from, to, len, id) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to fade when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'fade',\n          action: function() {\n            self.fade(from, to, len, id);\n          }\n        });\n\n        return self;\n      }\n\n      // Make sure the to/from/len values are numbers.\n      from = Math.min(Math.max(0, parseFloat(from)), 1);\n      to = Math.min(Math.max(0, parseFloat(to)), 1);\n      len = parseFloat(len);\n\n      // Set the volume to the start position.\n      self.volume(from, id);\n\n      // Fade the volume of one or all sounds.\n      var ids = self._getSoundIds(id);\n      for (var i=0; i<ids.length; i++) {\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        // Create a linear fade or fall back to timeouts with HTML5 Audio.\n        if (sound) {\n          // Stop the previous fade if no sprite is being used (otherwise, volume handles this).\n          if (!id) {\n            self._stopFade(ids[i]);\n          }\n\n          // If we are using Web Audio, let the native methods do the actual fade.\n          if (self._webAudio && !sound._muted) {\n            var currentTime = Howler.ctx.currentTime;\n            var end = currentTime + (len / 1000);\n            sound._volume = from;\n            sound._node.gain.setValueAtTime(from, currentTime);\n            sound._node.gain.linearRampToValueAtTime(to, end);\n          }\n\n          self._startFadeInterval(sound, from, to, len, ids[i], typeof id === 'undefined');\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Starts the internal interval to fade a sound.\n     * @param  {Object} sound Reference to sound to fade.\n     * @param  {Number} from The value to fade from (0.0 to 1.0).\n     * @param  {Number} to   The volume to fade to (0.0 to 1.0).\n     * @param  {Number} len  Time in milliseconds to fade.\n     * @param  {Number} id   The sound id to fade.\n     * @param  {Boolean} isGroup   If true, set the volume on the group.\n     */\n    _startFadeInterval: function(sound, from, to, len, id, isGroup) {\n      var self = this;\n      var vol = from;\n      var diff = to - from;\n      var steps = Math.abs(diff / 0.01);\n      var stepLen = Math.max(4, (steps > 0) ? len / steps : len);\n      var lastTick = Date.now();\n\n      // Store the value being faded to.\n      sound._fadeTo = to;\n\n      // Update the volume value on each interval tick.\n      sound._interval = setInterval(function() {\n        // Update the volume based on the time since the last tick.\n        var tick = (Date.now() - lastTick) / len;\n        lastTick = Date.now();\n        vol += diff * tick;\n\n        // Round to within 2 decimal points.\n        vol = Math.round(vol * 100) / 100;\n\n        // Make sure the volume is in the right bounds.\n        if (diff < 0) {\n          vol = Math.max(to, vol);\n        } else {\n          vol = Math.min(to, vol);\n        }\n\n        // Change the volume.\n        if (self._webAudio) {\n          sound._volume = vol;\n        } else {\n          self.volume(vol, sound._id, true);\n        }\n\n        // Set the group's volume.\n        if (isGroup) {\n          self._volume = vol;\n        }\n\n        // When the fade is complete, stop it and fire event.\n        if ((to < from && vol <= to) || (to > from && vol >= to)) {\n          clearInterval(sound._interval);\n          sound._interval = null;\n          sound._fadeTo = null;\n          self.volume(to, sound._id);\n          self._emit('fade', sound._id);\n        }\n      }, stepLen);\n    },\n\n    /**\n     * Internal method that stops the currently playing fade when\n     * a new fade starts, volume is changed or the sound is stopped.\n     * @param  {Number} id The sound id.\n     * @return {Howl}\n     */\n    _stopFade: function(id) {\n      var self = this;\n      var sound = self._soundById(id);\n\n      if (sound && sound._interval) {\n        if (self._webAudio) {\n          sound._node.gain.cancelScheduledValues(Howler.ctx.currentTime);\n        }\n\n        clearInterval(sound._interval);\n        sound._interval = null;\n        self.volume(sound._fadeTo, id);\n        sound._fadeTo = null;\n        self._emit('fade', id);\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the loop parameter on a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   loop() -> Returns the group's loop value.\n     *   loop(id) -> Returns the sound id's loop value.\n     *   loop(loop) -> Sets the loop value for all sounds in this Howl group.\n     *   loop(loop, id) -> Sets the loop value of passed sound id.\n     * @return {Howl/Boolean} Returns self or current loop value.\n     */\n    loop: function() {\n      var self = this;\n      var args = arguments;\n      var loop, id, sound;\n\n      // Determine the values for loop and id.\n      if (args.length === 0) {\n        // Return the grou's loop value.\n        return self._loop;\n      } else if (args.length === 1) {\n        if (typeof args[0] === 'boolean') {\n          loop = args[0];\n          self._loop = loop;\n        } else {\n          // Return this sound's loop value.\n          sound = self._soundById(parseInt(args[0], 10));\n          return sound ? sound._loop : false;\n        }\n      } else if (args.length === 2) {\n        loop = args[0];\n        id = parseInt(args[1], 10);\n      }\n\n      // If no id is passed, get all ID's to be looped.\n      var ids = self._getSoundIds(id);\n      for (var i=0; i<ids.length; i++) {\n        sound = self._soundById(ids[i]);\n\n        if (sound) {\n          sound._loop = loop;\n          if (self._webAudio && sound._node && sound._node.bufferSource) {\n            sound._node.bufferSource.loop = loop;\n            if (loop) {\n              sound._node.bufferSource.loopStart = sound._start || 0;\n              sound._node.bufferSource.loopEnd = sound._stop;\n            }\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the playback rate of a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   rate() -> Returns the first sound node's current playback rate.\n     *   rate(id) -> Returns the sound id's current playback rate.\n     *   rate(rate) -> Sets the playback rate of all sounds in this Howl group.\n     *   rate(rate, id) -> Sets the playback rate of passed sound id.\n     * @return {Howl/Number} Returns self or the current playback rate.\n     */\n    rate: function() {\n      var self = this;\n      var args = arguments;\n      var rate, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // We will simply return the current rate of the first node.\n        id = self._sounds[0]._id;\n      } else if (args.length === 1) {\n        // First check if this is an ID, and if not, assume it is a new rate value.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          rate = parseFloat(args[0]);\n        }\n      } else if (args.length === 2) {\n        rate = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // Update the playback rate or return the current value.\n      var sound;\n      if (typeof rate === 'number') {\n        // If the sound hasn't loaded, add it to the load queue to change playback rate when capable.\n        if (self._state !== 'loaded' || self._playLock) {\n          self._queue.push({\n            event: 'rate',\n            action: function() {\n              self.rate.apply(self, args);\n            }\n          });\n\n          return self;\n        }\n\n        // Set the group rate.\n        if (typeof id === 'undefined') {\n          self._rate = rate;\n        }\n\n        // Update one or all volumes.\n        id = self._getSoundIds(id);\n        for (var i=0; i<id.length; i++) {\n          // Get the sound.\n          sound = self._soundById(id[i]);\n\n          if (sound) {\n            // Keep track of our position when the rate changed and update the playback\n            // start position so we can properly adjust the seek position for time elapsed.\n            if (self.playing(id[i])) {\n              sound._rateSeek = self.seek(id[i]);\n              sound._playStart = self._webAudio ? Howler.ctx.currentTime : sound._playStart;\n            }\n            sound._rate = rate;\n\n            // Change the playback rate.\n            if (self._webAudio && sound._node && sound._node.bufferSource) {\n              sound._node.bufferSource.playbackRate.setValueAtTime(rate, Howler.ctx.currentTime);\n            } else if (sound._node) {\n              sound._node.playbackRate = rate;\n            }\n\n            // Reset the timers.\n            var seek = self.seek(id[i]);\n            var duration = ((self._sprite[sound._sprite][0] + self._sprite[sound._sprite][1]) / 1000) - seek;\n            var timeout = (duration * 1000) / Math.abs(sound._rate);\n\n            // Start a new end timer if sound is already playing.\n            if (self._endTimers[id[i]] || !sound._paused) {\n              self._clearTimer(id[i]);\n              self._endTimers[id[i]] = setTimeout(self._ended.bind(self, sound), timeout);\n            }\n\n            self._emit('rate', sound._id);\n          }\n        }\n      } else {\n        sound = self._soundById(id);\n        return sound ? sound._rate : self._rate;\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the seek position of a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   seek() -> Returns the first sound node's current seek position.\n     *   seek(id) -> Returns the sound id's current seek position.\n     *   seek(seek) -> Sets the seek position of the first sound node.\n     *   seek(seek, id) -> Sets the seek position of passed sound id.\n     * @return {Howl/Number} Returns self or the current seek position.\n     */\n    seek: function() {\n      var self = this;\n      var args = arguments;\n      var seek, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // We will simply return the current position of the first node.\n        id = self._sounds[0]._id;\n      } else if (args.length === 1) {\n        // First check if this is an ID, and if not, assume it is a new seek position.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else if (self._sounds.length) {\n          id = self._sounds[0]._id;\n          seek = parseFloat(args[0]);\n        }\n      } else if (args.length === 2) {\n        seek = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // If there is no ID, bail out.\n      if (typeof id === 'undefined') {\n        return self;\n      }\n\n      // If the sound hasn't loaded, add it to the load queue to seek when capable.\n      if (typeof seek === 'number' && (self._state !== 'loaded' || self._playLock)) {\n        self._queue.push({\n          event: 'seek',\n          action: function() {\n            self.seek.apply(self, args);\n          }\n        });\n\n        return self;\n      }\n\n      // Get the sound.\n      var sound = self._soundById(id);\n\n      if (sound) {\n        if (typeof seek === 'number' && seek >= 0) {\n          // Pause the sound and update position for restarting playback.\n          var playing = self.playing(id);\n          if (playing) {\n            self.pause(id, true);\n          }\n\n          // Move the position of the track and cancel timer.\n          sound._seek = seek;\n          sound._ended = false;\n          self._clearTimer(id);\n\n          // Update the seek position for HTML5 Audio.\n          if (!self._webAudio && sound._node && !isNaN(sound._node.duration)) {\n            sound._node.currentTime = seek;\n          }\n\n          // Seek and emit when ready.\n          var seekAndEmit = function() {\n            self._emit('seek', id);\n\n            // Restart the playback if the sound was playing.\n            if (playing) {\n              self.play(id, true);\n            }\n          };\n\n          // Wait for the play lock to be unset before emitting (HTML5 Audio).\n          if (playing && !self._webAudio) {\n            var emitSeek = function() {\n              if (!self._playLock) {\n                seekAndEmit();\n              } else {\n                setTimeout(emitSeek, 0);\n              }\n            };\n            setTimeout(emitSeek, 0);\n          } else {\n            seekAndEmit();\n          }\n        } else {\n          if (self._webAudio) {\n            var realTime = self.playing(id) ? Howler.ctx.currentTime - sound._playStart : 0;\n            var rateSeek = sound._rateSeek ? sound._rateSeek - sound._seek : 0;\n            return sound._seek + (rateSeek + realTime * Math.abs(sound._rate));\n          } else {\n            return sound._node.currentTime;\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Check if a specific sound is currently playing or not (if id is provided), or check if at least one of the sounds in the group is playing or not.\n     * @param  {Number}  id The sound id to check. If none is passed, the whole sound group is checked.\n     * @return {Boolean} True if playing and false if not.\n     */\n    playing: function(id) {\n      var self = this;\n\n      // Check the passed sound ID (if any).\n      if (typeof id === 'number') {\n        var sound = self._soundById(id);\n        return sound ? !sound._paused : false;\n      }\n\n      // Otherwise, loop through all sounds and check if any are playing.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (!self._sounds[i]._paused) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * Get the duration of this sound. Passing a sound id will return the sprite duration.\n     * @param  {Number} id The sound id to check. If none is passed, return full source duration.\n     * @return {Number} Audio duration in seconds.\n     */\n    duration: function(id) {\n      var self = this;\n      var duration = self._duration;\n\n      // If we pass an ID, get the sound and return the sprite length.\n      var sound = self._soundById(id);\n      if (sound) {\n        duration = self._sprite[sound._sprite][1] / 1000;\n      }\n\n      return duration;\n    },\n\n    /**\n     * Returns the current loaded state of this Howl.\n     * @return {String} 'unloaded', 'loading', 'loaded'\n     */\n    state: function() {\n      return this._state;\n    },\n\n    /**\n     * Unload and destroy the current Howl object.\n     * This will immediately stop all sound instances attached to this group.\n     */\n    unload: function() {\n      var self = this;\n\n      // Stop playing any active sounds.\n      var sounds = self._sounds;\n      for (var i=0; i<sounds.length; i++) {\n        // Stop the sound if it is currently playing.\n        if (!sounds[i]._paused) {\n          self.stop(sounds[i]._id);\n        }\n\n        // Remove the source or disconnect.\n        if (!self._webAudio) {\n          // Set the source to 0-second silence to stop any downloading (except in IE).\n          self._clearSound(sounds[i]._node);\n\n          // Remove any event listeners.\n          sounds[i]._node.removeEventListener('error', sounds[i]._errorFn, false);\n          sounds[i]._node.removeEventListener(Howler._canPlayEvent, sounds[i]._loadFn, false);\n          sounds[i]._node.removeEventListener('ended', sounds[i]._endFn, false);\n\n          // Release the Audio object back to the pool.\n          Howler._releaseHtml5Audio(sounds[i]._node);\n        }\n\n        // Empty out all of the nodes.\n        delete sounds[i]._node;\n\n        // Make sure all timers are cleared out.\n        self._clearTimer(sounds[i]._id);\n      }\n\n      // Remove the references in the global Howler object.\n      var index = Howler._howls.indexOf(self);\n      if (index >= 0) {\n        Howler._howls.splice(index, 1);\n      }\n\n      // Delete this sound from the cache (if no other Howl is using it).\n      var remCache = true;\n      for (i=0; i<Howler._howls.length; i++) {\n        if (Howler._howls[i]._src === self._src || self._src.indexOf(Howler._howls[i]._src) >= 0) {\n          remCache = false;\n          break;\n        }\n      }\n\n      if (cache && remCache) {\n        delete cache[self._src];\n      }\n\n      // Clear global errors.\n      Howler.noAudio = false;\n\n      // Clear out `self`.\n      self._state = 'unloaded';\n      self._sounds = [];\n      self = null;\n\n      return null;\n    },\n\n    /**\n     * Listen to a custom event.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to call.\n     * @param  {Number}   id    (optional) Only listen to events for this sound.\n     * @param  {Number}   once  (INTERNAL) Marks event to fire only once.\n     * @return {Howl}\n     */\n    on: function(event, fn, id, once) {\n      var self = this;\n      var events = self['_on' + event];\n\n      if (typeof fn === 'function') {\n        events.push(once ? {id: id, fn: fn, once: once} : {id: id, fn: fn});\n      }\n\n      return self;\n    },\n\n    /**\n     * Remove a custom event. Call without parameters to remove all events.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to remove. Leave empty to remove all.\n     * @param  {Number}   id    (optional) Only remove events for this sound.\n     * @return {Howl}\n     */\n    off: function(event, fn, id) {\n      var self = this;\n      var events = self['_on' + event];\n      var i = 0;\n\n      // Allow passing just an event and ID.\n      if (typeof fn === 'number') {\n        id = fn;\n        fn = null;\n      }\n\n      if (fn || id) {\n        // Loop through event store and remove the passed function.\n        for (i=0; i<events.length; i++) {\n          var isId = (id === events[i].id);\n          if (fn === events[i].fn && isId || !fn && isId) {\n            events.splice(i, 1);\n            break;\n          }\n        }\n      } else if (event) {\n        // Clear out all events of this type.\n        self['_on' + event] = [];\n      } else {\n        // Clear out all events of every type.\n        var keys = Object.keys(self);\n        for (i=0; i<keys.length; i++) {\n          if ((keys[i].indexOf('_on') === 0) && Array.isArray(self[keys[i]])) {\n            self[keys[i]] = [];\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Listen to a custom event and remove it once fired.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to call.\n     * @param  {Number}   id    (optional) Only listen to events for this sound.\n     * @return {Howl}\n     */\n    once: function(event, fn, id) {\n      var self = this;\n\n      // Setup the event listener.\n      self.on(event, fn, id, 1);\n\n      return self;\n    },\n\n    /**\n     * Emit all events of a specific type and pass the sound id.\n     * @param  {String} event Event name.\n     * @param  {Number} id    Sound ID.\n     * @param  {Number} msg   Message to go with event.\n     * @return {Howl}\n     */\n    _emit: function(event, id, msg) {\n      var self = this;\n      var events = self['_on' + event];\n\n      // Loop through event store and fire all functions.\n      for (var i=events.length-1; i>=0; i--) {\n        // Only fire the listener if the correct ID is used.\n        if (!events[i].id || events[i].id === id || event === 'load') {\n          setTimeout(function(fn) {\n            fn.call(this, id, msg);\n          }.bind(self, events[i].fn), 0);\n\n          // If this event was setup with `once`, remove it.\n          if (events[i].once) {\n            self.off(event, events[i].fn, events[i].id);\n          }\n        }\n      }\n\n      // Pass the event type into load queue so that it can continue stepping.\n      self._loadQueue(event);\n\n      return self;\n    },\n\n    /**\n     * Queue of actions initiated before the sound has loaded.\n     * These will be called in sequence, with the next only firing\n     * after the previous has finished executing (even if async like play).\n     * @return {Howl}\n     */\n    _loadQueue: function(event) {\n      var self = this;\n\n      if (self._queue.length > 0) {\n        var task = self._queue[0];\n\n        // Remove this task if a matching event was passed.\n        if (task.event === event) {\n          self._queue.shift();\n          self._loadQueue();\n        }\n\n        // Run the task if no event type is passed.\n        if (!event) {\n          task.action();\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Fired when playback ends at the end of the duration.\n     * @param  {Sound} sound The sound object to work with.\n     * @return {Howl}\n     */\n    _ended: function(sound) {\n      var self = this;\n      var sprite = sound._sprite;\n\n      // If we are using IE and there was network latency we may be clipping\n      // audio before it completes playing. Lets check the node to make sure it\n      // believes it has completed, before ending the playback.\n      if (!self._webAudio && sound._node && !sound._node.paused && !sound._node.ended && sound._node.currentTime < sound._stop) {\n        setTimeout(self._ended.bind(self, sound), 100);\n        return self;\n      }\n\n      // Should this sound loop?\n      var loop = !!(sound._loop || self._sprite[sprite][2]);\n\n      // Fire the ended event.\n      self._emit('end', sound._id);\n\n      // Restart the playback for HTML5 Audio loop.\n      if (!self._webAudio && loop) {\n        self.stop(sound._id, true).play(sound._id);\n      }\n\n      // Restart this timer if on a Web Audio loop.\n      if (self._webAudio && loop) {\n        self._emit('play', sound._id);\n        sound._seek = sound._start || 0;\n        sound._rateSeek = 0;\n        sound._playStart = Howler.ctx.currentTime;\n\n        var timeout = ((sound._stop - sound._start) * 1000) / Math.abs(sound._rate);\n        self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n      }\n\n      // Mark the node as paused.\n      if (self._webAudio && !loop) {\n        sound._paused = true;\n        sound._ended = true;\n        sound._seek = sound._start || 0;\n        sound._rateSeek = 0;\n        self._clearTimer(sound._id);\n\n        // Clean up the buffer source.\n        self._cleanBuffer(sound._node);\n\n        // Attempt to auto-suspend AudioContext if no sounds are still playing.\n        Howler._autoSuspend();\n      }\n\n      // When using a sprite, end the track.\n      if (!self._webAudio && !loop) {\n        self.stop(sound._id, true);\n      }\n\n      return self;\n    },\n\n    /**\n     * Clear the end timer for a sound playback.\n     * @param  {Number} id The sound ID.\n     * @return {Howl}\n     */\n    _clearTimer: function(id) {\n      var self = this;\n\n      if (self._endTimers[id]) {\n        // Clear the timeout or remove the ended listener.\n        if (typeof self._endTimers[id] !== 'function') {\n          clearTimeout(self._endTimers[id]);\n        } else {\n          var sound = self._soundById(id);\n          if (sound && sound._node) {\n            sound._node.removeEventListener('ended', self._endTimers[id], false);\n          }\n        }\n\n        delete self._endTimers[id];\n      }\n\n      return self;\n    },\n\n    /**\n     * Return the sound identified by this ID, or return null.\n     * @param  {Number} id Sound ID\n     * @return {Object}    Sound object or null.\n     */\n    _soundById: function(id) {\n      var self = this;\n\n      // Loop through all sounds and find the one with this ID.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (id === self._sounds[i]._id) {\n          return self._sounds[i];\n        }\n      }\n\n      return null;\n    },\n\n    /**\n     * Return an inactive sound from the pool or create a new one.\n     * @return {Sound} Sound playback object.\n     */\n    _inactiveSound: function() {\n      var self = this;\n\n      self._drain();\n\n      // Find the first inactive node to recycle.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (self._sounds[i]._ended) {\n          return self._sounds[i].reset();\n        }\n      }\n\n      // If no inactive node was found, create a new one.\n      return new Sound(self);\n    },\n\n    /**\n     * Drain excess inactive sounds from the pool.\n     */\n    _drain: function() {\n      var self = this;\n      var limit = self._pool;\n      var cnt = 0;\n      var i = 0;\n\n      // If there are less sounds than the max pool size, we are done.\n      if (self._sounds.length < limit) {\n        return;\n      }\n\n      // Count the number of inactive sounds.\n      for (i=0; i<self._sounds.length; i++) {\n        if (self._sounds[i]._ended) {\n          cnt++;\n        }\n      }\n\n      // Remove excess inactive sounds, going in reverse order.\n      for (i=self._sounds.length - 1; i>=0; i--) {\n        if (cnt <= limit) {\n          return;\n        }\n\n        if (self._sounds[i]._ended) {\n          // Disconnect the audio source when using Web Audio.\n          if (self._webAudio && self._sounds[i]._node) {\n            self._sounds[i]._node.disconnect(0);\n          }\n\n          // Remove sounds until we have the pool size.\n          self._sounds.splice(i, 1);\n          cnt--;\n        }\n      }\n    },\n\n    /**\n     * Get all ID's from the sounds pool.\n     * @param  {Number} id Only return one ID if one is passed.\n     * @return {Array}    Array of IDs.\n     */\n    _getSoundIds: function(id) {\n      var self = this;\n\n      if (typeof id === 'undefined') {\n        var ids = [];\n        for (var i=0; i<self._sounds.length; i++) {\n          ids.push(self._sounds[i]._id);\n        }\n\n        return ids;\n      } else {\n        return [id];\n      }\n    },\n\n    /**\n     * Load the sound back into the buffer source.\n     * @param  {Sound} sound The sound object to work with.\n     * @return {Howl}\n     */\n    _refreshBuffer: function(sound) {\n      var self = this;\n\n      // Setup the buffer source for playback.\n      sound._node.bufferSource = Howler.ctx.createBufferSource();\n      sound._node.bufferSource.buffer = cache[self._src];\n\n      // Connect to the correct node.\n      if (sound._panner) {\n        sound._node.bufferSource.connect(sound._panner);\n      } else {\n        sound._node.bufferSource.connect(sound._node);\n      }\n\n      // Setup looping and playback rate.\n      sound._node.bufferSource.loop = sound._loop;\n      if (sound._loop) {\n        sound._node.bufferSource.loopStart = sound._start || 0;\n        sound._node.bufferSource.loopEnd = sound._stop || 0;\n      }\n      sound._node.bufferSource.playbackRate.setValueAtTime(sound._rate, Howler.ctx.currentTime);\n\n      return self;\n    },\n\n    /**\n     * Prevent memory leaks by cleaning up the buffer source after playback.\n     * @param  {Object} node Sound's audio node containing the buffer source.\n     * @return {Howl}\n     */\n    _cleanBuffer: function(node) {\n      var self = this;\n      var isIOS = Howler._navigator && Howler._navigator.vendor.indexOf('Apple') >= 0;\n\n      if (Howler._scratchBuffer && node.bufferSource) {\n        node.bufferSource.onended = null;\n        node.bufferSource.disconnect(0);\n        if (isIOS) {\n          try { node.bufferSource.buffer = Howler._scratchBuffer; } catch(e) {}\n        }\n      }\n      node.bufferSource = null;\n\n      return self;\n    },\n\n    /**\n     * Set the source to a 0-second silence to stop any downloading (except in IE).\n     * @param  {Object} node Audio node to clear.\n     */\n    _clearSound: function(node) {\n      var checkIE = /MSIE |Trident\\//.test(Howler._navigator && Howler._navigator.userAgent);\n      if (!checkIE) {\n        node.src = 'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA';\n      }\n    }\n  };\n\n  /** Single Sound Methods **/\n  /***************************************************************************/\n\n  /**\n   * Setup the sound object, which each node attached to a Howl group is contained in.\n   * @param {Object} howl The Howl parent group.\n   */\n  var Sound = function(howl) {\n    this._parent = howl;\n    this.init();\n  };\n  Sound.prototype = {\n    /**\n     * Initialize a new Sound object.\n     * @return {Sound}\n     */\n    init: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Setup the default parameters.\n      self._muted = parent._muted;\n      self._loop = parent._loop;\n      self._volume = parent._volume;\n      self._rate = parent._rate;\n      self._seek = 0;\n      self._paused = true;\n      self._ended = true;\n      self._sprite = '__default';\n\n      // Generate a unique ID for this sound.\n      self._id = ++Howler._counter;\n\n      // Add itself to the parent's pool.\n      parent._sounds.push(self);\n\n      // Create the new node.\n      self.create();\n\n      return self;\n    },\n\n    /**\n     * Create and setup a new sound object, whether HTML5 Audio or Web Audio.\n     * @return {Sound}\n     */\n    create: function() {\n      var self = this;\n      var parent = self._parent;\n      var volume = (Howler._muted || self._muted || self._parent._muted) ? 0 : self._volume;\n\n      if (parent._webAudio) {\n        // Create the gain node for controlling volume (the source will connect to this).\n        self._node = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n        self._node.gain.setValueAtTime(volume, Howler.ctx.currentTime);\n        self._node.paused = true;\n        self._node.connect(Howler.masterGain);\n      } else if (!Howler.noAudio) {\n        // Get an unlocked Audio object from the pool.\n        self._node = Howler._obtainHtml5Audio();\n\n        // Listen for errors (http://dev.w3.org/html5/spec-author-view/spec.html#mediaerror).\n        self._errorFn = self._errorListener.bind(self);\n        self._node.addEventListener('error', self._errorFn, false);\n\n        // Listen for 'canplaythrough' event to let us know the sound is ready.\n        self._loadFn = self._loadListener.bind(self);\n        self._node.addEventListener(Howler._canPlayEvent, self._loadFn, false);\n\n        // Listen for the 'ended' event on the sound to account for edge-case where\n        // a finite sound has a duration of Infinity.\n        self._endFn = self._endListener.bind(self);\n        self._node.addEventListener('ended', self._endFn, false);\n\n        // Setup the new audio node.\n        self._node.src = parent._src;\n        self._node.preload = parent._preload === true ? 'auto' : parent._preload;\n        self._node.volume = volume * Howler.volume();\n\n        // Begin loading the source.\n        self._node.load();\n      }\n\n      return self;\n    },\n\n    /**\n     * Reset the parameters of this sound to the original state (for recycle).\n     * @return {Sound}\n     */\n    reset: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Reset all of the parameters of this sound.\n      self._muted = parent._muted;\n      self._loop = parent._loop;\n      self._volume = parent._volume;\n      self._rate = parent._rate;\n      self._seek = 0;\n      self._rateSeek = 0;\n      self._paused = true;\n      self._ended = true;\n      self._sprite = '__default';\n\n      // Generate a new ID so that it isn't confused with the previous sound.\n      self._id = ++Howler._counter;\n\n      return self;\n    },\n\n    /**\n     * HTML5 Audio error listener callback.\n     */\n    _errorListener: function() {\n      var self = this;\n\n      // Fire an error event and pass back the code.\n      self._parent._emit('loaderror', self._id, self._node.error ? self._node.error.code : 0);\n\n      // Clear the event listener.\n      self._node.removeEventListener('error', self._errorFn, false);\n    },\n\n    /**\n     * HTML5 Audio canplaythrough listener callback.\n     */\n    _loadListener: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Round up the duration to account for the lower precision in HTML5 Audio.\n      parent._duration = Math.ceil(self._node.duration * 10) / 10;\n\n      // Setup a sprite if none is defined.\n      if (Object.keys(parent._sprite).length === 0) {\n        parent._sprite = {__default: [0, parent._duration * 1000]};\n      }\n\n      if (parent._state !== 'loaded') {\n        parent._state = 'loaded';\n        parent._emit('load');\n        parent._loadQueue();\n      }\n\n      // Clear the event listener.\n      self._node.removeEventListener(Howler._canPlayEvent, self._loadFn, false);\n    },\n\n    /**\n     * HTML5 Audio ended listener callback.\n     */\n    _endListener: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Only handle the `ended`` event if the duration is Infinity.\n      if (parent._duration === Infinity) {\n        // Update the parent duration to match the real audio duration.\n        // Round up the duration to account for the lower precision in HTML5 Audio.\n        parent._duration = Math.ceil(self._node.duration * 10) / 10;\n\n        // Update the sprite that corresponds to the real duration.\n        if (parent._sprite.__default[1] === Infinity) {\n          parent._sprite.__default[1] = parent._duration * 1000;\n        }\n\n        // Run the regular ended method.\n        parent._ended(self);\n      }\n\n      // Clear the event listener since the duration is now correct.\n      self._node.removeEventListener('ended', self._endFn, false);\n    }\n  };\n\n  /** Helper Methods **/\n  /***************************************************************************/\n\n  var cache = {};\n\n  /**\n   * Buffer a sound from URL, Data URI or cache and decode to audio source (Web Audio API).\n   * @param  {Howl} self\n   */\n  var loadBuffer = function(self) {\n    var url = self._src;\n\n    // Check if the buffer has already been cached and use it instead.\n    if (cache[url]) {\n      // Set the duration from the cache.\n      self._duration = cache[url].duration;\n\n      // Load the sound into this Howl.\n      loadSound(self);\n\n      return;\n    }\n\n    if (/^data:[^;]+;base64,/.test(url)) {\n      // Decode the base64 data URI without XHR, since some browsers don't support it.\n      var data = atob(url.split(',')[1]);\n      var dataView = new Uint8Array(data.length);\n      for (var i=0; i<data.length; ++i) {\n        dataView[i] = data.charCodeAt(i);\n      }\n\n      decodeAudioData(dataView.buffer, self);\n    } else {\n      // Load the buffer from the URL.\n      var xhr = new XMLHttpRequest();\n      xhr.open(self._xhr.method, url, true);\n      xhr.withCredentials = self._xhr.withCredentials;\n      xhr.responseType = 'arraybuffer';\n\n      // Apply any custom headers to the request.\n      if (self._xhr.headers) {\n        Object.keys(self._xhr.headers).forEach(function(key) {\n          xhr.setRequestHeader(key, self._xhr.headers[key]);\n        });\n      }\n\n      xhr.onload = function() {\n        // Make sure we get a successful response back.\n        var code = (xhr.status + '')[0];\n        if (code !== '0' && code !== '2' && code !== '3') {\n          self._emit('loaderror', null, 'Failed loading audio file with status: ' + xhr.status + '.');\n          return;\n        }\n\n        decodeAudioData(xhr.response, self);\n      };\n      xhr.onerror = function() {\n        // If there is an error, switch to HTML5 Audio.\n        if (self._webAudio) {\n          self._html5 = true;\n          self._webAudio = false;\n          self._sounds = [];\n          delete cache[url];\n          self.load();\n        }\n      };\n      safeXhrSend(xhr);\n    }\n  };\n\n  /**\n   * Send the XHR request wrapped in a try/catch.\n   * @param  {Object} xhr XHR to send.\n   */\n  var safeXhrSend = function(xhr) {\n    try {\n      xhr.send();\n    } catch (e) {\n      xhr.onerror();\n    }\n  };\n\n  /**\n   * Decode audio data from an array buffer.\n   * @param  {ArrayBuffer} arraybuffer The audio data.\n   * @param  {Howl}        self\n   */\n  var decodeAudioData = function(arraybuffer, self) {\n    // Fire a load error if something broke.\n    var error = function() {\n      self._emit('loaderror', null, 'Decoding audio data failed.');\n    };\n\n    // Load the sound on success.\n    var success = function(buffer) {\n      if (buffer && self._sounds.length > 0) {\n        cache[self._src] = buffer;\n        loadSound(self, buffer);\n      } else {\n        error();\n      }\n    };\n\n    // Decode the buffer into an audio source.\n    if (typeof Promise !== 'undefined' && Howler.ctx.decodeAudioData.length === 1) {\n      Howler.ctx.decodeAudioData(arraybuffer).then(success).catch(error);\n    } else {\n      Howler.ctx.decodeAudioData(arraybuffer, success, error);\n    }\n  }\n\n  /**\n   * Sound is now loaded, so finish setting everything up and fire the loaded event.\n   * @param  {Howl} self\n   * @param  {Object} buffer The decoded buffer sound source.\n   */\n  var loadSound = function(self, buffer) {\n    // Set the duration.\n    if (buffer && !self._duration) {\n      self._duration = buffer.duration;\n    }\n\n    // Setup a sprite if none is defined.\n    if (Object.keys(self._sprite).length === 0) {\n      self._sprite = {__default: [0, self._duration * 1000]};\n    }\n\n    // Fire the loaded event.\n    if (self._state !== 'loaded') {\n      self._state = 'loaded';\n      self._emit('load');\n      self._loadQueue();\n    }\n  };\n\n  /**\n   * Setup the audio context when available, or switch to HTML5 Audio mode.\n   */\n  var setupAudioContext = function() {\n    // If we have already detected that Web Audio isn't supported, don't run this step again.\n    if (!Howler.usingWebAudio) {\n      return;\n    }\n\n    // Check if we are using Web Audio and setup the AudioContext if we are.\n    try {\n      if (typeof AudioContext !== 'undefined') {\n        Howler.ctx = new AudioContext();\n      } else if (typeof webkitAudioContext !== 'undefined') {\n        Howler.ctx = new webkitAudioContext();\n      } else {\n        Howler.usingWebAudio = false;\n      }\n    } catch(e) {\n      Howler.usingWebAudio = false;\n    }\n\n    // If the audio context creation still failed, set using web audio to false.\n    if (!Howler.ctx) {\n      Howler.usingWebAudio = false;\n    }\n\n    // Check if a webview is being used on iOS8 or earlier (rather than the browser).\n    // If it is, disable Web Audio as it causes crashing.\n    var iOS = (/iP(hone|od|ad)/.test(Howler._navigator && Howler._navigator.platform));\n    var appVersion = Howler._navigator && Howler._navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n    var version = appVersion ? parseInt(appVersion[1], 10) : null;\n    if (iOS && version && version < 9) {\n      var safari = /safari/.test(Howler._navigator && Howler._navigator.userAgent.toLowerCase());\n      if (Howler._navigator && !safari) {\n        Howler.usingWebAudio = false;\n      }\n    }\n\n    // Create and expose the master GainNode when using Web Audio (useful for plugins or advanced usage).\n    if (Howler.usingWebAudio) {\n      Howler.masterGain = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n      Howler.masterGain.gain.setValueAtTime(Howler._muted ? 0 : Howler._volume, Howler.ctx.currentTime);\n      Howler.masterGain.connect(Howler.ctx.destination);\n    }\n\n    // Re-run the setup on Howler.\n    Howler._setup();\n  };\n\n  // Add support for AMD (Asynchronous Module Definition) libraries such as require.js.\n  if (typeof define === 'function' && define.amd) {\n    define([], function() {\n      return {\n        Howler: Howler,\n        Howl: Howl\n      };\n    });\n  }\n\n  // Add support for CommonJS libraries such as browserify.\n  if (typeof exports !== 'undefined') {\n    exports.Howler = Howler;\n    exports.Howl = Howl;\n  }\n\n  // Add to global in Node.js (for testing, etc).\n  if (typeof global !== 'undefined') {\n    global.HowlerGlobal = HowlerGlobal;\n    global.Howler = Howler;\n    global.Howl = Howl;\n    global.Sound = Sound;\n  } else if (typeof window !== 'undefined') {  // Define globally in case AMD is not available or unused.\n    window.HowlerGlobal = HowlerGlobal;\n    window.Howler = Howler;\n    window.Howl = Howl;\n    window.Sound = Sound;\n  }\n})();\n\n\n/*!\n *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.\n *  \n *  howler.js v2.2.1\n *  howlerjs.com\n *\n *  (c) 2013-2020, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n\n(function() {\n\n  'use strict';\n\n  // Setup default properties.\n  HowlerGlobal.prototype._pos = [0, 0, 0];\n  HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0];\n\n  /** Global Methods **/\n  /***************************************************************************/\n\n  /**\n   * Helper method to update the stereo panning position of all current Howls.\n   * Future Howls will not use this value unless explicitly set.\n   * @param  {Number} pan A value of -1.0 is all the way left and 1.0 is all the way right.\n   * @return {Howler/Number}     Self or current stereo panning value.\n   */\n  HowlerGlobal.prototype.stereo = function(pan) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Loop through all Howls and update their stereo panning.\n    for (var i=self._howls.length-1; i>=0; i--) {\n      self._howls[i].stereo(pan);\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the position of the listener in 3D cartesian space. Sounds using\n   * 3D position will be relative to the listener's position.\n   * @param  {Number} x The x-position of the listener.\n   * @param  {Number} y The y-position of the listener.\n   * @param  {Number} z The z-position of the listener.\n   * @return {Howler/Array}   Self or current listener position.\n   */\n  HowlerGlobal.prototype.pos = function(x, y, z) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? self._pos[1] : y;\n    z = (typeof z !== 'number') ? self._pos[2] : z;\n\n    if (typeof x === 'number') {\n      self._pos = [x, y, z];\n\n      if (typeof self.ctx.listener.positionX !== 'undefined') {\n        self.ctx.listener.positionX.setTargetAtTime(self._pos[0], Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.positionY.setTargetAtTime(self._pos[1], Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.positionZ.setTargetAtTime(self._pos[2], Howler.ctx.currentTime, 0.1);\n      } else {\n        self.ctx.listener.setPosition(self._pos[0], self._pos[1], self._pos[2]);\n      }\n    } else {\n      return self._pos;\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the direction the listener is pointing in the 3D cartesian space.\n   * A front and up vector must be provided. The front is the direction the\n   * face of the listener is pointing, and up is the direction the top of the\n   * listener is pointing. Thus, these values are expected to be at right angles\n   * from each other.\n   * @param  {Number} x   The x-orientation of the listener.\n   * @param  {Number} y   The y-orientation of the listener.\n   * @param  {Number} z   The z-orientation of the listener.\n   * @param  {Number} xUp The x-orientation of the top of the listener.\n   * @param  {Number} yUp The y-orientation of the top of the listener.\n   * @param  {Number} zUp The z-orientation of the top of the listener.\n   * @return {Howler/Array}     Returns self or the current orientation vectors.\n   */\n  HowlerGlobal.prototype.orientation = function(x, y, z, xUp, yUp, zUp) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    var or = self._orientation;\n    y = (typeof y !== 'number') ? or[1] : y;\n    z = (typeof z !== 'number') ? or[2] : z;\n    xUp = (typeof xUp !== 'number') ? or[3] : xUp;\n    yUp = (typeof yUp !== 'number') ? or[4] : yUp;\n    zUp = (typeof zUp !== 'number') ? or[5] : zUp;\n\n    if (typeof x === 'number') {\n      self._orientation = [x, y, z, xUp, yUp, zUp];\n\n      if (typeof self.ctx.listener.forwardX !== 'undefined') {\n        self.ctx.listener.forwardX.setTargetAtTime(x, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.forwardY.setTargetAtTime(y, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.forwardZ.setTargetAtTime(z, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upX.setTargetAtTime(xUp, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upY.setTargetAtTime(yUp, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upZ.setTargetAtTime(zUp, Howler.ctx.currentTime, 0.1);\n      } else {\n        self.ctx.listener.setOrientation(x, y, z, xUp, yUp, zUp);\n      }\n    } else {\n      return or;\n    }\n\n    return self;\n  };\n\n  /** Group Methods **/\n  /***************************************************************************/\n\n  /**\n   * Add new properties to the core init.\n   * @param  {Function} _super Core init method.\n   * @return {Howl}\n   */\n  Howl.prototype.init = (function(_super) {\n    return function(o) {\n      var self = this;\n\n      // Setup user-defined default properties.\n      self._orientation = o.orientation || [1, 0, 0];\n      self._stereo = o.stereo || null;\n      self._pos = o.pos || null;\n      self._pannerAttr = {\n        coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : 360,\n        coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : 360,\n        coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : 0,\n        distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : 'inverse',\n        maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : 10000,\n        panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : 'HRTF',\n        refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : 1,\n        rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : 1\n      };\n\n      // Setup event listeners.\n      self._onstereo = o.onstereo ? [{fn: o.onstereo}] : [];\n      self._onpos = o.onpos ? [{fn: o.onpos}] : [];\n      self._onorientation = o.onorientation ? [{fn: o.onorientation}] : [];\n\n      // Complete initilization with howler.js core's init function.\n      return _super.call(this, o);\n    };\n  })(Howl.prototype.init);\n\n  /**\n   * Get/set the stereo panning of the audio source for this sound or all in the group.\n   * @param  {Number} pan  A value of -1.0 is all the way left and 1.0 is all the way right.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Number}    Returns self or the current stereo panning value.\n   */\n  Howl.prototype.stereo = function(pan, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change stereo pan when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'stereo',\n        action: function() {\n          self.stereo(pan, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Check for PannerStereoNode support and fallback to PannerNode if it doesn't exist.\n    var pannerType = (typeof Howler.ctx.createStereoPanner === 'undefined') ? 'spatial' : 'stereo';\n\n    // Setup the group's stereo panning if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's stereo panning if no parameters are passed.\n      if (typeof pan === 'number') {\n        self._stereo = pan;\n        self._pos = [pan, 0, 0];\n      } else {\n        return self._stereo;\n      }\n    }\n\n    // Change the streo panning of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof pan === 'number') {\n          sound._stereo = pan;\n          sound._pos = [pan, 0, 0];\n\n          if (sound._node) {\n            // If we are falling back, make sure the panningModel is equalpower.\n            sound._pannerAttr.panningModel = 'equalpower';\n\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner || !sound._panner.pan) {\n              setupPanner(sound, pannerType);\n            }\n\n            if (pannerType === 'spatial') {\n              if (typeof sound._panner.positionX !== 'undefined') {\n                sound._panner.positionX.setValueAtTime(pan, Howler.ctx.currentTime);\n                sound._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime);\n                sound._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime);\n              } else {\n                sound._panner.setPosition(pan, 0, 0);\n              }\n            } else {\n              sound._panner.pan.setValueAtTime(pan, Howler.ctx.currentTime);\n            }\n          }\n\n          self._emit('stereo', sound._id);\n        } else {\n          return sound._stereo;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the 3D spatial position of the audio source for this sound or group relative to the global listener.\n   * @param  {Number} x  The x-position of the audio source.\n   * @param  {Number} y  The y-position of the audio source.\n   * @param  {Number} z  The z-position of the audio source.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Array}    Returns self or the current 3D spatial position: [x, y, z].\n   */\n  Howl.prototype.pos = function(x, y, z, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change position when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'pos',\n        action: function() {\n          self.pos(x, y, z, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? 0 : y;\n    z = (typeof z !== 'number') ? -0.5 : z;\n\n    // Setup the group's spatial position if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's spatial position if no parameters are passed.\n      if (typeof x === 'number') {\n        self._pos = [x, y, z];\n      } else {\n        return self._pos;\n      }\n    }\n\n    // Change the spatial position of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof x === 'number') {\n          sound._pos = [x, y, z];\n\n          if (sound._node) {\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner || sound._panner.pan) {\n              setupPanner(sound, 'spatial');\n            }\n\n            if (typeof sound._panner.positionX !== 'undefined') {\n              sound._panner.positionX.setValueAtTime(x, Howler.ctx.currentTime);\n              sound._panner.positionY.setValueAtTime(y, Howler.ctx.currentTime);\n              sound._panner.positionZ.setValueAtTime(z, Howler.ctx.currentTime);\n            } else {\n              sound._panner.setPosition(x, y, z);\n            }\n          }\n\n          self._emit('pos', sound._id);\n        } else {\n          return sound._pos;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the direction the audio source is pointing in the 3D cartesian coordinate\n   * space. Depending on how direction the sound is, based on the `cone` attributes,\n   * a sound pointing away from the listener can be quiet or silent.\n   * @param  {Number} x  The x-orientation of the source.\n   * @param  {Number} y  The y-orientation of the source.\n   * @param  {Number} z  The z-orientation of the source.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Array}    Returns self or the current 3D spatial orientation: [x, y, z].\n   */\n  Howl.prototype.orientation = function(x, y, z, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change orientation when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'orientation',\n        action: function() {\n          self.orientation(x, y, z, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? self._orientation[1] : y;\n    z = (typeof z !== 'number') ? self._orientation[2] : z;\n\n    // Setup the group's spatial orientation if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's spatial orientation if no parameters are passed.\n      if (typeof x === 'number') {\n        self._orientation = [x, y, z];\n      } else {\n        return self._orientation;\n      }\n    }\n\n    // Change the spatial orientation of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof x === 'number') {\n          sound._orientation = [x, y, z];\n\n          if (sound._node) {\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner) {\n              // Make sure we have a position to setup the node with.\n              if (!sound._pos) {\n                sound._pos = self._pos || [0, 0, -0.5];\n              }\n\n              setupPanner(sound, 'spatial');\n            }\n\n            if (typeof sound._panner.orientationX !== 'undefined') {\n              sound._panner.orientationX.setValueAtTime(x, Howler.ctx.currentTime);\n              sound._panner.orientationY.setValueAtTime(y, Howler.ctx.currentTime);\n              sound._panner.orientationZ.setValueAtTime(z, Howler.ctx.currentTime);\n            } else {\n              sound._panner.setOrientation(x, y, z);\n            }\n          }\n\n          self._emit('orientation', sound._id);\n        } else {\n          return sound._orientation;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the panner node's attributes for a sound or group of sounds.\n   * This method can optionall take 0, 1 or 2 arguments.\n   *   pannerAttr() -> Returns the group's values.\n   *   pannerAttr(id) -> Returns the sound id's values.\n   *   pannerAttr(o) -> Set's the values of all sounds in this Howl group.\n   *   pannerAttr(o, id) -> Set's the values of passed sound id.\n   *\n   *   Attributes:\n   *     coneInnerAngle - (360 by default) A parameter for directional audio sources, this is an angle, in degrees,\n   *                      inside of which there will be no volume reduction.\n   *     coneOuterAngle - (360 by default) A parameter for directional audio sources, this is an angle, in degrees,\n   *                      outside of which the volume will be reduced to a constant value of `coneOuterGain`.\n   *     coneOuterGain - (0 by default) A parameter for directional audio sources, this is the gain outside of the\n   *                     `coneOuterAngle`. It is a linear value in the range `[0, 1]`.\n   *     distanceModel - ('inverse' by default) Determines algorithm used to reduce volume as audio moves away from\n   *                     listener. Can be `linear`, `inverse` or `exponential.\n   *     maxDistance - (10000 by default) The maximum distance between source and listener, after which the volume\n   *                   will not be reduced any further.\n   *     refDistance - (1 by default) A reference distance for reducing volume as source moves further from the listener.\n   *                   This is simply a variable of the distance model and has a different effect depending on which model\n   *                   is used and the scale of your coordinates. Generally, volume will be equal to 1 at this distance.\n   *     rolloffFactor - (1 by default) How quickly the volume reduces as source moves from listener. This is simply a\n   *                     variable of the distance model and can be in the range of `[0, 1]` with `linear` and `[0, ]`\n   *                     with `inverse` and `exponential`.\n   *     panningModel - ('HRTF' by default) Determines which spatialization algorithm is used to position audio.\n   *                     Can be `HRTF` or `equalpower`.\n   *\n   * @return {Howl/Object} Returns self or current panner attributes.\n   */\n  Howl.prototype.pannerAttr = function() {\n    var self = this;\n    var args = arguments;\n    var o, id, sound;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // Determine the values based on arguments.\n    if (args.length === 0) {\n      // Return the group's panner attribute values.\n      return self._pannerAttr;\n    } else if (args.length === 1) {\n      if (typeof args[0] === 'object') {\n        o = args[0];\n\n        // Set the grou's panner attribute values.\n        if (typeof id === 'undefined') {\n          if (!o.pannerAttr) {\n            o.pannerAttr = {\n              coneInnerAngle: o.coneInnerAngle,\n              coneOuterAngle: o.coneOuterAngle,\n              coneOuterGain: o.coneOuterGain,\n              distanceModel: o.distanceModel,\n              maxDistance: o.maxDistance,\n              refDistance: o.refDistance,\n              rolloffFactor: o.rolloffFactor,\n              panningModel: o.panningModel\n            };\n          }\n\n          self._pannerAttr = {\n            coneInnerAngle: typeof o.pannerAttr.coneInnerAngle !== 'undefined' ? o.pannerAttr.coneInnerAngle : self._coneInnerAngle,\n            coneOuterAngle: typeof o.pannerAttr.coneOuterAngle !== 'undefined' ? o.pannerAttr.coneOuterAngle : self._coneOuterAngle,\n            coneOuterGain: typeof o.pannerAttr.coneOuterGain !== 'undefined' ? o.pannerAttr.coneOuterGain : self._coneOuterGain,\n            distanceModel: typeof o.pannerAttr.distanceModel !== 'undefined' ? o.pannerAttr.distanceModel : self._distanceModel,\n            maxDistance: typeof o.pannerAttr.maxDistance !== 'undefined' ? o.pannerAttr.maxDistance : self._maxDistance,\n            refDistance: typeof o.pannerAttr.refDistance !== 'undefined' ? o.pannerAttr.refDistance : self._refDistance,\n            rolloffFactor: typeof o.pannerAttr.rolloffFactor !== 'undefined' ? o.pannerAttr.rolloffFactor : self._rolloffFactor,\n            panningModel: typeof o.pannerAttr.panningModel !== 'undefined' ? o.pannerAttr.panningModel : self._panningModel\n          };\n        }\n      } else {\n        // Return this sound's panner attribute values.\n        sound = self._soundById(parseInt(args[0], 10));\n        return sound ? sound._pannerAttr : self._pannerAttr;\n      }\n    } else if (args.length === 2) {\n      o = args[0];\n      id = parseInt(args[1], 10);\n    }\n\n    // Update the values of the specified sounds.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      sound = self._soundById(ids[i]);\n\n      if (sound) {\n        // Merge the new values into the sound.\n        var pa = sound._pannerAttr;\n        pa = {\n          coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : pa.coneInnerAngle,\n          coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : pa.coneOuterAngle,\n          coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : pa.coneOuterGain,\n          distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : pa.distanceModel,\n          maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : pa.maxDistance,\n          refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : pa.refDistance,\n          rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : pa.rolloffFactor,\n          panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : pa.panningModel\n        };\n\n        // Update the panner values or create a new panner if none exists.\n        var panner = sound._panner;\n        if (panner) {\n          panner.coneInnerAngle = pa.coneInnerAngle;\n          panner.coneOuterAngle = pa.coneOuterAngle;\n          panner.coneOuterGain = pa.coneOuterGain;\n          panner.distanceModel = pa.distanceModel;\n          panner.maxDistance = pa.maxDistance;\n          panner.refDistance = pa.refDistance;\n          panner.rolloffFactor = pa.rolloffFactor;\n          panner.panningModel = pa.panningModel;\n        } else {\n          // Make sure we have a position to setup the node with.\n          if (!sound._pos) {\n            sound._pos = self._pos || [0, 0, -0.5];\n          }\n\n          // Create a new panner node.\n          setupPanner(sound, 'spatial');\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /** Single Sound Methods **/\n  /***************************************************************************/\n\n  /**\n   * Add new properties to the core Sound init.\n   * @param  {Function} _super Core Sound init method.\n   * @return {Sound}\n   */\n  Sound.prototype.init = (function(_super) {\n    return function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Setup user-defined default properties.\n      self._orientation = parent._orientation;\n      self._stereo = parent._stereo;\n      self._pos = parent._pos;\n      self._pannerAttr = parent._pannerAttr;\n\n      // Complete initilization with howler.js core Sound's init function.\n      _super.call(this);\n\n      // If a stereo or position was specified, set it up.\n      if (self._stereo) {\n        parent.stereo(self._stereo);\n      } else if (self._pos) {\n        parent.pos(self._pos[0], self._pos[1], self._pos[2], self._id);\n      }\n    };\n  })(Sound.prototype.init);\n\n  /**\n   * Override the Sound.reset method to clean up properties from the spatial plugin.\n   * @param  {Function} _super Sound reset method.\n   * @return {Sound}\n   */\n  Sound.prototype.reset = (function(_super) {\n    return function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Reset all spatial plugin properties on this sound.\n      self._orientation = parent._orientation;\n      self._stereo = parent._stereo;\n      self._pos = parent._pos;\n      self._pannerAttr = parent._pannerAttr;\n\n      // If a stereo or position was specified, set it up.\n      if (self._stereo) {\n        parent.stereo(self._stereo);\n      } else if (self._pos) {\n        parent.pos(self._pos[0], self._pos[1], self._pos[2], self._id);\n      } else if (self._panner) {\n        // Disconnect the panner.\n        self._panner.disconnect(0);\n        self._panner = undefined;\n        parent._refreshBuffer(self);\n      }\n\n      // Complete resetting of the sound.\n      return _super.call(this);\n    };\n  })(Sound.prototype.reset);\n\n  /** Helper Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create a new panner node and save it on the sound.\n   * @param  {Sound} sound Specific sound to setup panning on.\n   * @param {String} type Type of panner to create: 'stereo' or 'spatial'.\n   */\n  var setupPanner = function(sound, type) {\n    type = type || 'spatial';\n\n    // Create the new panner node.\n    if (type === 'spatial') {\n      sound._panner = Howler.ctx.createPanner();\n      sound._panner.coneInnerAngle = sound._pannerAttr.coneInnerAngle;\n      sound._panner.coneOuterAngle = sound._pannerAttr.coneOuterAngle;\n      sound._panner.coneOuterGain = sound._pannerAttr.coneOuterGain;\n      sound._panner.distanceModel = sound._pannerAttr.distanceModel;\n      sound._panner.maxDistance = sound._pannerAttr.maxDistance;\n      sound._panner.refDistance = sound._pannerAttr.refDistance;\n      sound._panner.rolloffFactor = sound._pannerAttr.rolloffFactor;\n      sound._panner.panningModel = sound._pannerAttr.panningModel;\n\n      if (typeof sound._panner.positionX !== 'undefined') {\n        sound._panner.positionX.setValueAtTime(sound._pos[0], Howler.ctx.currentTime);\n        sound._panner.positionY.setValueAtTime(sound._pos[1], Howler.ctx.currentTime);\n        sound._panner.positionZ.setValueAtTime(sound._pos[2], Howler.ctx.currentTime);\n      } else {\n        sound._panner.setPosition(sound._pos[0], sound._pos[1], sound._pos[2]);\n      }\n\n      if (typeof sound._panner.orientationX !== 'undefined') {\n        sound._panner.orientationX.setValueAtTime(sound._orientation[0], Howler.ctx.currentTime);\n        sound._panner.orientationY.setValueAtTime(sound._orientation[1], Howler.ctx.currentTime);\n        sound._panner.orientationZ.setValueAtTime(sound._orientation[2], Howler.ctx.currentTime);\n      } else {\n        sound._panner.setOrientation(sound._orientation[0], sound._orientation[1], sound._orientation[2]);\n      }\n    } else {\n      sound._panner = Howler.ctx.createStereoPanner();\n      sound._panner.pan.setValueAtTime(sound._stereo, Howler.ctx.currentTime);\n    }\n\n    sound._panner.connect(sound._node);\n\n    // Update the connections.\n    if (!sound._paused) {\n      sound._parent.pause(sound._id, true).play(sound._id, true);\n    }\n  };\n})();\n",
        "import 'howler';\r\n/**\r\n * (Spatial) audio listener based on [Howler.js](https://howlerjs.com/).\r\n *\r\n * Retrieves the location and orientation of the object and passes it\r\n * to [Howler.pos()](https://github.com/goldfire/howler.js#posx-y-z-id)\r\n * and [Howler.orientation()](https://github.com/goldfire/howler.js#orientationx-y-z-id).\r\n */\r\nWL.registerComponent(\"howler-audio-listener\", {\r\n  /** Whether audio should be spatialized/positional. */\r\n  spatial: {type: WL.Type.Bool, default: true},\r\n}, {\r\n  init: function() {\r\n    this.origin = new Float32Array(3);\r\n    this.fwd = new Float32Array(3);\r\n    this.up = new Float32Array(3);\r\n  },\r\n  update: function() {\r\n    if(!this.spatial) return\r\n    this.object.getTranslationWorld(this.origin);\r\n    this.object.getForward(this.fwd);\r\n    this.object.getUp(this.up);\r\n\r\n    Howler.pos(this.origin[0], this.origin[1], this.origin[2]);\r\n    Howler.orientation(this.fwd[0], this.fwd[1], this.fwd[2],\r\n      this.up[0], this.up[1], this.up[2]);\r\n  },\r\n});\r\n",
        "import {Howl} from 'howler';\r\n/**\r\n * (Spatial) audio source based on [Howler.js](https://howlerjs.com/).\r\n *\r\n * Creates a Howler audio source, plays an audio file on it and updates\r\n * its position.\r\n *\r\n * Optimizes the position update to only update if the difference to last\r\n * position is larger than half a centimeter. To force updates (e.g. if\r\n * the sound source is _very_ close to the listener),\r\n * use `.updatePosition()`.\r\n */\r\nWL.registerComponent(\"howler-audio-source\", {\r\n  /** Volume */\r\n  volume: {type: WL.Type.Float, default: 1.0},\r\n  /** Whether audio should be spatialized/positional */\r\n  spatial: {type: WL.Type.Bool, default: true},\r\n  /** Whether to loop the sound */\r\n  loop: {type: WL.Type.Bool, default: false},\r\n  /** Whether to start playing automatically */\r\n  autoplay: {type: WL.Type.Bool, default: false},\r\n  /** URL to a sound file to play */\r\n  src: {type: WL.Type.String, default: \"\"}\r\n}, {\r\n  start: function() {\r\n    this.audio = new Howl({\r\n      src: [this.src],\r\n      loop: this.loop,\r\n      volume: this.volume,\r\n      autoplay: this.autoplay\r\n    });\r\n\r\n    this.lastPlayedAudioId = null;\r\n    this.origin = new Float32Array(3);\r\n    this.lastOrigin = new Float32Array(3);\r\n\r\n    if(this.spatial && this.autoplay) {\r\n      this.updatePosition();\r\n      this.play();\r\n    }\r\n\r\n    /* Stop sound after switching scenes */\r\n    const callback = () => {\r\n        this.stop();\r\n        const idx = WL.onSceneLoaded.indexOf(callback);\r\n        if(idx >= 0) WL.onSceneLoaded.splice(idx, 1);\r\n    };\r\n    WL.onSceneLoaded.push(callback);\r\n  },\r\n\r\n  update: function() {\r\n    if(!this.spatial || !this.lastPlayedAudioId) return;\r\n\r\n    this.object.getTranslationWorld(this.origin);\r\n    /* Only call pos() if the position moved more than half a centimeter\r\n     * otherwise this gets very performance heavy.\r\n     * Smaller movement should only be perceivable if close to the\r\n     * ear anyway. */\r\n    if(Math.abs(this.lastOrigin[0] - this.origin[0]) > 0.005 ||\r\n       Math.abs(this.lastOrigin[1] - this.origin[1]) > 0.005 ||\r\n       Math.abs(this.lastOrigin[2] - this.origin[2]) > 0.005)\r\n    {\r\n      this.updatePosition();\r\n    }\r\n  },\r\n\r\n  updatePosition: function() {\r\n      this.audio.pos(this.origin[0], this.origin[1], this.origin[2],\r\n        this.lastPlayedAudioId);\r\n      this.lastOrigin.set(this.origin);\r\n  },\r\n\r\n  play: function() {\r\n    if(this.lastPlayedAudioId) this.audio.stop(this.lastPlayedAudioId);\r\n    this.lastPlayedAudioId = this.audio.play();\r\n    if(this.spatial) this.updatePosition();\r\n  },\r\n\r\n  stop: function() {\r\n    if(!this.lastPlayedAudioId) return;\r\n    this.audio.stop(this.lastPlayedAudioId);\r\n    this.lastPlayedAudioId = null;\r\n  }\r\n});\r\n",
        "/**\r\n * Downloads an image from URL and applies it as `diffuseTexture` or `flatTexture`\r\n * to an attached mesh component.\r\n * Only \"Phong Opaque Textured\" and \"Flat Opaque Textured\" materials are supported.\r\n *\r\n * **Warning:** This component will soon be changed to be consistent with\r\n *   [video-texture](#video-texture) and change a material rather than mesh.\r\n *   To keep backwards compatibility, please copy the source of this component\r\n *   into your project.\r\n */\r\nWL.registerComponent('image-texture', {\r\n    /** URL to download the image from */\r\n    url: {type: WL.Type.String, default: \"\"},\r\n    /** 0-based mesh component index on this object (e.g. 1 for \"second mesh\") */\r\n    meshIndex: {type: WL.Type.Int, default: 0}\r\n}, {\r\n    init: function() {\r\n        let obj = this.object;\r\n        WL.textures.load(this.url, 'anonymous')\r\n            .then(function(texture) {\r\n                const mat = obj.getComponent(\"mesh\", this.meshIndex).material;\r\n                if(mat.shader == \"Flat Opaque Textured\") {\r\n                    mat.flatTexture = texture;\r\n                } else if(mat.shader == \"Phong Opaque Textured\") {\r\n                    mat.diffuseTexture = texture;\r\n                } else {\r\n                    console.error(\"Shader\", mat.shader, \"not supported by image-texture\");\r\n                }\r\n            }).catch(console.err);\r\n    }\r\n});\r\n",
        "import {vec3} from 'gl-matrix';\r\n/**\r\n * Controls the camera through mouse movement.\r\n *\r\n * Efficiently implemented to affect object orientation only\r\n * when the mouse moves.\r\n */\r\nWL.registerComponent('mouse-look', {\r\n    /** Mouse look sensitivity */\r\n    sensitity: {type: WL.Type.Float, default: 0.25},\r\n    /** Require a mouse button to be pressed to control view.\r\n     * Otherwise view will allways follow mouse movement */\r\n    requireMouseDown: {type: WL.Type.Bool, default: true},\r\n    /** If \"moveOnClick\" is enabled, mouse button which should\r\n     * be held down to control view */\r\n    mouseButtonIndex: {type: WL.Type.Int, default: 0},\r\n}, {\r\n    init: function() {\r\n        this.currentRotationY = 0;\r\n        this.currentRotationX = 0;\r\n        this.origin = new Float32Array(3);\r\n        this.parentOrigin = new Float32Array(3);\r\n        document.addEventListener('mousemove', function(e) {\r\n            if(this.active && (this.mouseDown || !this.requireMouseDown)) {\r\n                this.rotationY = -this.sensitity*e.movementX/100;\r\n                this.rotationX = -this.sensitity*e.movementY/100;\r\n\r\n                this.currentRotationX += this.rotationX;\r\n                this.currentRotationY += this.rotationY;\r\n\r\n                /* 1.507 = PI/2 = 90 */\r\n                this.currentRotationX = Math.min(1.507, this.currentRotationX);\r\n                this.currentRotationX = Math.max(-1.507, this.currentRotationX);\r\n\r\n                this.object.getTranslationWorld(this.origin);\r\n                this.object.parent.getTranslationWorld(this.parentOrigin);\r\n                vec3.sub(this.origin, this.origin, this.parentOrigin);\r\n\r\n                this.object.resetTranslationRotation();\r\n                this.object.rotateAxisAngleRad([1, 0, 0], this.currentRotationX);\r\n                this.object.rotateAxisAngleRad([0, 1, 0], this.currentRotationY);\r\n                this.object.translate(this.origin);\r\n            }\r\n        }.bind(this));\r\n\r\n        if(this.requireMouseDown) {\r\n            if(this.mouseButtonIndex == 2) {\r\n                WL.canvas.addEventListener(\"contextmenu\", function(e) {\r\n                    e.preventDefault();\r\n                }, false);\r\n            }\r\n            WL.canvas.addEventListener('mousedown', function(e) {\r\n                if(e.button == this.mouseButtonIndex) {\r\n                    this.mouseDown = true;\r\n                    document.body.style.cursor = \"grabbing\";\r\n                    if(e.button == 1) {\r\n                        e.preventDefault();\r\n                        /* Prevent scrolling */\r\n                        return false;\r\n                    }\r\n                }\r\n            }.bind(this));\r\n            WL.canvas.addEventListener('mouseup', function(e) {\r\n                if(e.button == this.mouseButtonIndex) {\r\n                    this.mouseDown = false;\r\n                    document.body.style.cursor = \"initial\";\r\n                }\r\n            }.bind(this));\r\n        }\r\n    },\r\n    start: function() {\r\n        this.rotationX = 0;\r\n        this.rotationY = 0;\r\n    }\r\n});\r\n",
        "/**\r\n * Sets the target framerate\r\n *\r\n * [Updates the target framerate](https://immersive-web.github.io/webxr/#dom-xrsession-updatetargetframerate)\r\n * to the closest [supported target framerate](https://immersive-web.github.io/webxr/#dom-xrsession-supportedFrameRates)\r\n * to the given `framerate`.\r\n *\r\n * The target framerate is used for the device's VR compositor as an indication of how often to refresh the\r\n * screen with new images. This means the app will be asked to produce frames in more regular intervals,\r\n * potentially spending less time on frames that are likely to be dropped.\r\n *\r\n * For apps with heavy load, setting a well matching target framerate can improve the apps rendering stability\r\n * and reduce stutter.\r\n *\r\n * Likewise, the target framerate can be used to enable 120Hz refresh rates on Oculus Quest 2 on simpler apps.\r\n */\r\nWL.registerComponent('target-framerate', {\r\n    framerate: {type: WL.Type.Float, default: 90.0},\r\n}, {\r\n    start: function() {\r\n        if(WL.xrSession) {\r\n            this.setTargetFramerate(WL.xrSession);\r\n        } else {\r\n            WL.onXRSessionStart.push(this.setTargetFramerate.bind(this));\r\n        }\r\n    },\r\n\r\n    setTargetFramerate: function(s) {\r\n        if(s.supportedFrameRates && s.updateTargetFrameRate) {\r\n            const a = WL.xrSession.supportedFrameRates;\r\n            a.sort((a, b) => Math.abs(a - this.framerate) - Math.abs(b - this.framerate));\r\n            WL.xrSession.updateTargetFrameRate(a[0]);\r\n        }\r\n    },\r\n});\r\n",
        "import {vec3,quat2} from 'gl-matrix';\r\n/**\r\n * Teleport VR locomotion.\r\n *\r\n * See [Teleport Example](/showcase/teleport).\r\n */\r\nWL.registerComponent('teleport', {\r\n    /** Object that will be placed as indiciation forwhere the player will teleport to. */\r\n    teleportIndicatorMeshObject: { type: WL.Type.Object },\r\n    /** Root of the player, the object that will be positioned on teleportation. */\r\n    camRoot: { type: WL.Type.Object },\r\n    /** Non-vr camera for use outside of VR */\r\n    cam: { type: WL.Type.Object },\r\n    /** Left eye for use in VR*/\r\n    eyeLeft: { type: WL.Type.Object },\r\n    /** Right eye for use in VR*/\r\n    eyeRight: { type: WL.Type.Object },\r\n    /** Handedness for VR cursors to accept trigger events only from respective controller. */\r\n    handedness: {type: WL.Type.Enum, values: ['input component', 'left', 'right', 'none'], default: 'input component'},\r\n    /** Collision group of valid \"floor\" objects that can be teleported on */\r\n    floorGroup: { type: WL.Type.Int, default: 1 },\r\n    /** How far the thumbstick needs to be pushed to have the teleport target indicator show up */\r\n    thumbstickActivationThreshhold: { type: WL.Type.Float, default: -0.7 },\r\n    /** How far the thumbstick needs to be released to execute the teleport */\r\n    thumbstickDeactivationThreshhold: { type: WL.Type.Float, default: 0.3 },\r\n    /** Offset to apply to the indicator object, e.g. to avoid it from Z-fighting with the floor */\r\n    indicatorYOffset: { type: WL.Type.Float, default: 0.01 },\r\n\r\n    /** Mode for raycasting, whether to use PhysX or simple collision components */\r\n    rayCastMode: {type: WL.Type.Enum, values: ['collision', 'physx'], default: 'collision'},\r\n    /** Max distance for PhysX raycast */\r\n    maxDistance: { type: WL.Type.Float, default: 100.0 },\r\n}, {\r\n    init: function() {\r\n        this._prevThumbstickAxis = new Float32Array(2);\r\n        this._tempVec = new Float32Array(3);\r\n        this._tempVec0 = new Float32Array(3);\r\n        this._currentIndicatorRotation = 0;\r\n\r\n        this.input = this.object.getComponent('input');\r\n        if(!this.input) {\r\n            console.error(this.object.name, \"generic-teleport-component.js: input component is required on the object\")\r\n            return;\r\n        }\r\n        if(!this.teleportIndicatorMeshObject) {\r\n            console.error(this.object.name, 'generic-teleport-component.js: Teleport indicator mesh is missing');\r\n            return;\r\n        }\r\n        if(!this.camRoot) {\r\n            console.error(this.object.name, 'generic-teleport-component.js: camRoot not set');\r\n            return;\r\n        }\r\n        this.isIndicating = false;\r\n\r\n        if(this.cam) {\r\n            this.isMouseIndicating = false;\r\n            WL.canvas.addEventListener('mousedown', this.onMouseDown.bind(this));\r\n            WL.canvas.addEventListener('mouseup', this.onMouseUp.bind(this));\r\n        }\r\n\r\n        this.indicatorHidden = true;\r\n        this.hitSpot = new Float32Array(3);\r\n        this._hasHit = false;\r\n\r\n        this._extraRotation = 0;\r\n        this._currentStickAxes = new Float32Array(2);\r\n    },\r\n\r\n    start: function() {\r\n        if(this.handedness == 0) {\r\n            const inputComp = this.object.getComponent('input');\r\n            if(!inputComp) {\r\n                console.warn('teleport component on object', this.object.name,\r\n                    'was configured with handedness \"input component\", ' +\r\n                    'but object has no input component.');\r\n            } else {\r\n                this.handedness = inputComp.handedness;\r\n                this.input = inputComp;\r\n            }\r\n        } else {\r\n            this.handedness = ['left', 'right'][this.handedness - 1];\r\n        }\r\n\r\n        WL.onXRSessionStart.push(this.setupVREvents.bind(this));\r\n        this.teleportIndicatorMeshObject.active = false;\r\n    },\r\n\r\n    /* Get current camera Y rotation */\r\n    _getCamRotation: function() {\r\n        this.eyeLeft.getForward(this._tempVec);\r\n        this._tempVec[1] = 0;\r\n        vec3.normalize(this._tempVec, this._tempVec);\r\n        return Math.atan2(this._tempVec[0], this._tempVec[2]);\r\n    },\r\n\r\n    update: function() {\r\n        let inputLength = 0;\r\n        if(this.gamepad && this.gamepad.axes) {\r\n            this._currentStickAxes[0] = this.gamepad.axes[2];\r\n            this._currentStickAxes[1] = this.gamepad.axes[3];\r\n            inputLength = Math.abs(this._currentStickAxes[0]) + Math.abs(this._currentStickAxes[1]);\r\n        }\r\n\r\n        if(!this.isIndicating && this._prevThumbstickAxis[1] >= this.thumbstickActivationThreshhold && this._currentStickAxes[1] < this.thumbstickActivationThreshhold) {\r\n            this.isIndicating = true;\r\n        } else if(this.isIndicating && inputLength < this.thumbstickDeactivationThreshhold) {\r\n            this.isIndicating = false;\r\n            this.teleportIndicatorMeshObject.active = false;\r\n\r\n            if(this._hasHit) {\r\n                this._teleportPlayer(this.hitSpot, this._extraRotation);\r\n            }\r\n        }\r\n\r\n        if(this.isIndicating && this.teleportIndicatorMeshObject && this.input) {\r\n            const origin = this._tempVec0;\r\n            quat2.getTranslation(origin, this.object.transformWorld);\r\n\r\n            const direction = this.object.getForward(this._tempVec)\r\n            let rayHit = this.rayHit = (this.rayCastMode == 0) ?\r\n                WL.scene.rayCast(origin, direction, 1 << this.floorGroup) :\r\n                WL.physics.rayCast(origin, direction, 1 << this.floorGroup, this.maxDistance);\r\n            if(rayHit.hitCount > 0) {\r\n                this.indicatorHidden = false;\r\n\r\n                this._extraRotation = Math.PI + Math.atan2(this._currentStickAxes[0], this._currentStickAxes[1]);\r\n                this._currentIndicatorRotation = this._getCamRotation() + (this._extraRotation - Math.PI);\r\n                this.teleportIndicatorMeshObject.resetTranslationRotation();\r\n                this.teleportIndicatorMeshObject.rotateAxisAngleRad([0, 1, 0], this._currentIndicatorRotation);\r\n\r\n                this.teleportIndicatorMeshObject.translate(rayHit.locations[0]);\r\n                this.teleportIndicatorMeshObject.translate([0.0, this.indicatorYOffset, 0.0]);\r\n                this.teleportIndicatorMeshObject.active = true;\r\n\r\n                this.hitSpot.set(rayHit.locations[0]);\r\n                this._hasHit = true;\r\n            } else {\r\n                if(!this.indicatorHidden) {\r\n                    this.teleportIndicatorMeshObject.active = false;\r\n                    this.indicatorHidden = true;\r\n                }\r\n                this._hasHit = false;\r\n            }\r\n        } else if(this.teleportIndicatorMeshObject && this.isMouseIndicating) {\r\n            this.onMousePressed();\r\n        }\r\n\r\n        this._prevThumbstickAxis.set(this._currentStickAxes);\r\n    },\r\n    setupVREvents: function(s) {\r\n        /* If in VR, one-time bind the listener */\r\n        this.session = s;\r\n        s.addEventListener('end', function() {\r\n            /* Reset cache once the session ends to rebind select etc, in case\r\n             * it starts again */\r\n            this.gamepad = null;\r\n            this.session = null;\r\n        }.bind(this));\r\n\r\n        if(s.inputSources && s.inputSources.length) {\r\n            for(let i = 0; i < s.inputSources.length; i++) {\r\n                let inputSource = s.inputSources[i];\r\n\r\n                if(inputSource.handedness == this.handedness) {\r\n                    this.gamepad = inputSource.gamepad;\r\n                }\r\n            }\r\n        }\r\n\r\n        s.addEventListener('inputsourceschange', function(e) {\r\n            if(e.added && e.added.length) {\r\n                for(let i = 0; i < e.added.length; i++) {\r\n                    let inputSource = e.added[i];\r\n                    if(inputSource.handedness == this.handedness) {\r\n                        this.gamepad = inputSource.gamepad;\r\n                    }\r\n                }\r\n            }\r\n        }.bind(this));\r\n    },\r\n    onMouseDown: function() {\r\n        this.isMouseIndicating = true;\r\n    },\r\n    onMouseUp: function() {\r\n        this.isMouseIndicating = false;\r\n        this.teleportIndicatorMeshObject.active = false;\r\n        if(this._hasHit) {\r\n            this._teleportPlayer(this.hitSpot, 0.0);\r\n        }\r\n    },\r\n    onMousePressed: function() {\r\n        let origin = [0, 0, 0];\r\n        quat2.getTranslation(origin, this.cam.transformWorld);\r\n\r\n        const direction = this.cam.getForward(this._tempVec);\r\n        let rayHit = this.rayHit = (this.rayCastMode == 0) ?\r\n            WL.scene.rayCast(origin, direction, 1 << this.floorGroup) :\r\n            WL.physics.rayCast(origin, direction, 1 << this.floorGroup, this.maxDistance);\r\n        if(rayHit.hitCount > 0) {\r\n            this.indicatorHidden = false;\r\n\r\n            direction[1] = 0;\r\n            vec3.normalize(direction, direction);\r\n\r\n            this._currentIndicatorRotation = -Math.sign(direction[2])*Math.acos(direction[0]) - Math.PI*0.5;\r\n\r\n            this.teleportIndicatorMeshObject.resetTranslationRotation();\r\n            this.teleportIndicatorMeshObject.rotateAxisAngleRad([0, 1, 0], this._currentIndicatorRotation);\r\n            this.teleportIndicatorMeshObject.translate(rayHit.locations[0]);\r\n            this.teleportIndicatorMeshObject.active = true;\r\n\r\n            this.hitSpot = rayHit.locations[0];\r\n            this._hasHit = true;\r\n        } else {\r\n            if(!this.indicatorHidden) {\r\n                this.teleportIndicatorMeshObject.active = false;\r\n                this.indicatorHidden = true;\r\n            }\r\n            this._hasHit = false;\r\n        }\r\n    },\r\n\r\n    _teleportPlayer: function(newPosition, rotationToAdd) {\r\n        this.camRoot.rotateAxisAngleRad([0, 1, 0], rotationToAdd);\r\n\r\n        const p = this._tempVec;\r\n        const p1 = this._tempVec0;\r\n\r\n        if(this.session) {\r\n            this.eyeLeft.getTranslationWorld(p);\r\n            this.eyeRight.getTranslationWorld(p1);\r\n\r\n            vec3.add(p, p, p1);\r\n            vec3.scale(p, p, 0.5);\r\n        } else {\r\n            this.cam.getTranslationWorld(p);\r\n        }\r\n\r\n        this.camRoot.getTranslationWorld(p1);\r\n        vec3.sub(p, p1, p);\r\n        p[0] += newPosition[0];\r\n        p[1] = newPosition[1];\r\n        p[2] += newPosition[2];\r\n\r\n        this.camRoot.setTranslationWorld(p);\r\n    },\r\n});\r\n\r\nWL.registerComponent('player-height', {\r\n    height: { type: WL.Type.Float, default: 1.75 }\r\n}, {\r\n    init: function() {\r\n        WL.onXRSessionStart.push(this.onXRSessionStart.bind(this));\r\n        WL.onXRSessionEnd.push(this.onXRSessionEnd.bind(this));\r\n    },\r\n\r\n    start: function() {\r\n        this.object.resetTranslationRotation();\r\n        this.object.translate([0.0, this.height, 0.0]);\r\n    },\r\n\r\n    onXRSessionStart: function() {\r\n        if(!['local', 'viewer'].includes(WebXR.refSpace)) {\r\n            this.object.resetTranslationRotation();\r\n        }\r\n    },\r\n\r\n    onXRSessionEnd: function() {\r\n        if(!['local', 'viewer'].includes(WebXR.refSpace)) {\r\n            this.object.resetTranslationRotation();\r\n            this.object.translate([0.0, this.height, 0.0]);\r\n        }\r\n    }\r\n});\r\n",
        "import {vec3, quat} from 'gl-matrix';\r\n\r\nMath.clamp = function(v, a, b) {\r\n    return Math.max(a, Math.min(v, b));\r\n}\r\n\r\n// From http://theorangeduck.com/page/simple-two-joint\r\nconst twoJointIK = (function() {\r\n    let ta = new Float32Array(3);\r\n    let ca = new Float32Array(3);\r\n    let ba = new Float32Array(3);\r\n    let ab = new Float32Array(3);\r\n    let cb = new Float32Array(3);\r\n\r\n    let axis0 = new Float32Array(3);\r\n    let axis1 = new Float32Array(3);\r\n\r\n    let temp = new Float32Array(4);\r\n\r\n    let r0 = new Float32Array(4);\r\n    let r1 = new Float32Array(4);\r\n    let r2 = new Float32Array(4);\r\n\r\n    return function(a_lr, b_lr, a, b, c, t, eps, a_gr, b_gr, helper) {\r\n        vec3.sub(ba, b, a);\r\n        const lab = vec3.length(ba);\r\n        vec3.sub(ta, b, c);\r\n        const lcb = vec3.length(ta);\r\n        vec3.sub(ta, t, a);\r\n        const lat = Math.clamp(vec3.length(ta), eps, lab + lcb - eps);\r\n\r\n        vec3.sub(ca, c, a);\r\n        vec3.sub(ab, a, b);\r\n        vec3.sub(cb, c, b);\r\n\r\n        vec3.normalize(ca, ca);\r\n        vec3.normalize(ba, ba);\r\n        vec3.normalize(ab, ab);\r\n        vec3.normalize(cb, cb);\r\n        vec3.normalize(ta, ta);\r\n\r\n        const ac_ab_0 = Math.acos(Math.clamp(vec3.dot(ca, ba), -1, 1));\r\n        const ba_bc_0 = Math.acos(Math.clamp(vec3.dot(ab, cb), -1, 1));\r\n        const ac_at_0 = Math.acos(Math.clamp(vec3.dot(ca, ta), -1, 1));\r\n\r\n        const ac_ab_1 = Math.acos(Math.clamp((lcb*lcb-lab*lab-lat*lat) / (-2*lab*lat), -1, 1));\r\n        const ba_bc_1 = Math.acos(Math.clamp((lat*lat-lab*lab-lcb*lcb) / (-2*lab*lcb), -1, 1));\r\n\r\n        vec3.sub(ca, c, a);\r\n        vec3.sub(ba, b, a);\r\n        vec3.sub(ta, t, a);\r\n\r\n        vec3.cross(axis0, ca, ba);\r\n        vec3.cross(axis1, ca, ta);\r\n\r\n        if(helper) {\r\n            vec3.sub(ba, helper, b);\r\n            vec3.transformQuat(ba, [0, 0, -1], b_gr);\r\n        } else {\r\n            vec3.sub(ba, b, a);\r\n        }\r\n\r\n        const l = vec3.length(axis0);\r\n        if(l == 0) {\r\n            axis0.set([1, 0, 0]);\r\n        } else {\r\n            vec3.scale(axis0, axis0, 1/l);\r\n        }\r\n        vec3.normalize(axis1, axis1);\r\n\r\n        quat.conjugate(a_gr, a_gr);\r\n        quat.setAxisAngle(r0, vec3.transformQuat(temp, axis0, a_gr), (ac_ab_1 - ac_ab_0));\r\n        quat.setAxisAngle(r2, vec3.transformQuat(temp, axis1, a_gr), (ac_at_0));\r\n        quat.mul(a_lr, a_lr, quat.mul(temp, r0, r2));\r\n        quat.normalize(a_lr, a_lr);\r\n\r\n        quat.conjugate(b_gr, b_gr);\r\n        quat.setAxisAngle(r1, vec3.transformQuat(temp, axis0, b_gr), (ba_bc_1 - ba_bc_0));\r\n        quat.mul(b_lr, b_lr, r1);\r\n        quat.normalize(b_lr, b_lr);\r\n    }\r\n})();\r\n\r\n/**\r\n * Inverse Kinematics for two-joint chains (e.g. knees or ellbows)\r\n */\r\nWL.registerComponent('two-joint-ik-solver', {\r\n    /** Root bone, never moves */\r\n    root: {type: WL.Type.Object},\r\n    /** Bone attached to the root */\r\n    middle: {type: WL.Type.Object},\r\n    /** Bone attached to the middle */\r\n    end: {type: WL.Type.Object},\r\n    /** Target the joins should reach for */\r\n    target: {type: WL.Type.Object},\r\n    /** Helper object to use to determine joint rotation axis */\r\n    helper: {type: WL.Type.Object},\r\n}, {\r\n    init: function() {\r\n        this.pos = new Float32Array(3*7);\r\n        this.p = [\r\n            this.pos.subarray(0, 3),\r\n            this.pos.subarray(3, 6),\r\n            this.pos.subarray(6, 9),\r\n            this.pos.subarray(9, 12),\r\n            this.pos.subarray(12, 15),\r\n            this.pos.subarray(15, 18),\r\n            this.pos.subarray(18, 21)];\r\n    },\r\n    update: function() {\r\n        const p = this.p;\r\n        this.root.getTranslationWorld(p[0]);\r\n        this.middle.getTranslationWorld(p[1]);\r\n        this.end.getTranslationWorld(p[2]);\r\n        this.target.getTranslationWorld(p[3]);\r\n        const tla = p[4];\r\n        const tlb = p[5];\r\n        this.root.getTranslationLocal(tla);\r\n        this.middle.getTranslationLocal(tlb);\r\n        if(this.helper) this.helper.getTranslationWorld(p[6]);\r\n\r\n        twoJointIK(this.root.transformLocal, this.middle.transformLocal,\r\n            p[0], p[1], p[2], p[3], 0.01,\r\n            this.root.transformWorld.subarray(0, 4),\r\n            this.middle.transformWorld.subarray(0, 4),\r\n            this.helper ? p[6] : null\r\n        );\r\n\r\n        this.root.setTranslationLocal(tla);\r\n        this.middle.setTranslationLocal(tlb);\r\n\r\n        this.root.setDirty();\r\n        this.middle.setDirty();\r\n    },\r\n});\r\n",
        "/**\r\n * Downloads a video from URL and applies it as `diffuseTexture` or `flatTexture` on given material.\r\n *\r\n * Video textures need to be updated reqularly whenever\r\n * a new frame is available. This component handles the\r\n * detection of a new frame and updates the texture to\r\n * reflect the video's current frame.\r\n * Only \"Phong Opaque Textured\" and \"Flat Opaque Textured\" materials are supported.\r\n *\r\n * The video can be accessed through `this.video`.\r\n *\r\n * See [Video Example](/showcase/video).\r\n */\r\nWL.registerComponent('video-texture', {\r\n    /** URL to download video from */\r\n    url: {type: WL.Type.String, default: \"\"},\r\n    /** Material to apply the video texture to */\r\n    material: {type: WL.Type.Material},\r\n    /** Whether to loop the video */\r\n    loop: {type: WL.Type.Bool, default: true},\r\n    /** Whether to automatically start playing the video */\r\n    autoplay: {type: WL.Type.Bool, default: true},\r\n    /** Whether to mute sound */\r\n    muted: {type: WL.Type.Bool, default: true},\r\n}, {\r\n    init: function() {\r\n        if(!this.material) {\r\n            console.error(\"video-texture: material property not set\");\r\n            return;\r\n        }\r\n        this.loaded = false;\r\n        this.frameUpdateRequested = true;\r\n\r\n        this.video = document.createElement('video');\r\n        this.video.src = this.url;\r\n        this.video.crossorigin = 'anonymous';\r\n        this.video.autoplay = this.autoplay;\r\n        this.video.loop = this.loop;\r\n        this.video.muted = this.muted;\r\n        this.video.addEventListener('playing', function() { this.loaded = true; }.bind(this));\r\n        this.video.play();\r\n    },\r\n\r\n    applyTexture: function() {\r\n        const mat = this.material;\r\n        this.texture = new WL.Texture(this.video);\r\n        if(mat.shader == \"Flat Opaque Textured\") {\r\n            mat.flatTexture = this.texture;\r\n        } else if(mat.shader == \"Phong Opaque Textured\") {\r\n            mat.diffuseTexture = this.texture;\r\n        } else {\r\n            console.error(\"Shader\", mat.shader, \"not supported by video-texture\");\r\n        }\r\n\r\n        if('requestVideoFrameCallback' in this.video) {\r\n            this.video.requestVideoFrameCallback(this.updateVideo.bind(this));\r\n        } else {\r\n            this.video.addEventListener('timeupdate', function() { this.frameUpdateRequested = true; }.bind(this));\r\n        }\r\n    },\r\n\r\n    update: function(dt) {\r\n        if(this.loaded && this.frameUpdateRequested) {\r\n            if(this.texture) {\r\n                this.texture.update();\r\n            } else {\r\n                /* Apply texture on first frame update request */\r\n                this.applyTexture();\r\n            }\r\n            this.frameUpdateRequested = false;\r\n        }\r\n    },\r\n\r\n    updateVideo: function() {\r\n        this.frameUpdateRequested = true;\r\n        this.video.requestVideoFrameCallback(this.updateVideo.bind(this));\r\n    }\r\n});\r\n",
        "/**\r\n * Allows switching all other components on an object to active/inactive\r\n * depending on whether a VR/AR session is active.\r\n *\r\n * Useful for hiding controllers until the user enters VR for example.\r\n */\r\nWL.registerComponent(\"vr-mode-active-switch\", {\r\n    /** When components should be active: In VR or when not in VR */\r\n    activateComponents: {type: WL.Type.Enum, values: [\"in VR\", \"in non-VR\"], default: \"in VR\"},\r\n    /** Whether child object's components should be affected */\r\n    affectChildren: {type: WL.Type.Bool, default: true},\r\n}, {\r\n    start: function() {\r\n        this.components = [];\r\n        this.getComponents(this.object);\r\n\r\n        /* Initial activation/deactivation */\r\n        this.onXRSessionEnd();\r\n\r\n        WL.onXRSessionStart.push(this.onXRSessionStart.bind(this));\r\n        WL.onXRSessionEnd.push(this.onXRSessionEnd.bind(this));\r\n    },\r\n\r\n    getComponents: function(obj) {\r\n        const comps = obj.getComponents().filter(c => c.type != \"vr-mode-active-switch\");\r\n        this.components = this.components.concat(comps);\r\n\r\n        if(this.affectChildren) {\r\n            let children = obj.children;\r\n            for(let i = 0; i < children.length; ++i) {\r\n                this.getComponents(children[i]);\r\n            }\r\n        }\r\n    },\r\n\r\n    setComponentsActive: function(active) {\r\n        const comps = this.components;\r\n        for (let i = 0; i < comps.length; ++i) {\r\n            comps[i].active = active;\r\n        }\r\n    },\r\n\r\n    onXRSessionStart: function() {\r\n        if(!this.active) return;\r\n        this.setComponentsActive(this.activateComponents == 0);\r\n    },\r\n\r\n    onXRSessionEnd: function() {\r\n        if(!this.active) return;\r\n        this.setComponentsActive(this.activateComponents != 0);\r\n    },\r\n}\r\n);\r\n",
        "import {vec3} from 'gl-matrix';\r\n/**\r\n * Basic movement with W/A/S/D keys.\r\n */\r\nWL.registerComponent('wasd-controls', {\r\n    /** Movement speed in m/s. */\r\n    speed: { type: WL.Type.Float, default: 0.1 },\r\n    /** Object of which the orientation is used to determine forward direction */\r\n    headObject: { type: WL.Type.Object }\r\n}, {\r\n    init: function() {\r\n        this.up = false;\r\n        this.right = false;\r\n        this.down = false;\r\n        this.left = false;\r\n\r\n        window.addEventListener('keydown', this.press.bind(this));\r\n        window.addEventListener('keyup', this.release.bind(this));\r\n    },\r\n\r\n    start: function() {\r\n        this.headObject = this.headObject || this.object;\r\n    },\r\n\r\n    update: function() {\r\n        let direction = [0, 0, 0];\r\n\r\n        if (this.up) direction[2] -= 1.0;\r\n        if (this.down) direction[2] += 1.0;\r\n        if (this.left) direction[0] -= 1.0;\r\n        if (this.right) direction[0] += 1.0;\r\n\r\n        vec3.normalize(direction, direction);\r\n        direction[0] *= this.speed;\r\n        direction[2] *= this.speed;\r\n        vec3.transformQuat(direction, direction, this.headObject.transformWorld);\r\n        this.object.translate(direction);\r\n    },\r\n\r\n    press: function(e) {\r\n        if (e.keyCode === 38 /* up */ || e.keyCode === 87 /* w */ || e.keyCode === 90 /* z */ ) {\r\n            this.up = true\r\n        } else if (e.keyCode === 39 /* right */ || e.keyCode === 68 /* d */ ) {\r\n            this.right = true\r\n        } else if (e.keyCode === 40 /* down */ || e.keyCode === 83 /* s */ ) {\r\n            this.down = true\r\n        } else if (e.keyCode === 37 /* left */ || e.keyCode === 65 /* a */ || e.keyCode === 81 /* q */ ) {\r\n            this.left = true\r\n        }\r\n    },\r\n\r\n    release: function(e) {\r\n        if (e.keyCode === 38 /* up */ || e.keyCode === 87 /* w */ || e.keyCode === 90 /* z */ ) {\r\n            this.up = false\r\n        } else if (e.keyCode === 39 /* right */ || e.keyCode === 68 /* d */ ) {\r\n            this.right = false\r\n        } else if (e.keyCode === 40 /* down */ || e.keyCode === 83 /* s */ ) {\r\n            this.down = false\r\n        } else if (e.keyCode === 37 /* left */ || e.keyCode === 65 /* a */ || e.keyCode === 81 /* q */ ) {\r\n            this.left = false\r\n        }\r\n    }\r\n});\r\n",
        "import {vec3,quat2} from 'gl-matrix';\r\n/**\r\n * [Wonderleap](https://wonderleap.co/) Ad Space\r\n *\r\n * To serve ads using this component, contact Wonderleap for\r\n * an Ad User and Ad ID via their website.\r\n *\r\n * See [Wonderleap Ad Example](/showcase/wonderleap-ad).\r\n */\r\nWL.registerComponent('wonderleap-ad', {\r\n    /** Ad user id */\r\n    auId: {type: WL.Type.String, default: 'ce6f68fc-4809-4409-8f57-c631283ce5a3'},\r\n    /** Ad id */\r\n    adId: {type: WL.Type.String}\r\n}, {\r\n    init: function() {\r\n        // TODO: Better let the ad create the correct mesh:\r\n        // this.mesh = this.object.addComponent('mesh');\r\n        // this.mesh.mesh = ...;\r\n        //\r\n        // Missing features:\r\n        //  - [ ] Create Material from shader\r\n        //  - [ ] Reference plane mesh (could create one instead)\r\n        this.mesh = this.object.getComponent('mesh', 0);\r\n\r\n        this.collision = this.object.addComponent('collision');\r\n        this.collision.collider = WL.Collider.Box;\r\n        this.collision.group = 0x2;\r\n\r\n        this.cursorTarget = this.object.addComponent('cursor-target');\r\n\r\n        this.timeSinceLastVizCheck = 0;\r\n        this.visibleDuration = 0;\r\n\r\n        /* 10 Seconds min vizibility threshold */\r\n        this.durationThreshold = 10.0;\r\n    },\r\n    start: function() {\r\n        Wonderleap.fetchAd(this.auId).then(function(ad) {\r\n            this.ad = ad;\r\n            WL.textures.load(ad.asset, '')\r\n                .then(function(texture) {\r\n                    const image = WL._images[texture._imageIndex];\r\n                    /* Make ad always 1 meter height, adjust width according to ad aspect ratio */\r\n                    this.collision.extents = [image.width/image.height, 1.0, 0.1];\r\n                    this.object.scale([image.width/image.height, 1.0, 1.0]);\r\n                    if(this.mesh.material.shader == 'Phong Textured') {\r\n                        this.mesh.material.diffuseTexture = texture;\r\n                    } else {\r\n                        this.mesh.material.flatTexture = texture;\r\n                    }\r\n                }.bind(this))\r\n                .catch(console.err);\r\n        }.bind(this));\r\n\r\n        this.cursorTarget.addClickFunction(this.click.bind(this));\r\n    },\r\n    update: function(dt) {\r\n        this.timeSinceLastVizCheck += dt;\r\n\r\n        /* visibility check */\r\n        if(this.timeSinceLastVizCheck > 0.5) {\r\n            const isVisible = this.isVisible();\r\n\r\n            if(isVisible) {\r\n                this.visibleDuration += this.timeSinceLastVizCheck;\r\n            }\r\n            this.timeSinceLastVizCheck = 0;\r\n\r\n            if((!isVisible && this.visibleDuration > 0) ||\r\n                this.visibleDuration > this.durationThreshold)\r\n            {\r\n                Wonderleap.sendMetric('gaze', this.visibleDuration, this.ad.adId, this.ad.auId);\r\n                this.visibleDuration = 0;\r\n            }\r\n        }\r\n    },\r\n\r\n    isVisible: function() {\r\n        /* Ensure there is a view and it's active */\r\n        const view = WL.scene.activeViews[0];\r\n        if(!view || !view.active) {\r\n            console.warn(\"wonderleap-ad: camera object does not have an active view\");\r\n            return false;\r\n        }\r\n\r\n        const transform = view.object.transformWorld;\r\n        const rayOrigin = [0, 0, 0];\r\n        quat2.getTranslation(rayOrigin, transform);\r\n        const rayDir = [0, 0, -1];\r\n        vec3.transformQuat(rayDir, rayDir, transform);\r\n\r\n        let hits = WL.scene.rayCast(rayOrigin, rayDir, 0x2);\r\n        for(let i = 0; i < hits.hitCount; ++i) {\r\n            const obj = hits.objects[i];\r\n            if(obj.objectId == this.object.objectId) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    click: function() {\r\n        /* Exit VR, in case active, then open link, otherwise open directly */\r\n        const s = Module['webxr_session'];\r\n        if(s) {\r\n            /* Try calling click again once the session ended,\r\n             * this time, the session will be null */\r\n            s.end().then(this.click.bind(this));\r\n            return;\r\n        }\r\n\r\n        Wonderleap.sendMetric('click', 0, this.ad.adId, this.ad.auId);\r\n        if(this.ad.url) {\r\n            window.open(this.ad.url, '_blank');\r\n        }\r\n    }\r\n});\r\n",
        "/* Backwards compatiblity for pre 0.8.5 */\r\nwindow.glMatrix = require('gl-matrix');\r\n\r\nrequire('./8thwall-camera.js');\r\nrequire('./cursor-target.js');\r\nrequire('./cursor.js');\r\nrequire('./debug-object.js');\r\nrequire('./device-orientation-look.js');\r\nrequire('./finger-cursor.js');\r\nrequire('./fixed-foveation.js');\r\nrequire('./hand-tracking.js');\r\nrequire('./hit-test-location.js');\r\nrequire('./howler-audio-listener.js');\r\nrequire('./howler-audio-source.js');\r\nrequire('./image-texture.js');\r\nrequire('./mouse-look.js');\r\nrequire('./target-framerate.js');\r\nrequire('./teleport.js');\r\nrequire('./two-joint-ik-solver.js');\r\nrequire('./video-texture.js');\r\nrequire('./vr-mode-active-switch.js');\r\nrequire('./wasd-controls.js');\r\nrequire('./wonderleap-ad.js');\r\n",
        "WL.registerComponent('ball', {\r\n    param: {type: WL.Type.Float, default: 1.0},\r\n}, {\r\n    init: function() {\r\n    },\r\n    start: function() {\r\n        this.translation = this.object.transformWorld\r\n    },\r\n    update: function(dt) {\r\n        if (this.translation[5] < -0.9 ) {\r\n            this.object.destroy();\r\n        }\r\n    },\r\n});\r\n",
        "(()=>{var qs=Object.create;var $=Object.defineProperty;var Us=Object.getOwnPropertyDescriptor;var Gs=Object.getOwnPropertyNames;var zs=Object.getPrototypeOf,Qs=Object.prototype.hasOwnProperty;var F=(e,t)=>()=>(e&&(t=e(e=0)),t);var C=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),U=(e,t)=>{for(var i in t)$(e,i,{get:t[i],enumerable:!0})},Ut=(e,t,i,s)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let n of Gs(t))!Qs.call(e,n)&&n!==i&&$(e,n,{get:()=>t[n],enumerable:!(s=Us(t,n))||s.enumerable});return e};var pt=(e,t,i)=>(i=e!=null?qs(zs(e)):{},Ut(t||!e||!e.__esModule?$(i,\"default\",{value:e,enumerable:!0}):i,e)),z=e=>Ut($({},\"__esModule\",{value:!0}),e);var Gt=C(()=>{PP={}});var zt=C(()=>{WL&&WL.Object&&(WL.MeshComponent.prototype.pp_clone=function(e,t,i){let s=e.pp_addComponent(this.type);return s.active=this.active,t.isDeepCloneComponentVariable(\"mesh\",\"material\")?s.material=this.material.clone():s.material=this.material,t.isDeepCloneComponentVariable(\"mesh\",\"mesh\")?s.mesh=PP.MeshUtils.cloneMesh(this.mesh):s.mesh=this.mesh,s.skin=this.skin,s},WL.CollisionComponent.prototype.pp_clone=function(e,t,i){let s=e.pp_addComponent(this.type);return s.active=this.active,s.collider=this.collider,s.extents=this.extents.slice(0),s.group=this.group,s},WL.TextComponent.prototype.pp_clone=function(e,t,i){let s=e.pp_addComponent(this.type);return s.active=this.active,t.isDeepCloneComponent(\"text\")?s.text=this.text.slice(0):s.text=this.text,t.isDeepCloneComponentVariable(\"text\",\"material\")?s.material=this.material.clone():s.material=this.material,s.alignment=this.alignment,s.justification=this.justification,s},WL.PhysXComponent.prototype.pp_clone=function(e,t,i){let s=e.pp_addComponent(this.type,{angularDamping:this.angularDamping,angularVelocity:this.angularVelocity,dynamicFriction:this.dynamicFriction,extents:this.extents,kinematic:this.kinematic,linearDamping:this.linearDamping,linearVelocity:this.linearVelocity,mass:this.mass,restituition:this.restituition,shape:this.shape,shapeData:this.shapeData,static:this.static,staticFriction:this.staticFriction});return s.active=this.active,s},Object.defineProperty(WL.MeshComponent.prototype,\"pp_clone\",{enumerable:!1}),Object.defineProperty(WL.CollisionComponent.prototype,\"pp_clone\",{enumerable:!1}),Object.defineProperty(WL.TextComponent.prototype,\"pp_clone\",{enumerable:!1}),Object.defineProperty(WL.PhysXComponent.prototype,\"pp_clone\",{enumerable:!1}))});var w={};U(w,{ARRAY_TYPE:()=>R,EPSILON:()=>B,RANDOM:()=>H,equals:()=>Zs,setMatrixArrayType:()=>Ks,toRadian:()=>Ys});function Ks(e){R=e}function Ys(e){return e*Xs}function Zs(e,t){return Math.abs(e-t)<=B*Math.max(1,Math.abs(e),Math.abs(t))}var B,R,H,Xs,q=F(()=>{B=1e-6,R=typeof Float32Array<\"u\"?Float32Array:Array,H=Math.random;Xs=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})});var V={};U(V,{add:()=>Cn,adjoint:()=>rn,clone:()=>$s,copy:()=>tn,create:()=>_t,determinant:()=>ln,equals:()=>xn,exactEquals:()=>vn,frob:()=>Tn,fromMat2d:()=>_n,fromMat4:()=>Js,fromQuat:()=>dn,fromRotation:()=>hn,fromScaling:()=>pn,fromTranslation:()=>cn,fromValues:()=>en,identity:()=>nn,invert:()=>an,mul:()=>Bn,multiply:()=>Qt,multiplyScalar:()=>bn,multiplyScalarAndAdd:()=>Sn,normalFromMat4:()=>gn,projection:()=>Pn,rotate:()=>un,scale:()=>yn,set:()=>sn,str:()=>fn,sub:()=>Mn,subtract:()=>Kt,translate:()=>mn,transpose:()=>on});function _t(){var e=new R(9);return R!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function Js(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function $s(e){var t=new R(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function tn(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function en(e,t,i,s,n,o,r,l,u){var c=new R(9);return c[0]=e,c[1]=t,c[2]=i,c[3]=s,c[4]=n,c[5]=o,c[6]=r,c[7]=l,c[8]=u,c}function sn(e,t,i,s,n,o,r,l,u,c){return e[0]=t,e[1]=i,e[2]=s,e[3]=n,e[4]=o,e[5]=r,e[6]=l,e[7]=u,e[8]=c,e}function nn(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function on(e,t){if(e===t){var i=t[1],s=t[2],n=t[5];e[1]=t[3],e[2]=t[6],e[3]=i,e[5]=t[7],e[6]=s,e[7]=n}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function an(e,t){var i=t[0],s=t[1],n=t[2],o=t[3],r=t[4],l=t[5],u=t[6],c=t[7],a=t[8],m=a*r-l*c,y=-a*o+l*u,p=c*o-r*u,d=i*m+s*y+n*p;return d?(d=1/d,e[0]=m*d,e[1]=(-a*s+n*c)*d,e[2]=(l*s-n*r)*d,e[3]=y*d,e[4]=(a*i-n*u)*d,e[5]=(-l*i+n*o)*d,e[6]=p*d,e[7]=(-c*i+s*u)*d,e[8]=(r*i-s*o)*d,e):null}function rn(e,t){var i=t[0],s=t[1],n=t[2],o=t[3],r=t[4],l=t[5],u=t[6],c=t[7],a=t[8];return e[0]=r*a-l*c,e[1]=n*c-s*a,e[2]=s*l-n*r,e[3]=l*u-o*a,e[4]=i*a-n*u,e[5]=n*o-i*l,e[6]=o*c-r*u,e[7]=s*u-i*c,e[8]=i*r-s*o,e}function ln(e){var t=e[0],i=e[1],s=e[2],n=e[3],o=e[4],r=e[5],l=e[6],u=e[7],c=e[8];return t*(c*o-r*u)+i*(-c*n+r*l)+s*(u*n-o*l)}function Qt(e,t,i){var s=t[0],n=t[1],o=t[2],r=t[3],l=t[4],u=t[5],c=t[6],a=t[7],m=t[8],y=i[0],p=i[1],d=i[2],g=i[3],_=i[4],P=i[5],T=i[6],S=i[7],v=i[8];return e[0]=y*s+p*r+d*c,e[1]=y*n+p*l+d*a,e[2]=y*o+p*u+d*m,e[3]=g*s+_*r+P*c,e[4]=g*n+_*l+P*a,e[5]=g*o+_*u+P*m,e[6]=T*s+S*r+v*c,e[7]=T*n+S*l+v*a,e[8]=T*o+S*u+v*m,e}function mn(e,t,i){var s=t[0],n=t[1],o=t[2],r=t[3],l=t[4],u=t[5],c=t[6],a=t[7],m=t[8],y=i[0],p=i[1];return e[0]=s,e[1]=n,e[2]=o,e[3]=r,e[4]=l,e[5]=u,e[6]=y*s+p*r+c,e[7]=y*n+p*l+a,e[8]=y*o+p*u+m,e}function un(e,t,i){var s=t[0],n=t[1],o=t[2],r=t[3],l=t[4],u=t[5],c=t[6],a=t[7],m=t[8],y=Math.sin(i),p=Math.cos(i);return e[0]=p*s+y*r,e[1]=p*n+y*l,e[2]=p*o+y*u,e[3]=p*r-y*s,e[4]=p*l-y*n,e[5]=p*u-y*o,e[6]=c,e[7]=a,e[8]=m,e}function yn(e,t,i){var s=i[0],n=i[1];return e[0]=s*t[0],e[1]=s*t[1],e[2]=s*t[2],e[3]=n*t[3],e[4]=n*t[4],e[5]=n*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function cn(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function hn(e,t){var i=Math.sin(t),s=Math.cos(t);return e[0]=s,e[1]=i,e[2]=0,e[3]=-i,e[4]=s,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function pn(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function _n(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function dn(e,t){var i=t[0],s=t[1],n=t[2],o=t[3],r=i+i,l=s+s,u=n+n,c=i*r,a=s*r,m=s*l,y=n*r,p=n*l,d=n*u,g=o*r,_=o*l,P=o*u;return e[0]=1-m-d,e[3]=a-P,e[6]=y+_,e[1]=a+P,e[4]=1-c-d,e[7]=p-g,e[2]=y-_,e[5]=p+g,e[8]=1-c-m,e}function gn(e,t){var i=t[0],s=t[1],n=t[2],o=t[3],r=t[4],l=t[5],u=t[6],c=t[7],a=t[8],m=t[9],y=t[10],p=t[11],d=t[12],g=t[13],_=t[14],P=t[15],T=i*l-s*r,S=i*u-n*r,v=i*c-o*r,x=s*u-n*l,M=s*c-o*l,W=n*c-o*u,A=a*g-m*d,E=a*_-y*d,I=a*P-p*d,j=m*_-y*g,k=m*P-p*g,O=y*P-p*_,D=T*O-S*k+v*j+x*I-M*E+W*A;return D?(D=1/D,e[0]=(l*O-u*k+c*j)*D,e[1]=(u*I-r*O-c*E)*D,e[2]=(r*k-l*I+c*A)*D,e[3]=(n*k-s*O-o*j)*D,e[4]=(i*O-n*I+o*E)*D,e[5]=(s*I-i*k-o*A)*D,e[6]=(g*W-_*M+P*x)*D,e[7]=(_*v-d*W-P*S)*D,e[8]=(d*M-g*v+P*T)*D,e):null}function Pn(e,t,i){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/i,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function fn(e){return\"mat3(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\", \"+e[4]+\", \"+e[5]+\", \"+e[6]+\", \"+e[7]+\", \"+e[8]+\")\"}function Tn(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function Cn(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e}function Kt(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e}function bn(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e}function Sn(e,t,i,s){return e[0]=t[0]+i[0]*s,e[1]=t[1]+i[1]*s,e[2]=t[2]+i[2]*s,e[3]=t[3]+i[3]*s,e[4]=t[4]+i[4]*s,e[5]=t[5]+i[5]*s,e[6]=t[6]+i[6]*s,e[7]=t[7]+i[7]*s,e[8]=t[8]+i[8]*s,e}function vn(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function xn(e,t){var i=e[0],s=e[1],n=e[2],o=e[3],r=e[4],l=e[5],u=e[6],c=e[7],a=e[8],m=t[0],y=t[1],p=t[2],d=t[3],g=t[4],_=t[5],P=t[6],T=t[7],S=t[8];return Math.abs(i-m)<=B*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(s-y)<=B*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(n-p)<=B*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(o-d)<=B*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(r-g)<=B*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(l-_)<=B*Math.max(1,Math.abs(l),Math.abs(_))&&Math.abs(u-P)<=B*Math.max(1,Math.abs(u),Math.abs(P))&&Math.abs(c-T)<=B*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(a-S)<=B*Math.max(1,Math.abs(a),Math.abs(S))}var Bn,Mn,dt=F(()=>{q();Bn=Qt,Mn=Kt});var b={};U(b,{add:()=>mo,adjoint:()=>Wn,clone:()=>Ln,copy:()=>Vn,create:()=>An,determinant:()=>En,equals:()=>ho,exactEquals:()=>co,frob:()=>lo,fromQuat:()=>Jn,fromQuat2:()=>Xn,fromRotation:()=>Gn,fromRotationTranslation:()=>Zt,fromRotationTranslationScale:()=>Yn,fromRotationTranslationScaleOrigin:()=>Zn,fromScaling:()=>Un,fromTranslation:()=>qn,fromValues:()=>Dn,fromXRotation:()=>zn,fromYRotation:()=>Qn,fromZRotation:()=>Kn,frustum:()=>$n,getRotation:()=>Pt,getScaling:()=>Jt,getTranslation:()=>gt,identity:()=>Xt,invert:()=>On,lookAt:()=>oo,mul:()=>po,multiply:()=>Yt,multiplyScalar:()=>uo,multiplyScalarAndAdd:()=>yo,ortho:()=>so,orthoNO:()=>te,orthoZO:()=>no,perspective:()=>to,perspectiveFromFieldOfView:()=>io,perspectiveNO:()=>$t,perspectiveZO:()=>eo,rotate:()=>wn,rotateX:()=>Fn,rotateY:()=>Hn,rotateZ:()=>Nn,scale:()=>jn,set:()=>Rn,str:()=>ro,sub:()=>_o,subtract:()=>ee,targetTo:()=>ao,translate:()=>kn,transpose:()=>In});function An(){var e=new R(16);return R!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Ln(e){var t=new R(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Vn(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Dn(e,t,i,s,n,o,r,l,u,c,a,m,y,p,d,g){var _=new R(16);return _[0]=e,_[1]=t,_[2]=i,_[3]=s,_[4]=n,_[5]=o,_[6]=r,_[7]=l,_[8]=u,_[9]=c,_[10]=a,_[11]=m,_[12]=y,_[13]=p,_[14]=d,_[15]=g,_}function Rn(e,t,i,s,n,o,r,l,u,c,a,m,y,p,d,g,_){return e[0]=t,e[1]=i,e[2]=s,e[3]=n,e[4]=o,e[5]=r,e[6]=l,e[7]=u,e[8]=c,e[9]=a,e[10]=m,e[11]=y,e[12]=p,e[13]=d,e[14]=g,e[15]=_,e}function Xt(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function In(e,t){if(e===t){var i=t[1],s=t[2],n=t[3],o=t[6],r=t[7],l=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=i,e[6]=t[9],e[7]=t[13],e[8]=s,e[9]=o,e[11]=t[14],e[12]=n,e[13]=r,e[14]=l}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function On(e,t){var i=t[0],s=t[1],n=t[2],o=t[3],r=t[4],l=t[5],u=t[6],c=t[7],a=t[8],m=t[9],y=t[10],p=t[11],d=t[12],g=t[13],_=t[14],P=t[15],T=i*l-s*r,S=i*u-n*r,v=i*c-o*r,x=s*u-n*l,M=s*c-o*l,W=n*c-o*u,A=a*g-m*d,E=a*_-y*d,I=a*P-p*d,j=m*_-y*g,k=m*P-p*g,O=y*P-p*_,D=T*O-S*k+v*j+x*I-M*E+W*A;return D?(D=1/D,e[0]=(l*O-u*k+c*j)*D,e[1]=(n*k-s*O-o*j)*D,e[2]=(g*W-_*M+P*x)*D,e[3]=(y*M-m*W-p*x)*D,e[4]=(u*I-r*O-c*E)*D,e[5]=(i*O-n*I+o*E)*D,e[6]=(_*v-d*W-P*S)*D,e[7]=(a*W-y*v+p*S)*D,e[8]=(r*k-l*I+c*A)*D,e[9]=(s*I-i*k-o*A)*D,e[10]=(d*M-g*v+P*T)*D,e[11]=(m*v-a*M-p*T)*D,e[12]=(l*E-r*j-u*A)*D,e[13]=(i*j-s*E+n*A)*D,e[14]=(g*S-d*x-_*T)*D,e[15]=(a*x-m*S+y*T)*D,e):null}function Wn(e,t){var i=t[0],s=t[1],n=t[2],o=t[3],r=t[4],l=t[5],u=t[6],c=t[7],a=t[8],m=t[9],y=t[10],p=t[11],d=t[12],g=t[13],_=t[14],P=t[15];return e[0]=l*(y*P-p*_)-m*(u*P-c*_)+g*(u*p-c*y),e[1]=-(s*(y*P-p*_)-m*(n*P-o*_)+g*(n*p-o*y)),e[2]=s*(u*P-c*_)-l*(n*P-o*_)+g*(n*c-o*u),e[3]=-(s*(u*p-c*y)-l*(n*p-o*y)+m*(n*c-o*u)),e[4]=-(r*(y*P-p*_)-a*(u*P-c*_)+d*(u*p-c*y)),e[5]=i*(y*P-p*_)-a*(n*P-o*_)+d*(n*p-o*y),e[6]=-(i*(u*P-c*_)-r*(n*P-o*_)+d*(n*c-o*u)),e[7]=i*(u*p-c*y)-r*(n*p-o*y)+a*(n*c-o*u),e[8]=r*(m*P-p*g)-a*(l*P-c*g)+d*(l*p-c*m),e[9]=-(i*(m*P-p*g)-a*(s*P-o*g)+d*(s*p-o*m)),e[10]=i*(l*P-c*g)-r*(s*P-o*g)+d*(s*c-o*l),e[11]=-(i*(l*p-c*m)-r*(s*p-o*m)+a*(s*c-o*l)),e[12]=-(r*(m*_-y*g)-a*(l*_-u*g)+d*(l*y-u*m)),e[13]=i*(m*_-y*g)-a*(s*_-n*g)+d*(s*y-n*m),e[14]=-(i*(l*_-u*g)-r*(s*_-n*g)+d*(s*u-n*l)),e[15]=i*(l*y-u*m)-r*(s*y-n*m)+a*(s*u-n*l),e}function En(e){var t=e[0],i=e[1],s=e[2],n=e[3],o=e[4],r=e[5],l=e[6],u=e[7],c=e[8],a=e[9],m=e[10],y=e[11],p=e[12],d=e[13],g=e[14],_=e[15],P=t*r-i*o,T=t*l-s*o,S=t*u-n*o,v=i*l-s*r,x=i*u-n*r,M=s*u-n*l,W=c*d-a*p,A=c*g-m*p,E=c*_-y*p,I=a*g-m*d,j=a*_-y*d,k=m*_-y*g;return P*k-T*j+S*I+v*E-x*A+M*W}function Yt(e,t,i){var s=t[0],n=t[1],o=t[2],r=t[3],l=t[4],u=t[5],c=t[6],a=t[7],m=t[8],y=t[9],p=t[10],d=t[11],g=t[12],_=t[13],P=t[14],T=t[15],S=i[0],v=i[1],x=i[2],M=i[3];return e[0]=S*s+v*l+x*m+M*g,e[1]=S*n+v*u+x*y+M*_,e[2]=S*o+v*c+x*p+M*P,e[3]=S*r+v*a+x*d+M*T,S=i[4],v=i[5],x=i[6],M=i[7],e[4]=S*s+v*l+x*m+M*g,e[5]=S*n+v*u+x*y+M*_,e[6]=S*o+v*c+x*p+M*P,e[7]=S*r+v*a+x*d+M*T,S=i[8],v=i[9],x=i[10],M=i[11],e[8]=S*s+v*l+x*m+M*g,e[9]=S*n+v*u+x*y+M*_,e[10]=S*o+v*c+x*p+M*P,e[11]=S*r+v*a+x*d+M*T,S=i[12],v=i[13],x=i[14],M=i[15],e[12]=S*s+v*l+x*m+M*g,e[13]=S*n+v*u+x*y+M*_,e[14]=S*o+v*c+x*p+M*P,e[15]=S*r+v*a+x*d+M*T,e}function kn(e,t,i){var s=i[0],n=i[1],o=i[2],r,l,u,c,a,m,y,p,d,g,_,P;return t===e?(e[12]=t[0]*s+t[4]*n+t[8]*o+t[12],e[13]=t[1]*s+t[5]*n+t[9]*o+t[13],e[14]=t[2]*s+t[6]*n+t[10]*o+t[14],e[15]=t[3]*s+t[7]*n+t[11]*o+t[15]):(r=t[0],l=t[1],u=t[2],c=t[3],a=t[4],m=t[5],y=t[6],p=t[7],d=t[8],g=t[9],_=t[10],P=t[11],e[0]=r,e[1]=l,e[2]=u,e[3]=c,e[4]=a,e[5]=m,e[6]=y,e[7]=p,e[8]=d,e[9]=g,e[10]=_,e[11]=P,e[12]=r*s+a*n+d*o+t[12],e[13]=l*s+m*n+g*o+t[13],e[14]=u*s+y*n+_*o+t[14],e[15]=c*s+p*n+P*o+t[15]),e}function jn(e,t,i){var s=i[0],n=i[1],o=i[2];return e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e[3]=t[3]*s,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function wn(e,t,i,s){var n=s[0],o=s[1],r=s[2],l=Math.hypot(n,o,r),u,c,a,m,y,p,d,g,_,P,T,S,v,x,M,W,A,E,I,j,k,O,D,N;return l<B?null:(l=1/l,n*=l,o*=l,r*=l,u=Math.sin(i),c=Math.cos(i),a=1-c,m=t[0],y=t[1],p=t[2],d=t[3],g=t[4],_=t[5],P=t[6],T=t[7],S=t[8],v=t[9],x=t[10],M=t[11],W=n*n*a+c,A=o*n*a+r*u,E=r*n*a-o*u,I=n*o*a-r*u,j=o*o*a+c,k=r*o*a+n*u,O=n*r*a+o*u,D=o*r*a-n*u,N=r*r*a+c,e[0]=m*W+g*A+S*E,e[1]=y*W+_*A+v*E,e[2]=p*W+P*A+x*E,e[3]=d*W+T*A+M*E,e[4]=m*I+g*j+S*k,e[5]=y*I+_*j+v*k,e[6]=p*I+P*j+x*k,e[7]=d*I+T*j+M*k,e[8]=m*O+g*D+S*N,e[9]=y*O+_*D+v*N,e[10]=p*O+P*D+x*N,e[11]=d*O+T*D+M*N,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function Fn(e,t,i){var s=Math.sin(i),n=Math.cos(i),o=t[4],r=t[5],l=t[6],u=t[7],c=t[8],a=t[9],m=t[10],y=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*n+c*s,e[5]=r*n+a*s,e[6]=l*n+m*s,e[7]=u*n+y*s,e[8]=c*n-o*s,e[9]=a*n-r*s,e[10]=m*n-l*s,e[11]=y*n-u*s,e}function Hn(e,t,i){var s=Math.sin(i),n=Math.cos(i),o=t[0],r=t[1],l=t[2],u=t[3],c=t[8],a=t[9],m=t[10],y=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*n-c*s,e[1]=r*n-a*s,e[2]=l*n-m*s,e[3]=u*n-y*s,e[8]=o*s+c*n,e[9]=r*s+a*n,e[10]=l*s+m*n,e[11]=u*s+y*n,e}function Nn(e,t,i){var s=Math.sin(i),n=Math.cos(i),o=t[0],r=t[1],l=t[2],u=t[3],c=t[4],a=t[5],m=t[6],y=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*n+c*s,e[1]=r*n+a*s,e[2]=l*n+m*s,e[3]=u*n+y*s,e[4]=c*n-o*s,e[5]=a*n-r*s,e[6]=m*n-l*s,e[7]=y*n-u*s,e}function qn(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function Un(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Gn(e,t,i){var s=i[0],n=i[1],o=i[2],r=Math.hypot(s,n,o),l,u,c;return r<B?null:(r=1/r,s*=r,n*=r,o*=r,l=Math.sin(t),u=Math.cos(t),c=1-u,e[0]=s*s*c+u,e[1]=n*s*c+o*l,e[2]=o*s*c-n*l,e[3]=0,e[4]=s*n*c-o*l,e[5]=n*n*c+u,e[6]=o*n*c+s*l,e[7]=0,e[8]=s*o*c+n*l,e[9]=n*o*c-s*l,e[10]=o*o*c+u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function zn(e,t){var i=Math.sin(t),s=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=i,e[7]=0,e[8]=0,e[9]=-i,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Qn(e,t){var i=Math.sin(t),s=Math.cos(t);return e[0]=s,e[1]=0,e[2]=-i,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=i,e[9]=0,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Kn(e,t){var i=Math.sin(t),s=Math.cos(t);return e[0]=s,e[1]=i,e[2]=0,e[3]=0,e[4]=-i,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Zt(e,t,i){var s=t[0],n=t[1],o=t[2],r=t[3],l=s+s,u=n+n,c=o+o,a=s*l,m=s*u,y=s*c,p=n*u,d=n*c,g=o*c,_=r*l,P=r*u,T=r*c;return e[0]=1-(p+g),e[1]=m+T,e[2]=y-P,e[3]=0,e[4]=m-T,e[5]=1-(a+g),e[6]=d+_,e[7]=0,e[8]=y+P,e[9]=d-_,e[10]=1-(a+p),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function Xn(e,t){var i=new R(3),s=-t[0],n=-t[1],o=-t[2],r=t[3],l=t[4],u=t[5],c=t[6],a=t[7],m=s*s+n*n+o*o+r*r;return m>0?(i[0]=(l*r+a*s+u*o-c*n)*2/m,i[1]=(u*r+a*n+c*s-l*o)*2/m,i[2]=(c*r+a*o+l*n-u*s)*2/m):(i[0]=(l*r+a*s+u*o-c*n)*2,i[1]=(u*r+a*n+c*s-l*o)*2,i[2]=(c*r+a*o+l*n-u*s)*2),Zt(e,t,i),e}function gt(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function Jt(e,t){var i=t[0],s=t[1],n=t[2],o=t[4],r=t[5],l=t[6],u=t[8],c=t[9],a=t[10];return e[0]=Math.hypot(i,s,n),e[1]=Math.hypot(o,r,l),e[2]=Math.hypot(u,c,a),e}function Pt(e,t){var i=new R(3);Jt(i,t);var s=1/i[0],n=1/i[1],o=1/i[2],r=t[0]*s,l=t[1]*n,u=t[2]*o,c=t[4]*s,a=t[5]*n,m=t[6]*o,y=t[8]*s,p=t[9]*n,d=t[10]*o,g=r+a+d,_=0;return g>0?(_=Math.sqrt(g+1)*2,e[3]=.25*_,e[0]=(m-p)/_,e[1]=(y-u)/_,e[2]=(l-c)/_):r>a&&r>d?(_=Math.sqrt(1+r-a-d)*2,e[3]=(m-p)/_,e[0]=.25*_,e[1]=(l+c)/_,e[2]=(y+u)/_):a>d?(_=Math.sqrt(1+a-r-d)*2,e[3]=(y-u)/_,e[0]=(l+c)/_,e[1]=.25*_,e[2]=(m+p)/_):(_=Math.sqrt(1+d-r-a)*2,e[3]=(l-c)/_,e[0]=(y+u)/_,e[1]=(m+p)/_,e[2]=.25*_),e}function Yn(e,t,i,s){var n=t[0],o=t[1],r=t[2],l=t[3],u=n+n,c=o+o,a=r+r,m=n*u,y=n*c,p=n*a,d=o*c,g=o*a,_=r*a,P=l*u,T=l*c,S=l*a,v=s[0],x=s[1],M=s[2];return e[0]=(1-(d+_))*v,e[1]=(y+S)*v,e[2]=(p-T)*v,e[3]=0,e[4]=(y-S)*x,e[5]=(1-(m+_))*x,e[6]=(g+P)*x,e[7]=0,e[8]=(p+T)*M,e[9]=(g-P)*M,e[10]=(1-(m+d))*M,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function Zn(e,t,i,s,n){var o=t[0],r=t[1],l=t[2],u=t[3],c=o+o,a=r+r,m=l+l,y=o*c,p=o*a,d=o*m,g=r*a,_=r*m,P=l*m,T=u*c,S=u*a,v=u*m,x=s[0],M=s[1],W=s[2],A=n[0],E=n[1],I=n[2],j=(1-(g+P))*x,k=(p+v)*x,O=(d-S)*x,D=(p-v)*M,N=(1-(y+P))*M,K=(_+T)*M,X=(d+S)*W,Nt=(_-T)*W,qt=(1-(y+g))*W;return e[0]=j,e[1]=k,e[2]=O,e[3]=0,e[4]=D,e[5]=N,e[6]=K,e[7]=0,e[8]=X,e[9]=Nt,e[10]=qt,e[11]=0,e[12]=i[0]+A-(j*A+D*E+X*I),e[13]=i[1]+E-(k*A+N*E+Nt*I),e[14]=i[2]+I-(O*A+K*E+qt*I),e[15]=1,e}function Jn(e,t){var i=t[0],s=t[1],n=t[2],o=t[3],r=i+i,l=s+s,u=n+n,c=i*r,a=s*r,m=s*l,y=n*r,p=n*l,d=n*u,g=o*r,_=o*l,P=o*u;return e[0]=1-m-d,e[1]=a+P,e[2]=y-_,e[3]=0,e[4]=a-P,e[5]=1-c-d,e[6]=p+g,e[7]=0,e[8]=y+_,e[9]=p-g,e[10]=1-c-m,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function $n(e,t,i,s,n,o,r){var l=1/(i-t),u=1/(n-s),c=1/(o-r);return e[0]=o*2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o*2*u,e[6]=0,e[7]=0,e[8]=(i+t)*l,e[9]=(n+s)*u,e[10]=(r+o)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=r*o*2*c,e[15]=0,e}function $t(e,t,i,s,n){var o=1/Math.tan(t/2),r;return e[0]=o/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,n!=null&&n!==1/0?(r=1/(s-n),e[10]=(n+s)*r,e[14]=2*n*s*r):(e[10]=-1,e[14]=-2*s),e}function eo(e,t,i,s,n){var o=1/Math.tan(t/2),r;return e[0]=o/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,n!=null&&n!==1/0?(r=1/(s-n),e[10]=n*r,e[14]=n*s*r):(e[10]=-1,e[14]=-s),e}function io(e,t,i,s){var n=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),r=Math.tan(t.leftDegrees*Math.PI/180),l=Math.tan(t.rightDegrees*Math.PI/180),u=2/(r+l),c=2/(n+o);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-((r-l)*u*.5),e[9]=(n-o)*c*.5,e[10]=s/(i-s),e[11]=-1,e[12]=0,e[13]=0,e[14]=s*i/(i-s),e[15]=0,e}function te(e,t,i,s,n,o,r){var l=1/(t-i),u=1/(s-n),c=1/(o-r);return e[0]=-2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+i)*l,e[13]=(n+s)*u,e[14]=(r+o)*c,e[15]=1,e}function no(e,t,i,s,n,o,r){var l=1/(t-i),u=1/(s-n),c=1/(o-r);return e[0]=-2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=c,e[11]=0,e[12]=(t+i)*l,e[13]=(n+s)*u,e[14]=o*c,e[15]=1,e}function oo(e,t,i,s){var n,o,r,l,u,c,a,m,y,p,d=t[0],g=t[1],_=t[2],P=s[0],T=s[1],S=s[2],v=i[0],x=i[1],M=i[2];return Math.abs(d-v)<B&&Math.abs(g-x)<B&&Math.abs(_-M)<B?Xt(e):(a=d-v,m=g-x,y=_-M,p=1/Math.hypot(a,m,y),a*=p,m*=p,y*=p,n=T*y-S*m,o=S*a-P*y,r=P*m-T*a,p=Math.hypot(n,o,r),p?(p=1/p,n*=p,o*=p,r*=p):(n=0,o=0,r=0),l=m*r-y*o,u=y*n-a*r,c=a*o-m*n,p=Math.hypot(l,u,c),p?(p=1/p,l*=p,u*=p,c*=p):(l=0,u=0,c=0),e[0]=n,e[1]=l,e[2]=a,e[3]=0,e[4]=o,e[5]=u,e[6]=m,e[7]=0,e[8]=r,e[9]=c,e[10]=y,e[11]=0,e[12]=-(n*d+o*g+r*_),e[13]=-(l*d+u*g+c*_),e[14]=-(a*d+m*g+y*_),e[15]=1,e)}function ao(e,t,i,s){var n=t[0],o=t[1],r=t[2],l=s[0],u=s[1],c=s[2],a=n-i[0],m=o-i[1],y=r-i[2],p=a*a+m*m+y*y;p>0&&(p=1/Math.sqrt(p),a*=p,m*=p,y*=p);var d=u*y-c*m,g=c*a-l*y,_=l*m-u*a;return p=d*d+g*g+_*_,p>0&&(p=1/Math.sqrt(p),d*=p,g*=p,_*=p),e[0]=d,e[1]=g,e[2]=_,e[3]=0,e[4]=m*_-y*g,e[5]=y*d-a*_,e[6]=a*g-m*d,e[7]=0,e[8]=a,e[9]=m,e[10]=y,e[11]=0,e[12]=n,e[13]=o,e[14]=r,e[15]=1,e}function ro(e){return\"mat4(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\", \"+e[4]+\", \"+e[5]+\", \"+e[6]+\", \"+e[7]+\", \"+e[8]+\", \"+e[9]+\", \"+e[10]+\", \"+e[11]+\", \"+e[12]+\", \"+e[13]+\", \"+e[14]+\", \"+e[15]+\")\"}function lo(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function mo(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e[9]=t[9]+i[9],e[10]=t[10]+i[10],e[11]=t[11]+i[11],e[12]=t[12]+i[12],e[13]=t[13]+i[13],e[14]=t[14]+i[14],e[15]=t[15]+i[15],e}function ee(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e[9]=t[9]-i[9],e[10]=t[10]-i[10],e[11]=t[11]-i[11],e[12]=t[12]-i[12],e[13]=t[13]-i[13],e[14]=t[14]-i[14],e[15]=t[15]-i[15],e}function uo(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12]*i,e[13]=t[13]*i,e[14]=t[14]*i,e[15]=t[15]*i,e}function yo(e,t,i,s){return e[0]=t[0]+i[0]*s,e[1]=t[1]+i[1]*s,e[2]=t[2]+i[2]*s,e[3]=t[3]+i[3]*s,e[4]=t[4]+i[4]*s,e[5]=t[5]+i[5]*s,e[6]=t[6]+i[6]*s,e[7]=t[7]+i[7]*s,e[8]=t[8]+i[8]*s,e[9]=t[9]+i[9]*s,e[10]=t[10]+i[10]*s,e[11]=t[11]+i[11]*s,e[12]=t[12]+i[12]*s,e[13]=t[13]+i[13]*s,e[14]=t[14]+i[14]*s,e[15]=t[15]+i[15]*s,e}function co(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function ho(e,t){var i=e[0],s=e[1],n=e[2],o=e[3],r=e[4],l=e[5],u=e[6],c=e[7],a=e[8],m=e[9],y=e[10],p=e[11],d=e[12],g=e[13],_=e[14],P=e[15],T=t[0],S=t[1],v=t[2],x=t[3],M=t[4],W=t[5],A=t[6],E=t[7],I=t[8],j=t[9],k=t[10],O=t[11],D=t[12],N=t[13],K=t[14],X=t[15];return Math.abs(i-T)<=B*Math.max(1,Math.abs(i),Math.abs(T))&&Math.abs(s-S)<=B*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(n-v)<=B*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(o-x)<=B*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(r-M)<=B*Math.max(1,Math.abs(r),Math.abs(M))&&Math.abs(l-W)<=B*Math.max(1,Math.abs(l),Math.abs(W))&&Math.abs(u-A)<=B*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(c-E)<=B*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(a-I)<=B*Math.max(1,Math.abs(a),Math.abs(I))&&Math.abs(m-j)<=B*Math.max(1,Math.abs(m),Math.abs(j))&&Math.abs(y-k)<=B*Math.max(1,Math.abs(y),Math.abs(k))&&Math.abs(p-O)<=B*Math.max(1,Math.abs(p),Math.abs(O))&&Math.abs(d-D)<=B*Math.max(1,Math.abs(d),Math.abs(D))&&Math.abs(g-N)<=B*Math.max(1,Math.abs(g),Math.abs(N))&&Math.abs(_-K)<=B*Math.max(1,Math.abs(_),Math.abs(K))&&Math.abs(P-X)<=B*Math.max(1,Math.abs(P),Math.abs(X))}var to,so,po,_o,ft=F(()=>{q();to=$t;so=te;po=Yt,_o=ee});var h={};U(h,{add:()=>To,angle:()=>Fo,bezier:()=>Ro,ceil:()=>Co,clone:()=>go,copy:()=>Po,create:()=>tt,cross:()=>Y,dist:()=>Ko,distance:()=>ae,div:()=>Qo,divide:()=>oe,dot:()=>it,equals:()=>Uo,exactEquals:()=>qo,floor:()=>bo,forEach:()=>Zo,fromValues:()=>et,hermite:()=>Do,inverse:()=>Lo,len:()=>Ct,length:()=>ie,lerp:()=>Vo,max:()=>vo,min:()=>So,mul:()=>zo,multiply:()=>ne,negate:()=>Ao,normalize:()=>Tt,random:()=>Io,rotateX:()=>ko,rotateY:()=>jo,rotateZ:()=>wo,round:()=>xo,scale:()=>Bo,scaleAndAdd:()=>Mo,set:()=>fo,sqrDist:()=>Xo,sqrLen:()=>Yo,squaredDistance:()=>re,squaredLength:()=>le,str:()=>No,sub:()=>Go,subtract:()=>se,transformMat3:()=>Wo,transformMat4:()=>Oo,transformQuat:()=>Eo,zero:()=>Ho});function tt(){var e=new R(3);return R!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function go(e){var t=new R(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function ie(e){var t=e[0],i=e[1],s=e[2];return Math.hypot(t,i,s)}function et(e,t,i){var s=new R(3);return s[0]=e,s[1]=t,s[2]=i,s}function Po(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function fo(e,t,i,s){return e[0]=t,e[1]=i,e[2]=s,e}function To(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e}function se(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e}function ne(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e}function oe(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e}function Co(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function bo(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function So(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e}function vo(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e}function xo(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function Bo(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function Mo(e,t,i,s){return e[0]=t[0]+i[0]*s,e[1]=t[1]+i[1]*s,e[2]=t[2]+i[2]*s,e}function ae(e,t){var i=t[0]-e[0],s=t[1]-e[1],n=t[2]-e[2];return Math.hypot(i,s,n)}function re(e,t){var i=t[0]-e[0],s=t[1]-e[1],n=t[2]-e[2];return i*i+s*s+n*n}function le(e){var t=e[0],i=e[1],s=e[2];return t*t+i*i+s*s}function Ao(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function Lo(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function Tt(e,t){var i=t[0],s=t[1],n=t[2],o=i*i+s*s+n*n;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function it(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Y(e,t,i){var s=t[0],n=t[1],o=t[2],r=i[0],l=i[1],u=i[2];return e[0]=n*u-o*l,e[1]=o*r-s*u,e[2]=s*l-n*r,e}function Vo(e,t,i,s){var n=t[0],o=t[1],r=t[2];return e[0]=n+s*(i[0]-n),e[1]=o+s*(i[1]-o),e[2]=r+s*(i[2]-r),e}function Do(e,t,i,s,n,o){var r=o*o,l=r*(2*o-3)+1,u=r*(o-2)+o,c=r*(o-1),a=r*(3-2*o);return e[0]=t[0]*l+i[0]*u+s[0]*c+n[0]*a,e[1]=t[1]*l+i[1]*u+s[1]*c+n[1]*a,e[2]=t[2]*l+i[2]*u+s[2]*c+n[2]*a,e}function Ro(e,t,i,s,n,o){var r=1-o,l=r*r,u=o*o,c=l*r,a=3*o*l,m=3*u*r,y=u*o;return e[0]=t[0]*c+i[0]*a+s[0]*m+n[0]*y,e[1]=t[1]*c+i[1]*a+s[1]*m+n[1]*y,e[2]=t[2]*c+i[2]*a+s[2]*m+n[2]*y,e}function Io(e,t){t=t||1;var i=H()*2*Math.PI,s=H()*2-1,n=Math.sqrt(1-s*s)*t;return e[0]=Math.cos(i)*n,e[1]=Math.sin(i)*n,e[2]=s*t,e}function Oo(e,t,i){var s=t[0],n=t[1],o=t[2],r=i[3]*s+i[7]*n+i[11]*o+i[15];return r=r||1,e[0]=(i[0]*s+i[4]*n+i[8]*o+i[12])/r,e[1]=(i[1]*s+i[5]*n+i[9]*o+i[13])/r,e[2]=(i[2]*s+i[6]*n+i[10]*o+i[14])/r,e}function Wo(e,t,i){var s=t[0],n=t[1],o=t[2];return e[0]=s*i[0]+n*i[3]+o*i[6],e[1]=s*i[1]+n*i[4]+o*i[7],e[2]=s*i[2]+n*i[5]+o*i[8],e}function Eo(e,t,i){var s=i[0],n=i[1],o=i[2],r=i[3],l=t[0],u=t[1],c=t[2],a=n*c-o*u,m=o*l-s*c,y=s*u-n*l,p=n*y-o*m,d=o*a-s*y,g=s*m-n*a,_=r*2;return a*=_,m*=_,y*=_,p*=2,d*=2,g*=2,e[0]=l+a+p,e[1]=u+m+d,e[2]=c+y+g,e}function ko(e,t,i,s){var n=[],o=[];return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n[2]=t[2]-i[2],o[0]=n[0],o[1]=n[1]*Math.cos(s)-n[2]*Math.sin(s),o[2]=n[1]*Math.sin(s)+n[2]*Math.cos(s),e[0]=o[0]+i[0],e[1]=o[1]+i[1],e[2]=o[2]+i[2],e}function jo(e,t,i,s){var n=[],o=[];return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n[2]=t[2]-i[2],o[0]=n[2]*Math.sin(s)+n[0]*Math.cos(s),o[1]=n[1],o[2]=n[2]*Math.cos(s)-n[0]*Math.sin(s),e[0]=o[0]+i[0],e[1]=o[1]+i[1],e[2]=o[2]+i[2],e}function wo(e,t,i,s){var n=[],o=[];return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n[2]=t[2]-i[2],o[0]=n[0]*Math.cos(s)-n[1]*Math.sin(s),o[1]=n[0]*Math.sin(s)+n[1]*Math.cos(s),o[2]=n[2],e[0]=o[0]+i[0],e[1]=o[1]+i[1],e[2]=o[2]+i[2],e}function Fo(e,t){var i=e[0],s=e[1],n=e[2],o=t[0],r=t[1],l=t[2],u=Math.sqrt(i*i+s*s+n*n),c=Math.sqrt(o*o+r*r+l*l),a=u*c,m=a&&it(e,t)/a;return Math.acos(Math.min(Math.max(m,-1),1))}function Ho(e){return e[0]=0,e[1]=0,e[2]=0,e}function No(e){return\"vec3(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\")\"}function qo(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function Uo(e,t){var i=e[0],s=e[1],n=e[2],o=t[0],r=t[1],l=t[2];return Math.abs(i-o)<=B*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(s-r)<=B*Math.max(1,Math.abs(s),Math.abs(r))&&Math.abs(n-l)<=B*Math.max(1,Math.abs(n),Math.abs(l))}var Go,zo,Qo,Ko,Xo,Ct,Yo,Zo,bt=F(()=>{q();Go=se,zo=ne,Qo=oe,Ko=ae,Xo=re,Ct=ie,Yo=le,Zo=function(){var e=tt();return function(t,i,s,n,o,r){var l,u;for(i||(i=3),s||(s=0),n?u=Math.min(n*i+s,t.length):u=t.length,l=s;l<u;l+=i)e[0]=t[l],e[1]=t[l+1],e[2]=t[l+2],o(e,e,r),t[l]=e[0],t[l+1]=e[1],t[l+2]=e[2];return t}}()});var G={};U(G,{add:()=>Mt,ceil:()=>Jo,clone:()=>St,copy:()=>xt,create:()=>me,cross:()=>aa,dist:()=>_a,distance:()=>he,div:()=>pa,divide:()=>ce,dot:()=>Vt,equals:()=>It,exactEquals:()=>Rt,floor:()=>$o,forEach:()=>fa,fromValues:()=>vt,inverse:()=>oa,len:()=>ga,length:()=>st,lerp:()=>Dt,max:()=>ea,min:()=>ta,mul:()=>ha,multiply:()=>ye,negate:()=>na,normalize:()=>Lt,random:()=>ra,round:()=>ia,scale:()=>At,scaleAndAdd:()=>sa,set:()=>Bt,sqrDist:()=>da,sqrLen:()=>Pa,squaredDistance:()=>pe,squaredLength:()=>nt,str:()=>ya,sub:()=>ca,subtract:()=>ue,transformMat4:()=>la,transformQuat:()=>ma,zero:()=>ua});function me(){var e=new R(4);return R!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function St(e){var t=new R(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function vt(e,t,i,s){var n=new R(4);return n[0]=e,n[1]=t,n[2]=i,n[3]=s,n}function xt(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Bt(e,t,i,s,n){return e[0]=t,e[1]=i,e[2]=s,e[3]=n,e}function Mt(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e}function ue(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e}function ye(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e[3]=t[3]*i[3],e}function ce(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e[3]=t[3]/i[3],e}function Jo(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function $o(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function ta(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e[3]=Math.min(t[3],i[3]),e}function ea(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e[3]=Math.max(t[3],i[3]),e}function ia(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function At(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e}function sa(e,t,i,s){return e[0]=t[0]+i[0]*s,e[1]=t[1]+i[1]*s,e[2]=t[2]+i[2]*s,e[3]=t[3]+i[3]*s,e}function he(e,t){var i=t[0]-e[0],s=t[1]-e[1],n=t[2]-e[2],o=t[3]-e[3];return Math.hypot(i,s,n,o)}function pe(e,t){var i=t[0]-e[0],s=t[1]-e[1],n=t[2]-e[2],o=t[3]-e[3];return i*i+s*s+n*n+o*o}function st(e){var t=e[0],i=e[1],s=e[2],n=e[3];return Math.hypot(t,i,s,n)}function nt(e){var t=e[0],i=e[1],s=e[2],n=e[3];return t*t+i*i+s*s+n*n}function na(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function oa(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function Lt(e,t){var i=t[0],s=t[1],n=t[2],o=t[3],r=i*i+s*s+n*n+o*o;return r>0&&(r=1/Math.sqrt(r)),e[0]=i*r,e[1]=s*r,e[2]=n*r,e[3]=o*r,e}function Vt(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function aa(e,t,i,s){var n=i[0]*s[1]-i[1]*s[0],o=i[0]*s[2]-i[2]*s[0],r=i[0]*s[3]-i[3]*s[0],l=i[1]*s[2]-i[2]*s[1],u=i[1]*s[3]-i[3]*s[1],c=i[2]*s[3]-i[3]*s[2],a=t[0],m=t[1],y=t[2],p=t[3];return e[0]=m*c-y*u+p*l,e[1]=-(a*c)+y*r-p*o,e[2]=a*u-m*r+p*n,e[3]=-(a*l)+m*o-y*n,e}function Dt(e,t,i,s){var n=t[0],o=t[1],r=t[2],l=t[3];return e[0]=n+s*(i[0]-n),e[1]=o+s*(i[1]-o),e[2]=r+s*(i[2]-r),e[3]=l+s*(i[3]-l),e}function ra(e,t){t=t||1;var i,s,n,o,r,l;do i=H()*2-1,s=H()*2-1,r=i*i+s*s;while(r>=1);do n=H()*2-1,o=H()*2-1,l=n*n+o*o;while(l>=1);var u=Math.sqrt((1-r)/l);return e[0]=t*i,e[1]=t*s,e[2]=t*n*u,e[3]=t*o*u,e}function la(e,t,i){var s=t[0],n=t[1],o=t[2],r=t[3];return e[0]=i[0]*s+i[4]*n+i[8]*o+i[12]*r,e[1]=i[1]*s+i[5]*n+i[9]*o+i[13]*r,e[2]=i[2]*s+i[6]*n+i[10]*o+i[14]*r,e[3]=i[3]*s+i[7]*n+i[11]*o+i[15]*r,e}function ma(e,t,i){var s=t[0],n=t[1],o=t[2],r=i[0],l=i[1],u=i[2],c=i[3],a=c*s+l*o-u*n,m=c*n+u*s-r*o,y=c*o+r*n-l*s,p=-r*s-l*n-u*o;return e[0]=a*c+p*-r+m*-u-y*-l,e[1]=m*c+p*-l+y*-r-a*-u,e[2]=y*c+p*-u+a*-l-m*-r,e[3]=t[3],e}function ua(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function ya(e){return\"vec4(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\")\"}function Rt(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function It(e,t){var i=e[0],s=e[1],n=e[2],o=e[3],r=t[0],l=t[1],u=t[2],c=t[3];return Math.abs(i-r)<=B*Math.max(1,Math.abs(i),Math.abs(r))&&Math.abs(s-l)<=B*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(n-u)<=B*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-c)<=B*Math.max(1,Math.abs(o),Math.abs(c))}var ca,ha,pa,_a,da,ga,Pa,fa,Ot=F(()=>{q();ca=ue,ha=ye,pa=ce,_a=he,da=pe,ga=st,Pa=nt,fa=function(){var e=me();return function(t,i,s,n,o,r){var l,u;for(i||(i=4),s||(s=0),n?u=Math.min(n*i+s,t.length):u=t.length,l=s;l<u;l+=i)e[0]=t[l],e[1]=t[l+1],e[2]=t[l+2],e[3]=t[l+3],o(e,e,r),t[l]=e[0],t[l+1]=e[1],t[l+2]=e[2],t[l+3]=e[3];return t}}()});var f={};U(f,{add:()=>Ia,calculateW:()=>Sa,clone:()=>Va,conjugate:()=>Ma,copy:()=>at,create:()=>Z,dot:()=>rt,equals:()=>wa,exactEquals:()=>ja,exp:()=>ge,fromEuler:()=>Aa,fromMat3:()=>fe,fromValues:()=>Da,getAngle:()=>ba,getAxisAngle:()=>Ca,identity:()=>Ta,invert:()=>Ba,len:()=>Ea,length:()=>lt,lerp:()=>Wa,ln:()=>Pe,mul:()=>Oa,multiply:()=>de,normalize:()=>jt,pow:()=>va,random:()=>xa,rotateX:()=>Wt,rotateY:()=>Et,rotateZ:()=>kt,rotationTo:()=>Fa,scale:()=>Te,set:()=>Ra,setAxes:()=>Na,setAxisAngle:()=>_e,slerp:()=>ot,sqlerp:()=>Ha,sqrLen:()=>ka,squaredLength:()=>mt,str:()=>La});function Z(){var e=new R(4);return R!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Ta(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function _e(e,t,i){i=i*.5;var s=Math.sin(i);return e[0]=s*t[0],e[1]=s*t[1],e[2]=s*t[2],e[3]=Math.cos(i),e}function Ca(e,t){var i=Math.acos(t[3])*2,s=Math.sin(i/2);return s>B?(e[0]=t[0]/s,e[1]=t[1]/s,e[2]=t[2]/s):(e[0]=1,e[1]=0,e[2]=0),i}function ba(e,t){var i=rt(e,t);return Math.acos(2*i*i-1)}function de(e,t,i){var s=t[0],n=t[1],o=t[2],r=t[3],l=i[0],u=i[1],c=i[2],a=i[3];return e[0]=s*a+r*l+n*c-o*u,e[1]=n*a+r*u+o*l-s*c,e[2]=o*a+r*c+s*u-n*l,e[3]=r*a-s*l-n*u-o*c,e}function Wt(e,t,i){i*=.5;var s=t[0],n=t[1],o=t[2],r=t[3],l=Math.sin(i),u=Math.cos(i);return e[0]=s*u+r*l,e[1]=n*u+o*l,e[2]=o*u-n*l,e[3]=r*u-s*l,e}function Et(e,t,i){i*=.5;var s=t[0],n=t[1],o=t[2],r=t[3],l=Math.sin(i),u=Math.cos(i);return e[0]=s*u-o*l,e[1]=n*u+r*l,e[2]=o*u+s*l,e[3]=r*u-n*l,e}function kt(e,t,i){i*=.5;var s=t[0],n=t[1],o=t[2],r=t[3],l=Math.sin(i),u=Math.cos(i);return e[0]=s*u+n*l,e[1]=n*u-s*l,e[2]=o*u+r*l,e[3]=r*u-o*l,e}function Sa(e,t){var i=t[0],s=t[1],n=t[2];return e[0]=i,e[1]=s,e[2]=n,e[3]=Math.sqrt(Math.abs(1-i*i-s*s-n*n)),e}function ge(e,t){var i=t[0],s=t[1],n=t[2],o=t[3],r=Math.sqrt(i*i+s*s+n*n),l=Math.exp(o),u=r>0?l*Math.sin(r)/r:0;return e[0]=i*u,e[1]=s*u,e[2]=n*u,e[3]=l*Math.cos(r),e}function Pe(e,t){var i=t[0],s=t[1],n=t[2],o=t[3],r=Math.sqrt(i*i+s*s+n*n),l=r>0?Math.atan2(r,o)/r:0;return e[0]=i*l,e[1]=s*l,e[2]=n*l,e[3]=.5*Math.log(i*i+s*s+n*n+o*o),e}function va(e,t,i){return Pe(e,t),Te(e,e,i),ge(e,e),e}function ot(e,t,i,s){var n=t[0],o=t[1],r=t[2],l=t[3],u=i[0],c=i[1],a=i[2],m=i[3],y,p,d,g,_;return p=n*u+o*c+r*a+l*m,p<0&&(p=-p,u=-u,c=-c,a=-a,m=-m),1-p>B?(y=Math.acos(p),d=Math.sin(y),g=Math.sin((1-s)*y)/d,_=Math.sin(s*y)/d):(g=1-s,_=s),e[0]=g*n+_*u,e[1]=g*o+_*c,e[2]=g*r+_*a,e[3]=g*l+_*m,e}function xa(e){var t=H(),i=H(),s=H(),n=Math.sqrt(1-t),o=Math.sqrt(t);return e[0]=n*Math.sin(2*Math.PI*i),e[1]=n*Math.cos(2*Math.PI*i),e[2]=o*Math.sin(2*Math.PI*s),e[3]=o*Math.cos(2*Math.PI*s),e}function Ba(e,t){var i=t[0],s=t[1],n=t[2],o=t[3],r=i*i+s*s+n*n+o*o,l=r?1/r:0;return e[0]=-i*l,e[1]=-s*l,e[2]=-n*l,e[3]=o*l,e}function Ma(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function fe(e,t){var i=t[0]+t[4]+t[8],s;if(i>0)s=Math.sqrt(i+1),e[3]=.5*s,s=.5/s,e[0]=(t[5]-t[7])*s,e[1]=(t[6]-t[2])*s,e[2]=(t[1]-t[3])*s;else{var n=0;t[4]>t[0]&&(n=1),t[8]>t[n*3+n]&&(n=2);var o=(n+1)%3,r=(n+2)%3;s=Math.sqrt(t[n*3+n]-t[o*3+o]-t[r*3+r]+1),e[n]=.5*s,s=.5/s,e[3]=(t[o*3+r]-t[r*3+o])*s,e[o]=(t[o*3+n]+t[n*3+o])*s,e[r]=(t[r*3+n]+t[n*3+r])*s}return e}function Aa(e,t,i,s){var n=.5*Math.PI/180;t*=n,i*=n,s*=n;var o=Math.sin(t),r=Math.cos(t),l=Math.sin(i),u=Math.cos(i),c=Math.sin(s),a=Math.cos(s);return e[0]=o*u*a-r*l*c,e[1]=r*l*a+o*u*c,e[2]=r*u*c-o*l*a,e[3]=r*u*a+o*l*c,e}function La(e){return\"quat(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\")\"}var Va,Da,at,Ra,Ia,Oa,Te,rt,Wa,lt,Ea,mt,ka,jt,ja,wa,Fa,Ha,Na,wt=F(()=>{q();dt();bt();Ot();Va=St,Da=vt,at=xt,Ra=Bt,Ia=Mt,Oa=de,Te=At,rt=Vt,Wa=Dt,lt=st,Ea=lt,mt=nt,ka=mt,jt=Lt,ja=Rt,wa=It,Fa=function(){var e=tt(),t=et(1,0,0),i=et(0,1,0);return function(s,n,o){var r=it(n,o);return r<-.999999?(Y(e,t,n),Ct(e)<1e-6&&Y(e,i,n),Tt(e,e),_e(s,e,Math.PI),s):r>.999999?(s[0]=0,s[1]=0,s[2]=0,s[3]=1,s):(Y(e,n,o),s[0]=e[0],s[1]=e[1],s[2]=e[2],s[3]=1+r,jt(s,s))}}(),Ha=function(){var e=Z(),t=Z();return function(i,s,n,o,r,l){return ot(e,s,r,l),ot(t,n,o,l),ot(i,e,t,2*l*(1-l)),i}}(),Na=function(){var e=_t();return function(t,i,s,n){return e[0]=s[0],e[3]=s[1],e[6]=s[2],e[1]=n[0],e[4]=n[1],e[7]=n[2],e[2]=-i[0],e[5]=-i[1],e[8]=-i[2],jt(t,fe(t,e))}}()});var L={};U(L,{add:()=>ur,clone:()=>Ua,conjugate:()=>_r,copy:()=>be,create:()=>qa,dot:()=>ve,equals:()=>Cr,exactEquals:()=>Tr,fromMat4:()=>Xa,fromRotation:()=>Ka,fromRotationTranslation:()=>Ce,fromRotationTranslationValues:()=>za,fromTranslation:()=>Qa,fromValues:()=>Ga,getDual:()=>$a,getReal:()=>Ja,getTranslation:()=>ir,identity:()=>Ya,invert:()=>pr,len:()=>dr,length:()=>xe,lerp:()=>hr,mul:()=>yr,multiply:()=>Se,normalize:()=>Pr,rotateAroundAxis:()=>mr,rotateByQuatAppend:()=>rr,rotateByQuatPrepend:()=>lr,rotateX:()=>nr,rotateY:()=>or,rotateZ:()=>ar,scale:()=>cr,set:()=>Za,setDual:()=>er,setReal:()=>tr,sqrLen:()=>gr,squaredLength:()=>ut,str:()=>fr,translate:()=>sr});function qa(){var e=new R(8);return R!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e}function Ua(e){var t=new R(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function Ga(e,t,i,s,n,o,r,l){var u=new R(8);return u[0]=e,u[1]=t,u[2]=i,u[3]=s,u[4]=n,u[5]=o,u[6]=r,u[7]=l,u}function za(e,t,i,s,n,o,r){var l=new R(8);l[0]=e,l[1]=t,l[2]=i,l[3]=s;var u=n*.5,c=o*.5,a=r*.5;return l[4]=u*s+c*i-a*t,l[5]=c*s+a*e-u*i,l[6]=a*s+u*t-c*e,l[7]=-u*e-c*t-a*i,l}function Ce(e,t,i){var s=i[0]*.5,n=i[1]*.5,o=i[2]*.5,r=t[0],l=t[1],u=t[2],c=t[3];return e[0]=r,e[1]=l,e[2]=u,e[3]=c,e[4]=s*c+n*u-o*l,e[5]=n*c+o*r-s*u,e[6]=o*c+s*l-n*r,e[7]=-s*r-n*l-o*u,e}function Qa(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0]*.5,e[5]=t[1]*.5,e[6]=t[2]*.5,e[7]=0,e}function Ka(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function Xa(e,t){var i=Z();Pt(i,t);var s=new R(3);return gt(s,t),Ce(e,i,s),e}function be(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function Ya(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function Za(e,t,i,s,n,o,r,l,u){return e[0]=t,e[1]=i,e[2]=s,e[3]=n,e[4]=o,e[5]=r,e[6]=l,e[7]=u,e}function $a(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e}function er(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e}function ir(e,t){var i=t[4],s=t[5],n=t[6],o=t[7],r=-t[0],l=-t[1],u=-t[2],c=t[3];return e[0]=(i*c+o*r+s*u-n*l)*2,e[1]=(s*c+o*l+n*r-i*u)*2,e[2]=(n*c+o*u+i*l-s*r)*2,e}function sr(e,t,i){var s=t[0],n=t[1],o=t[2],r=t[3],l=i[0]*.5,u=i[1]*.5,c=i[2]*.5,a=t[4],m=t[5],y=t[6],p=t[7];return e[0]=s,e[1]=n,e[2]=o,e[3]=r,e[4]=r*l+n*c-o*u+a,e[5]=r*u+o*l-s*c+m,e[6]=r*c+s*u-n*l+y,e[7]=-s*l-n*u-o*c+p,e}function nr(e,t,i){var s=-t[0],n=-t[1],o=-t[2],r=t[3],l=t[4],u=t[5],c=t[6],a=t[7],m=l*r+a*s+u*o-c*n,y=u*r+a*n+c*s-l*o,p=c*r+a*o+l*n-u*s,d=a*r-l*s-u*n-c*o;return Wt(e,t,i),s=e[0],n=e[1],o=e[2],r=e[3],e[4]=m*r+d*s+y*o-p*n,e[5]=y*r+d*n+p*s-m*o,e[6]=p*r+d*o+m*n-y*s,e[7]=d*r-m*s-y*n-p*o,e}function or(e,t,i){var s=-t[0],n=-t[1],o=-t[2],r=t[3],l=t[4],u=t[5],c=t[6],a=t[7],m=l*r+a*s+u*o-c*n,y=u*r+a*n+c*s-l*o,p=c*r+a*o+l*n-u*s,d=a*r-l*s-u*n-c*o;return Et(e,t,i),s=e[0],n=e[1],o=e[2],r=e[3],e[4]=m*r+d*s+y*o-p*n,e[5]=y*r+d*n+p*s-m*o,e[6]=p*r+d*o+m*n-y*s,e[7]=d*r-m*s-y*n-p*o,e}function ar(e,t,i){var s=-t[0],n=-t[1],o=-t[2],r=t[3],l=t[4],u=t[5],c=t[6],a=t[7],m=l*r+a*s+u*o-c*n,y=u*r+a*n+c*s-l*o,p=c*r+a*o+l*n-u*s,d=a*r-l*s-u*n-c*o;return kt(e,t,i),s=e[0],n=e[1],o=e[2],r=e[3],e[4]=m*r+d*s+y*o-p*n,e[5]=y*r+d*n+p*s-m*o,e[6]=p*r+d*o+m*n-y*s,e[7]=d*r-m*s-y*n-p*o,e}function rr(e,t,i){var s=i[0],n=i[1],o=i[2],r=i[3],l=t[0],u=t[1],c=t[2],a=t[3];return e[0]=l*r+a*s+u*o-c*n,e[1]=u*r+a*n+c*s-l*o,e[2]=c*r+a*o+l*n-u*s,e[3]=a*r-l*s-u*n-c*o,l=t[4],u=t[5],c=t[6],a=t[7],e[4]=l*r+a*s+u*o-c*n,e[5]=u*r+a*n+c*s-l*o,e[6]=c*r+a*o+l*n-u*s,e[7]=a*r-l*s-u*n-c*o,e}function lr(e,t,i){var s=t[0],n=t[1],o=t[2],r=t[3],l=i[0],u=i[1],c=i[2],a=i[3];return e[0]=s*a+r*l+n*c-o*u,e[1]=n*a+r*u+o*l-s*c,e[2]=o*a+r*c+s*u-n*l,e[3]=r*a-s*l-n*u-o*c,l=i[4],u=i[5],c=i[6],a=i[7],e[4]=s*a+r*l+n*c-o*u,e[5]=n*a+r*u+o*l-s*c,e[6]=o*a+r*c+s*u-n*l,e[7]=r*a-s*l-n*u-o*c,e}function mr(e,t,i,s){if(Math.abs(s)<B)return be(e,t);var n=Math.hypot(i[0],i[1],i[2]);s=s*.5;var o=Math.sin(s),r=o*i[0]/n,l=o*i[1]/n,u=o*i[2]/n,c=Math.cos(s),a=t[0],m=t[1],y=t[2],p=t[3];e[0]=a*c+p*r+m*u-y*l,e[1]=m*c+p*l+y*r-a*u,e[2]=y*c+p*u+a*l-m*r,e[3]=p*c-a*r-m*l-y*u;var d=t[4],g=t[5],_=t[6],P=t[7];return e[4]=d*c+P*r+g*u-_*l,e[5]=g*c+P*l+_*r-d*u,e[6]=_*c+P*u+d*l-g*r,e[7]=P*c-d*r-g*l-_*u,e}function ur(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e}function Se(e,t,i){var s=t[0],n=t[1],o=t[2],r=t[3],l=i[4],u=i[5],c=i[6],a=i[7],m=t[4],y=t[5],p=t[6],d=t[7],g=i[0],_=i[1],P=i[2],T=i[3];return e[0]=s*T+r*g+n*P-o*_,e[1]=n*T+r*_+o*g-s*P,e[2]=o*T+r*P+s*_-n*g,e[3]=r*T-s*g-n*_-o*P,e[4]=s*a+r*l+n*c-o*u+m*T+d*g+y*P-p*_,e[5]=n*a+r*u+o*l-s*c+y*T+d*_+p*g-m*P,e[6]=o*a+r*c+s*u-n*l+p*T+d*P+m*_-y*g,e[7]=r*a-s*l-n*u-o*c+d*T-m*g-y*_-p*P,e}function cr(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e}function hr(e,t,i,s){var n=1-s;return ve(t,i)<0&&(s=-s),e[0]=t[0]*n+i[0]*s,e[1]=t[1]*n+i[1]*s,e[2]=t[2]*n+i[2]*s,e[3]=t[3]*n+i[3]*s,e[4]=t[4]*n+i[4]*s,e[5]=t[5]*n+i[5]*s,e[6]=t[6]*n+i[6]*s,e[7]=t[7]*n+i[7]*s,e}function pr(e,t){var i=ut(t);return e[0]=-t[0]/i,e[1]=-t[1]/i,e[2]=-t[2]/i,e[3]=t[3]/i,e[4]=-t[4]/i,e[5]=-t[5]/i,e[6]=-t[6]/i,e[7]=t[7]/i,e}function _r(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e}function Pr(e,t){var i=ut(t);if(i>0){i=Math.sqrt(i);var s=t[0]/i,n=t[1]/i,o=t[2]/i,r=t[3]/i,l=t[4],u=t[5],c=t[6],a=t[7],m=s*l+n*u+o*c+r*a;e[0]=s,e[1]=n,e[2]=o,e[3]=r,e[4]=(l-s*m)/i,e[5]=(u-n*m)/i,e[6]=(c-o*m)/i,e[7]=(a-r*m)/i}return e}function fr(e){return\"quat2(\"+e[0]+\", \"+e[1]+\", \"+e[2]+\", \"+e[3]+\", \"+e[4]+\", \"+e[5]+\", \"+e[6]+\", \"+e[7]+\")\"}function Tr(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]}function Cr(e,t){var i=e[0],s=e[1],n=e[2],o=e[3],r=e[4],l=e[5],u=e[6],c=e[7],a=t[0],m=t[1],y=t[2],p=t[3],d=t[4],g=t[5],_=t[6],P=t[7];return Math.abs(i-a)<=B*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(s-m)<=B*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(n-y)<=B*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(o-p)<=B*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(r-d)<=B*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(l-g)<=B*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(u-_)<=B*Math.max(1,Math.abs(u),Math.abs(_))&&Math.abs(c-P)<=B*Math.max(1,Math.abs(c),Math.abs(P))}var Ja,tr,yr,ve,xe,dr,ut,gr,Be=F(()=>{q();wt();ft();Ja=at;tr=at;yr=Se;ve=rt;xe=lt,dr=xe,ut=mt,gr=ut});var Q={};U(Q,{add:()=>Br,angle:()=>zr,ceil:()=>Mr,clone:()=>br,copy:()=>vr,create:()=>Me,cross:()=>jr,dist:()=>el,distance:()=>De,div:()=>tl,divide:()=>Ve,dot:()=>kr,equals:()=>Yr,exactEquals:()=>Xr,floor:()=>Ar,forEach:()=>nl,fromValues:()=>Sr,inverse:()=>Wr,len:()=>Zr,length:()=>Ie,lerp:()=>wr,max:()=>Vr,min:()=>Lr,mul:()=>$r,multiply:()=>Le,negate:()=>Or,normalize:()=>Er,random:()=>Fr,rotate:()=>Gr,round:()=>Dr,scale:()=>Rr,scaleAndAdd:()=>Ir,set:()=>xr,sqrDist:()=>il,sqrLen:()=>sl,squaredDistance:()=>Re,squaredLength:()=>Oe,str:()=>Kr,sub:()=>Jr,subtract:()=>Ae,transformMat2:()=>Hr,transformMat2d:()=>Nr,transformMat3:()=>qr,transformMat4:()=>Ur,zero:()=>Qr});function Me(){var e=new R(2);return R!=Float32Array&&(e[0]=0,e[1]=0),e}function br(e){var t=new R(2);return t[0]=e[0],t[1]=e[1],t}function Sr(e,t){var i=new R(2);return i[0]=e,i[1]=t,i}function vr(e,t){return e[0]=t[0],e[1]=t[1],e}function xr(e,t,i){return e[0]=t,e[1]=i,e}function Br(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e}function Ae(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e}function Le(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e}function Ve(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e}function Mr(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function Ar(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function Lr(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e}function Vr(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e}function Dr(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function Rr(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e}function Ir(e,t,i,s){return e[0]=t[0]+i[0]*s,e[1]=t[1]+i[1]*s,e}function De(e,t){var i=t[0]-e[0],s=t[1]-e[1];return Math.hypot(i,s)}function Re(e,t){var i=t[0]-e[0],s=t[1]-e[1];return i*i+s*s}function Ie(e){var t=e[0],i=e[1];return Math.hypot(t,i)}function Oe(e){var t=e[0],i=e[1];return t*t+i*i}function Or(e,t){return e[0]=-t[0],e[1]=-t[1],e}function Wr(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function Er(e,t){var i=t[0],s=t[1],n=i*i+s*s;return n>0&&(n=1/Math.sqrt(n)),e[0]=t[0]*n,e[1]=t[1]*n,e}function kr(e,t){return e[0]*t[0]+e[1]*t[1]}function jr(e,t,i){var s=t[0]*i[1]-t[1]*i[0];return e[0]=e[1]=0,e[2]=s,e}function wr(e,t,i,s){var n=t[0],o=t[1];return e[0]=n+s*(i[0]-n),e[1]=o+s*(i[1]-o),e}function Fr(e,t){t=t||1;var i=H()*2*Math.PI;return e[0]=Math.cos(i)*t,e[1]=Math.sin(i)*t,e}function Hr(e,t,i){var s=t[0],n=t[1];return e[0]=i[0]*s+i[2]*n,e[1]=i[1]*s+i[3]*n,e}function Nr(e,t,i){var s=t[0],n=t[1];return e[0]=i[0]*s+i[2]*n+i[4],e[1]=i[1]*s+i[3]*n+i[5],e}function qr(e,t,i){var s=t[0],n=t[1];return e[0]=i[0]*s+i[3]*n+i[6],e[1]=i[1]*s+i[4]*n+i[7],e}function Ur(e,t,i){var s=t[0],n=t[1];return e[0]=i[0]*s+i[4]*n+i[12],e[1]=i[1]*s+i[5]*n+i[13],e}function Gr(e,t,i,s){var n=t[0]-i[0],o=t[1]-i[1],r=Math.sin(s),l=Math.cos(s);return e[0]=n*l-o*r+i[0],e[1]=n*r+o*l+i[1],e}function zr(e,t){var i=e[0],s=e[1],n=t[0],o=t[1],r=Math.sqrt(i*i+s*s)*Math.sqrt(n*n+o*o),l=r&&(i*n+s*o)/r;return Math.acos(Math.min(Math.max(l,-1),1))}function Qr(e){return e[0]=0,e[1]=0,e}function Kr(e){return\"vec2(\"+e[0]+\", \"+e[1]+\")\"}function Xr(e,t){return e[0]===t[0]&&e[1]===t[1]}function Yr(e,t){var i=e[0],s=e[1],n=t[0],o=t[1];return Math.abs(i-n)<=B*Math.max(1,Math.abs(i),Math.abs(n))&&Math.abs(s-o)<=B*Math.max(1,Math.abs(s),Math.abs(o))}var Zr,Jr,$r,tl,el,il,sl,nl,We=F(()=>{q();Zr=Ie,Jr=Ae,$r=Le,tl=Ve,el=De,il=Re,sl=Oe,nl=function(){var e=Me();return function(t,i,s,n,o,r){var l,u;for(i||(i=2),s||(s=0),n?u=Math.min(n*i+s,t.length):u=t.length,l=s;l<u;l+=i)e[0]=t[l],e[1]=t[l+1],o(e,e,r),t[l]=e[0],t[l+1]=e[1];return t}}()});var J=F(()=>{q();dt();ft();wt();Be();We();bt();Ot()});var ol={};var Ee=F(()=>{J();_WL&&_WL._componentTypes&&_WL._componentTypes[_WL._componentTypeIndices.cursor]?(_WL._componentTypes[_WL._componentTypeIndices.cursor].proto.init=function(){this.session=null,this.collisionMask=1<<this.collisionGroup,this.maxDistance=100,this.doubleClickTimer=0,this.tripleClickTimer=0,this.multipleClickObject=null,this.multipleClickDelay=.3,this.visible=!1;let e=this.onDestroy.bind(this);WL.onSceneLoaded.push(e),this.onDestroyCallbacks=[()=>{let t=WL.onSceneLoaded.indexOf(e);t>=0&&WL.onSceneLoaded.splice(t,1)}]},_WL._componentTypes[_WL._componentTypeIndices.cursor].proto.start=function(){if(this.handedness==0){let t=this.object.getComponent(\"input\");t?(this.handedness=t.handedness,this.input=t):console.warn(\"cursor component on object\",this.object.name,'was configured with handedness \"input component\", but object has no input component.')}else this.handedness=[\"left\",\"right\"][this.handedness-1];if(this.globalTarget=this.object.addComponent(\"cursor-target\"),this.origin=new Float32Array(3),this.cursorObjScale=new Float32Array(3),this.direction=[0,0,0],this.tempQuat=new Float32Array(4),this.viewComponent=this.object.getComponent(\"view\"),this.viewComponent!=null){let t=this.onClick.bind(this);WL.canvas.addEventListener(\"click\",t);let i=this.onPointerMove.bind(this);WL.canvas.addEventListener(\"pointermove\",i);let s=this.onPointerDown.bind(this);WL.canvas.addEventListener(\"pointerdown\",s);let n=this.onPointerUp.bind(this);WL.canvas.addEventListener(\"pointerup\",n),this.projectionMatrix=new Float32Array(16),b.invert(this.projectionMatrix,this.viewComponent.projectionMatrix);let o=this.onViewportResize.bind(this);window.addEventListener(\"resize\",o),this.onDestroyCallbacks.push(()=>{WL.canvas.removeEventListener(\"click\",t),WL.canvas.removeEventListener(\"pointermove\",i),WL.canvas.removeEventListener(\"pointerdown\",s),WL.canvas.removeEventListener(\"pointerup\",n),window.removeEventListener(\"resize\",o)})}this.isHovering=!1,this.visible=!0,this.isDown=!1,this.lastIsDown=!1,this.isUpWithNoDown=!1,this.isRealDown=!1,this.cursorPos=new Float32Array(3),this.hoveringObject=null;let e=this.setupVREvents.bind(this);WL.onXRSessionStart.push(e),this.onDestroyCallbacks.push(()=>{let t=WL.onXRSessionStart.indexOf(e);t>=0&&WL.onXRSessionStart.splice(t,1)}),this.showRay=!0,this.cursorRayObject&&(this.cursorRayObject.pp_setActive(!0),this.showRay=!1,this.cursorRayOrigin=new Float32Array(3),this.cursorRayScale=new Float32Array(3),this.cursorRayScale.set(this.cursorRayObject.scalingLocal),this._setCursorRayTransform(null)),this._setCursorVisibility(!1)},_WL._componentTypes[_WL._componentTypeIndices.cursor].proto.onViewportResize=function(){!this.viewComponent||b.invert(this.projectionMatrix,this.viewComponent.projectionMatrix)},_WL._componentTypes[_WL._componentTypeIndices.cursor].proto._setCursorRayTransform=function(e){if(!!this.cursorRayObject&&this.cursorRayScalingAxis!=4&&(this.cursorRayObject.resetScaling(),e!=null)){this.cursorRayObject.getTranslationWorld(this.cursorRayOrigin);let t=h.dist(this.cursorRayOrigin,e);this.cursorRayScale[this.cursorRayScalingAxis]=t,this.cursorRayObject.scale(this.cursorRayScale)}},_WL._componentTypes[_WL._componentTypeIndices.cursor].proto._setCursorVisibility=function(e){this.visible!=e&&(this.visible=e,this.cursorObject&&(e?this.cursorObject.pp_setActive(!0):this.cursorObject.pp_setActive(!1)))},_WL._componentTypes[_WL._componentTypeIndices.cursor].proto.update=function(e){this.doubleClickTimer>0&&(this.doubleClickTimer-=e),this.tripleClickTimer>0&&(this.tripleClickTimer-=e),this.doUpdate(!1),this.isUpWithNoDown=!1},_WL._componentTypes[_WL._componentTypeIndices.cursor].proto.doUpdate=function(e){if(this.session){if(this.arTouchDown&&this.input&&WL.xrSession.inputSources[0].handedness===\"none\"&&WL.xrSession.inputSources[0].gamepad){let i=WL.xrSession.inputSources[0].gamepad.axes;this.direction=[i[0],-i[1],-1],this.updateDirection()}else this.object.getTranslationWorld(this.origin),this.object.getForward(this.direction);let t=this.rayHit=this.rayCastMode==0?WL.scene.rayCast(this.origin,this.direction,this.collisionMask):WL.physics.rayCast(this.origin,this.direction,this.collisionMask,this.maxDistance);t.hitCount>0?this.cursorPos.set(t.locations[0]):this.cursorPos.fill(0),this.hoverBehaviour(t,e)}this.cursorObject&&(this.hoveringObject&&(this.cursorPos[0]!=0||this.cursorPos[1]!=0||this.cursorPos[2]!=0)?(this._setCursorVisibility(!0),this.cursorObject.setTranslationWorld(this.cursorPos),this._setCursorRayTransform(this.cursorPos)):(this.visible&&this.cursorRayObject&&this._setCursorRayTransform(null),this._setCursorVisibility(!1)),this.cursorRayObject&&this.showRay&&(this.cursorRayObject.pp_setActive(!0),this.showRay=!1))},_WL._componentTypes[_WL._componentTypeIndices.cursor].proto.hoverBehaviour=function(e,t){if(e.hitCount>0){if(!this.hoveringObject||!this.hoveringObject.equals(e.objects[0])){if(this.hoveringObject){let n=this.hoveringObject.getComponent(\"cursor-target\");n&&n.onUnhover(this.hoveringObject,this),this.globalTarget.onUnhover(this.hoveringObject,this)}this.isDown=!1,this.lastIsDown=!1,this.hoveringObject=e.objects[0],this.styleCursor&&(WL.canvas.style.cursor=\"pointer\");let s=this.hoveringObject.getComponent(\"cursor-target\");s&&(this.hoveringObjectTarget=s,s.onHover(this.hoveringObject,this)),this.globalTarget.onHover(this.hoveringObject,this),this.isRealDown&&(s&&s.onDownOnHover(this.hoveringObject,this),this.globalTarget.onDownOnHover(this.hoveringObject,this))}this.hoveringObjectTarget&&this.hoveringObjectTarget.onMove(this.hoveringObject,this);let i=this.hoveringObject.getComponent(\"cursor-target\");this.isDown!==this.lastIsDown&&this.isDown&&(i&&i.onDown(this.hoveringObject,this),this.globalTarget.onDown(this.hoveringObject,this)),this.isDown!==this.lastIsDown&&!this.isDown&&(this.tripleClickTimer>0&&this.multipleClickObject&&this.multipleClickObject.equals(this.hoveringObject)?(i&&i.onTripleClick(this.hoveringObject,this),this.globalTarget.onTripleClick(this.hoveringObject,this),this.tripleClickTimer=0):this.doubleClickTimer>0&&this.multipleClickObject&&this.multipleClickObject.equals(this.hoveringObject)?(i&&i.onDoubleClick(this.hoveringObject,this),this.globalTarget.onDoubleClick(this.hoveringObject,this),this.tripleClickTimer=this.multipleClickDelay,this.doubleClickTimer=0):(i&&i.onClick(this.hoveringObject,this),this.globalTarget.onClick(this.hoveringObject,this),this.tripleClickTimer=0,this.doubleClickTimer=this.multipleClickDelay,this.multipleClickObject=this.hoveringObject)),this.isDown!==this.lastIsDown&&!this.isDown?(i&&i.onUp(this.hoveringObject,this),this.globalTarget.onUp(this.hoveringObject,this)):this.isUpWithNoDown&&(i&&i.onUpWithNoDown(this.hoveringObject,this),this.globalTarget.onUpWithNoDown(this.hoveringObject,this))}else if(this.hoveringObject&&e.hitCount==0){let i=this.hoveringObject.getComponent(\"cursor-target\");i&&i.onUnhover(this.hoveringObject,this),this.globalTarget.onUnhover(this.hoveringObject,this),this.hoveringObject=null,this.hoveringObjectTarget=null,this.styleCursor&&(WL.canvas.style.cursor=\"default\")}this.hoveringObject?this.lastIsDown=this.isDown:(this.isDown=!1,this.lastIsDown=!1)},_WL._componentTypes[_WL._componentTypeIndices.cursor].proto.setupVREvents=function(e){this.session=e;let t=function(o){this.session=null}.bind(this);e.addEventListener(\"end\",t);let i=this.onSelect.bind(this);e.addEventListener(\"select\",i);let s=this.onSelectStart.bind(this);e.addEventListener(\"selectstart\",s);let n=this.onSelectEnd.bind(this);e.addEventListener(\"selectend\",n),this.onDestroyCallbacks.push(()=>{!this.session||(e.removeEventListener(\"end\",t),e.removeEventListener(\"select\",i),e.removeEventListener(\"selectstart\",s),e.removeEventListener(\"selectend\",n))}),this.onViewportResize()},_WL._componentTypes[_WL._componentTypeIndices.cursor].proto.onSelect=function(e){},_WL._componentTypes[_WL._componentTypeIndices.cursor].proto.onSelectStart=function(e){this.active&&(this.arTouchDown=!0,e.inputSource.handedness==this.handedness&&(this.isDown=!0)),this.isRealDown=!0},_WL._componentTypes[_WL._componentTypeIndices.cursor].proto.onSelectEnd=function(e){this.active&&(this.arTouchDown=!1,e.inputSource.handedness==this.handedness&&(this.isDown||(this.isUpWithNoDown=!0),this.isDown=!1)),this.isRealDown=!1},_WL._componentTypes[_WL._componentTypeIndices.cursor].proto.onPointerMove=function(e){if(!e.isPrimary)return;let t=e.target.getBoundingClientRect(),i=this.updateMousePos(e.clientX,e.clientY,t.width,t.height);this.hoverBehaviour(i,!1)},_WL._componentTypes[_WL._componentTypeIndices.cursor].proto.onClick=function(e){},_WL._componentTypes[_WL._componentTypeIndices.cursor].proto.onPointerDown=function(e){if(this.active){if(!e.isPrimary||e.button!==0)return;let t=e.target.getBoundingClientRect(),i=this.updateMousePos(e.clientX,e.clientY,t.width,t.height);this.hoverBehaviour(i,!1),this.isDown=!0,this.isRealDown=!0,this.hoverBehaviour(i,!1)}else this.isRealDown=!0},_WL._componentTypes[_WL._componentTypeIndices.cursor].proto.onPointerUp=function(e){if(this.active){if(!e.isPrimary||e.button!==0)return;let t=e.target.getBoundingClientRect(),i=this.updateMousePos(e.clientX,e.clientY,t.width,t.height);this.hoverBehaviour(i,!1),this.isDown||(this.isUpWithNoDown=!0),this.isDown=!1,this.isRealDown=!1,this.hoverBehaviour(i,!1)}else this.isRealDown=!1},_WL._componentTypes[_WL._componentTypeIndices.cursor].proto.updateMousePos=function(e,t,i,s){let n=e/i,o=t/s;return this.direction=[n*2-1,-o*2+1,-1],this.updateDirection()},_WL._componentTypes[_WL._componentTypeIndices.cursor].proto.updateDirection=function(){this.object.getTranslationWorld(this.origin),h.transformMat4(this.direction,this.direction,this.projectionMatrix),h.normalize(this.direction,this.direction),h.transformQuat(this.direction,this.direction,this.object.transformWorld);let e=this.rayHit=this.rayCastMode==0?WL.scene.rayCast(this.origin,this.direction,this.collisionMask):WL.physics.rayCast(this.origin,this.direction,this.collisionMask,this.maxDistance);return e.hitCount>0?this.cursorPos.set(e.locations[0]):this.cursorPos.fill(0),e},_WL._componentTypes[_WL._componentTypeIndices.cursor].proto.onDeactivate=function(){if(this.hoveringObject){let e=this.hoveringObject.getComponent(\"cursor-target\");e&&e.onUnhover(this.hoveringObject,this),this.globalTarget.onUnhover(this.hoveringObject,this)}this.hoveringObject=null,this.hoveringObjectTarget=null,this.styleCursor&&(WL.canvas.style.cursor=\"default\"),this.isDown=!1,this.lastIsDown=!1,this.isUpWithNoDown=!1,this._setCursorVisibility(!1),this.cursorRayObject&&this.cursorRayObject.pp_setActive(!1)},_WL._componentTypes[_WL._componentTypeIndices.cursor].proto.onActivate=function(){this.showRay=!0,this.isDown=!1,this.lastIsDown=!1,this.isUpWithNoDown=!1},_WL._componentTypes[_WL._componentTypeIndices.cursor].proto.onDestroy=function(){for(let e of this.onDestroyCallbacks)e()}):console.error(`Wonderland Engine \"cursor\" component not found.\n Add the component to your project to avoid any issue with the PP bundle.`)});var ke=C(()=>{_WL&&_WL._componentTypes&&_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]]?(_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.init=function(){this.hoverFunctions=[],this.unHoverFunctions=[],this.clickFunctions=[],this.doubleClickFunctions=[],this.tripleClickFunctions=[],this.moveFunctions=[],this.downFunctions=[],this.upFunctions=[],this.downOnHoverFunctions=[],this.upWithNoDownFunctions=[],this.isSurface=!1},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.onHover=function(e,t){for(let i of this.hoverFunctions)i(e,t)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.onUnhover=function(e,t){for(let i of this.unHoverFunctions)i(e,t)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.onClick=function(e,t){for(let i of this.clickFunctions)i(e,t)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.onMove=function(e,t){for(let i of this.moveFunctions)i(e,t)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.onDown=function(e,t){for(let i of this.downFunctions)i(e,t)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.onUp=function(e,t){for(let i of this.upFunctions)i(e,t)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.addHoverFunction=function(e){this._validateCallback(e),this.hoverFunctions.push(e)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.removeHoverFunction=function(e){this._validateCallback(e),this._removeItemOnce(this.hoverFunctions,e)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.addUnHoverFunction=function(e){this._validateCallback(e),this.unHoverFunctions.push(e)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.removeUnHoverFunction=function(e){this._validateCallback(e),this._removeItemOnce(this.unHoverFunctions,e)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.addClickFunction=function(e){this._validateCallback(e),this.clickFunctions.push(e)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.removeClickFunction=function(e){this._validateCallback(e),this._removeItemOnce(this.clickFunctions,e)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.addMoveFunction=function(e){this._validateCallback(e),this.moveFunctions.push(e)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.removeMoveFunction=function(e){this._validateCallback(e),this._removeItemOnce(this.moveFunctions,e)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.addDownFunction=function(e){this._validateCallback(e),this.downFunctions.push(e)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.removeDownFunction=function(e){this._validateCallback(e),this._removeItemOnce(this.downFunctions,e)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.addUpFunction=function(e){this._validateCallback(e),this.upFunctions.push(e)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.removeUpFunction=function(e){this._validateCallback(e),this._removeItemOnce(this.upFunctions,e)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto._removeItemOnce=function(e,t){var i=e.indexOf(t);return i>-1&&e.splice(i,1),e},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto._validateCallback=function(e){if(typeof e!=\"function\")throw new TypeError(this.object.name+\".cursor-target: Argument needs to be a function\")},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.onDoubleClick=function(e,t){for(let i of this.doubleClickFunctions)i(e,t)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.addDoubleClickFunction=function(e){this._validateCallback(e),this.doubleClickFunctions.push(e)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.removeDoubleClickFunction=function(e){this._validateCallback(e),this._removeItemOnce(this.doubleClickFunctions,e)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.onTripleClick=function(e,t){for(let i of this.tripleClickFunctions)i(e,t)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.addTripleClickFunction=function(e){this._validateCallback(e),this.tripleClickFunctions.push(e)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.removeTripleClickFunction=function(e){this._validateCallback(e),this._removeItemOnce(this.tripleClickFunctions,e)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.onDownOnHover=function(e,t){for(let i of this.downOnHoverFunctions)i(e,t)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.addDownOnHoverFunction=function(e){this._validateCallback(e),this.downOnHoverFunctions.push(e)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.removeDownOnHoverFunction=function(e){this._validateCallback(e),this._removeItemOnce(this.downOnHoverFunctions,e)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.onUpWithNoDown=function(e,t){for(let i of this.upWithNoDownFunctions)i(e,t)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.addUpWithNoDownFunction=function(e){this._validateCallback(e),this.upWithNoDownFunctions.push(e)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.removeUpWithNoDownFunction=function(e){this._validateCallback(e),this._removeItemOnce(this.upWithNoDownFunctions,e)},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.start=function(){},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.update=function(e){},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.onActivate=function(){},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.onDeactivate=function(){},_WL._componentTypes[_WL._componentTypeIndices[\"cursor-target\"]].proto.onDestroy=function(){}):console.error(`Wonderland Engine \"cursor-target\" component not found.\n Add the component to your project to avoid any issue with the PP bundle.`)});var je=C(()=>{_WL&&_WL._componentTypes&&_WL._componentTypes[_WL._componentTypeIndices[\"mouse-look\"]]?_WL._componentTypes[_WL._componentTypeIndices[\"mouse-look\"]].proto.init=function(){document.addEventListener(\"mousemove\",function(e){if(this.active&&(this.mouseDown||!this.requireMouseDown)){let t=this.object.pp_getBackward(),i=this.object.pp_getUp(),s=[0,1,0];this.object.pp_getParent()!=null&&(s=this.object.pp_getParent().pp_getUp());let n=t.vec3_cross(s),o=1;t.vec3_angle(s)<o?n=i.vec3_negate().vec3_cross(s):t.vec3_angle(s.vec3_negate())<o?n=i.vec3_cross(s):i.vec3_isConcordant(s)||n.vec3_negate(n),n.vec3_normalize(n),this.rotationX=-this.sensitity*e.movementX,this.rotationY=-this.sensitity*e.movementY,this.object.pp_rotateAxis(this.rotationY,n);let r=90-.001,l=this.object.pp_getUp(),u=Math.pp_angleClamp(l.vec3_angleSigned(s,n));if(Math.abs(u)>r){let c=(Math.abs(u)-r)*Math.pp_sign(u);this.object.pp_rotateAxis(c,n)}this.object.pp_rotateAxis(this.rotationX,s)}}.bind(this)),this.requireMouseDown&&(this.mouseButtonIndex==2&&WL.canvas.addEventListener(\"contextmenu\",function(e){e.preventDefault()},!1),WL.canvas.addEventListener(\"mousedown\",function(e){if(e.button==this.mouseButtonIndex&&(this.mouseDown=!0,document.body.style.cursor=\"grabbing\",e.button==1))return e.preventDefault(),!1}.bind(this)),WL.canvas.addEventListener(\"mouseup\",function(e){e.button==this.mouseButtonIndex&&(this.mouseDown=!1,document.body.style.cursor=\"initial\")}.bind(this)),WL.canvas.addEventListener(\"mouseleave\",function(e){this.mouseDown=!1,document.body.style.cursor=\"initial\"}.bind(this)),WL.canvas.addEventListener(\"touchstart\",function(e){this.mouseDown=!0,document.body.style.cursor=\"grabbing\"}.bind(this)),WL.canvas.addEventListener(\"touchend\",function(e){this.mouseDown=!1,document.body.style.cursor=\"initial\"}.bind(this)))}:console.error(`Wonderland Engine \"mouse-look\" component not found.\n Add the component to your project to avoid any issue with the PP bundle.`)});var al={};var we=F(()=>{J();Array.prototype.pp_first=function(){return this.length>0?this[0]:void 0};Array.prototype.pp_last=function(){return this.length>0?this[this.length-1]:void 0};Array.prototype.pp_has=function(e){return this.pp_find(e)!=null};Array.prototype.pp_hasEqual=function(e,t=null){return this.pp_findEqual(e,t)!=null};Array.prototype.pp_find=function(e){let t,i=this.findIndex(e);return i>=0&&(t=this[i]),t};Array.prototype.pp_findIndex=function(e){return this.findIndex(e)};Array.prototype.pp_findAll=function(e){return this.filter(e)};Array.prototype.pp_findAllIndexes=function(e){let t=[];for(let i=0;i<this.length;i++){let s=this[i];e(s)&&t.push(i)}return t};Array.prototype.pp_findEqual=function(e,t=null){return t==null?this.pp_find(i=>i===e):this.pp_find(i=>t(i,e))};Array.prototype.pp_findAllEqual=function(e,t=null){return t==null?this.pp_findAll(i=>i===e):this.pp_findAll(i=>t(i,e))};Array.prototype.pp_findIndexEqual=function(e,t=null){return t==null?this.findIndex(i=>i===e):this.findIndex(i=>t(i,e))};Array.prototype.pp_findAllIndexesEqual=function(e,t=null){return t==null?this.pp_findAllIndexes(i=>i===e):this.pp_findAllIndexes(i=>t(i,e))};Array.prototype.pp_removeIndex=function(e){let t;if(e>=0&&e<this.length){let i=this.splice(e,1);i.length==1&&(t=i[0])}return t};Array.prototype.pp_remove=function(e){let t,i=this.findIndex(e);return i>=0&&(t=this.pp_removeIndex(i)),t};Array.prototype.pp_removeAll=function(e){let t=[],i;do i=this.pp_remove(e),i!==void 0&&t.push(i);while(i!==void 0);return t};Array.prototype.pp_removeEqual=function(e,t=null){return t==null?this.pp_remove(i=>i===elementToFind):this.pp_remove(i=>t(i,elementToFind))};Array.prototype.pp_removeAllEqual=function(e,t=null){return t==null?this.pp_removeAll(i=>i===elementToFind):this.pp_removeAll(i=>t(i,elementToFind))};Array.prototype.pp_pushUnique=function(e,t=null){let i=this.length;return this.pp_hasEqual(e,t)||(i=this.push(e)),i};Array.prototype.pp_unshiftUnique=function(e,t=null){let i=this.length;return this.pp_hasEqual(e,t)||(i=this.unshift(e)),i};Array.prototype.pp_copy=function(e,t=null){for(;this.length>e.length;)this.pop();for(let i=0;i<e.length;i++)t==null?this[i]=e[i]:this[i]=t(this[i],e[i]);return this};Array.prototype.pp_clone=function(e=null){if(e==null)return this.slice(0);let t=null;switch(this.constructor.name){case\"Array\":t=new Array(this.length);break;case\"Uint32Array\":t=new Uint32Array(this.length);break;case\"Int32Array\":t=new Int32Array(this.length);break;case\"Float32Array\":t=new Float32Array(this.length);break;case\"Float64Array\":t=new Float64Array(this.length);break;default:t=new Array(this.length),console.error(\"Cloned array type not supported!\");break}for(let i=0;i<this.length;i++)t[i]=e(this[i]);return t};Array.prototype.pp_equals=function(e,t=null){let i=!0;if(e!=null&&this.length==e.length){for(let s=0;s<this.length;s++)if(t!=null&&!t(this[s],e[s])||t==null&&this[s]!=e[s]){i=!1;break}}else i=!1;return i};Array.prototype.pp_clear=function(){return this.length=0,this};Array.prototype.vec_toString=function(e=4){return this._vec_buildConsoleMessage(e)};Array.prototype.vec_log=function(e=4){let t=this._vec_buildConsoleMessage(e);console.log(t)};Array.prototype.vec_error=function(e=4){let t=this._vec_buildConsoleMessage(e);console.error(t)};Array.prototype.vec_warn=function(e=4){let t=this._vec_buildConsoleMessage(e);console.warn(t)};Array.prototype.vec_scale=function(e,t=null){t=this._vec_prepareOut(t);for(let i=0;i<t.length;i++)t[i]=t[i]*e;return t};Array.prototype.vec_round=function(e=null){e=this._vec_prepareOut(e);for(let t=0;t<e.length;t++)e[t]=Math.round(e[t]);return e};Array.prototype.vec_floor=function(e=null){e=this._vec_prepareOut(e);for(let t=0;t<e.length;t++)e[t]=Math.floor(e[t]);return e};Array.prototype.vec_ceil=function(e=null){e=this._vec_prepareOut(e);for(let t=0;t<e.length;t++)e[t]=Math.ceil(e[t]);return e};Array.prototype.vec_clamp=function(e,t,i=null){i=this._vec_prepareOut(i);let s=e??-Number.MAX_VALUE,n=t??Number.MAX_VALUE,o=Math.min(s,n),r=Math.max(s,n);for(let l=0;l<i.length;l++)i[l]=Math.min(Math.max(i[l],o),r);return i};Array.prototype.vec_equals=function(e,t=0){let i=this.length==e.length;for(let s=0;s<this.length&&i;s++)i=i&&Math.abs(this[s]-e[s])<=t;return i};Array.prototype.vec2_set=function(e,t=null){return t==null?Q.set(this,e,e):Q.set(this,e,t),this};Array.prototype.vec2_length=function(){return Q.length(this)};Array.prototype.vec2_isZero=function(){return this.vec2_length()==0};Array.prototype.vec3_normalize=function(e=h.create()){return h.normalize(e,this),e};Array.prototype.vec3_copy=function(e){return h.copy(this,e),this};Array.prototype.vec3_clone=function(e=h.create()){return h.copy(e,this),e};Array.prototype.vec3_set=function(e,t=null,i=null){return t==null?h.set(this,e,e,e):h.set(this,e,t,i),this};Array.prototype.vec3_zero=function(){return h.zero(this),this};Array.prototype.vec3_angle=function(e){return this.vec3_angleDegrees(e)};Array.prototype.vec3_angleDegrees=function(e){return this.vec3_angleRadians(e)*(180/Math.PI)};Array.prototype.vec3_angleRadians=function(e){return this.vec3_isZero()||e.vec3_isZero()?0:h.angle(this,e)};Array.prototype.vec3_length=function(){return h.length(this)};Array.prototype.vec3_distance=function(e){return h.dist(this,e)};Array.prototype.vec3_add=function(e,t=h.create()){return h.add(t,this,e),t};Array.prototype.vec3_sub=function(e,t=h.create()){return h.sub(t,this,e),t};Array.prototype.vec3_mul=function(e,t=h.create()){return h.mul(t,this,e),t};Array.prototype.vec3_div=function(e,t=h.create()){return h.div(t,this,e),t};Array.prototype.vec3_scale=function(e,t=h.create()){return h.scale(t,this,e),t};Array.prototype.vec3_negate=function(e=h.create()){return h.negate(e,this),e};Array.prototype.vec3_cross=function(e,t=h.create()){return h.cross(t,this,e),t};Array.prototype.vec3_transformQuat=function(e,t=h.create()){return h.transformQuat(t,this,e),t};Array.prototype.vec3_transformMat4=function(e,t=h.create()){return h.transformMat4(t,this,e),t};Array.prototype.vec3_lengthSigned=function(e){let t=h.length(this);return this.vec3_isConcordant(e)||(t*=-1),t};Array.prototype.vec3_angleSigned=function(e,t){return this.vec3_angleSignedDegrees(e,t)};Array.prototype.vec3_angleSignedDegrees=function(e,t){return this.vec3_angleSignedRadians(e,t)*(180/Math.PI)};Array.prototype.vec3_angleSignedRadians=function(){let e=h.create();return function(i,s){this.vec3_cross(i,e);let n=this.vec3_angleRadians(i);return e.vec3_isConcordant(s)||(n=-n),n}}();Array.prototype.vec3_toRadians=function(e=h.create()){return h.set(e,w.toRadian(this[0]),w.toRadian(this[1]),w.toRadian(this[2])),e};Array.prototype.vec3_toDegrees=function(e=h.create()){return h.set(e,this[0]*(180/Math.PI),this[1]*(180/Math.PI),this[2]*(180/Math.PI)),e};Array.prototype.vec3_toQuat=function(e){return this.vec3_degreesToQuat(e)};Array.prototype.vec3_radiansToQuat=function(e=f.create()){return e.quat_fromRadians(this),e};Array.prototype.vec3_degreesToQuat=function(e=f.create()){return e.quat_fromDegrees(this),e};Array.prototype.vec3_isNormalized=function(){return Math.abs(h.length(this)-1)<this._pp_epsilon};Array.prototype.vec3_isZero=function(e=0){return this.vec3_length()<=e};Array.prototype.vec3_componentAlongAxis=function(e,t=h.create()){let i=h.angle(this,e),s=Math.cos(i)*h.length(this);return h.copy(t,e),h.scale(t,t,s),t};Array.prototype.vec3_valueAlongAxis=function(){let e=h.create();return function(i){this.vec3_componentAlongAxis(i,e);let s=e.vec3_length();return e.vec3_isConcordant(i)||(s=-s),s}}();Array.prototype.vec3_removeComponentAlongAxis=function(){let e=h.create();return function(i,s=h.create()){return this.vec3_componentAlongAxis(i,e),h.sub(s,this,e),s}}();Array.prototype.vec3_copyComponentAlongAxis=function(){let e=h.create();return function(i,s,n=h.create()){return this.vec3_removeComponentAlongAxis(s,n),i.vec3_componentAlongAxis(s,e),n.vec3_add(e,n),n}}();Array.prototype.vec3_isConcordant=function(e){return h.angle(this,e)<=Math.PI/2};Array.prototype.vec3_isFurtherAlongDirection=function(){let e=h.create();return function(i,s){let n=this.vec3_componentAlongAxis(s,e).vec3_length(),o=this.vec3_isConcordant(s)?n:-n,r=i.vec3_componentAlongAxis(s,e).vec3_length(),l=i.vec3_isConcordant(s)?r:-r;return o>l}}();Array.prototype.vec3_isToTheRight=function(e,t){return this.vec3_signTo(e,t)>=0};Array.prototype.vec3_signTo=function(){let e=h.create(),t=h.create();return function(s,n,o=1){this.vec3_removeComponentAlongAxis(n,e),s.vec3_removeComponentAlongAxis(n,t);let r=this.vec3_angleSigned(s,n);return r>0?1:r==0?o:-1}}();Array.prototype.vec3_projectOnAxis=function(e,t=h.create()){return this.vec3_componentAlongAxis(e,t),t};Array.prototype.vec3_projectOnAxisAlongAxis=function(){let e=h.create(),t=h.create(),i=h.create();return function(n,o,r=h.create()){if(this.vec3_isOnAxis(n)||o.vec3_isOnAxis(n))r.vec3_copy(this);else if(o.vec3_cross(n,e),e.vec3_normalize(e),this.vec3_removeComponentAlongAxis(e,r),!r.vec3_isOnAxis(n)){r.vec3_projectOnAxis(n,t),t.vec3_sub(r,t),t.vec3_isConcordant(o)?i.vec3_copy(o):o.vec3_negate(i);let l=i.vec3_angleRadians(t),u=t.vec3_length()/Math.cos(l);i.vec3_normalize(i),i.vec3_scale(u,i),r.vec3_add(i,r),r.vec3_projectOnAxis(n,r)}return r}}();Array.prototype.vec3_projectOnPlane=function(e,t=h.create()){return this.vec3_removeComponentAlongAxis(e,t),t};Array.prototype.vec3_projectOnPlaneAlongAxis=function(){let e=h.create(),t=h.create();return function(s,n,o=h.create()){if(this.vec3_isOnPlane(s)||n.vec3_isOnPlane(s))o.vec3_copy(this);else{o.vec3_copy(this),o.vec3_projectOnPlane(s,e),e.vec3_sub(o,e),e.vec3_isConcordant(n)?t.vec3_copy(n):n.vec3_negate(t);let r=t.vec3_angleRadians(e),l=e.vec3_length()/Math.cos(r);t.vec3_normalize(t),t.vec3_scale(l,t),o.vec3_add(t,o),o.vec3_projectOnPlane(s,o)}return o}}();Array.prototype.vec3_isOnAxis=function(e){let t=this.vec3_angle(e);return Math.abs(t)<this._pp_degreesEpsilon||Math.abs(t-180)<this._pp_degreesEpsilon};Array.prototype.vec3_isOnPlane=function(e){let t=this.vec3_angle(e);return Math.abs(t-90)<this._pp_degreesEpsilon};Array.prototype.vec3_rotate=function(e,t){return this.vec3_rotateDegrees(e,t)};Array.prototype.vec3_rotateDegrees=function(){let e=h.create();return function(i,s){return this.vec3_rotateAroundDegrees(i,e,s)}}();Array.prototype.vec3_rotateRadians=function(){let e=h.create();return function(i,s){return this.vec3_rotateAroundRadians(i,e,s)}}();Array.prototype.vec3_rotateQuat=function(){let e=h.create();return function(i,s){return this.vec3_rotateAroundQuat(i,e,s)}}();Array.prototype.vec3_rotateAxis=function(e,t,i){return this.vec3_rotateAxisDegrees(e,t,i)};Array.prototype.vec3_rotateAxisDegrees=function(){let e=h.create();return function(i,s,n){return this.vec3_rotateAroundAxisDegrees(i,s,e,n)}}();Array.prototype.vec3_rotateAxisRadians=function(){let e=h.create();return function(i,s,n){return this.vec3_rotateAroundAxisRadians(i,s,e,n)}}();Array.prototype.vec3_rotateAround=function(e,t,i){return this.vec3_rotateAroundDegrees(e,t,i)};Array.prototype.vec3_rotateAroundDegrees=function(){let e=f.create();return function(i,s,n=h.create()){return i.vec3_degreesToQuat(e),this.vec3_rotateAroundQuat(e,s,n)}}();Array.prototype.vec3_rotateAroundRadians=function(){let e=f.create();return function(i,s,n=h.create()){return i.vec3_radiansToQuat(e),this.vec3_rotateAroundQuat(e,s,n)}}();Array.prototype.vec3_rotateAroundQuat=function(e,t,i=h.create()){return h.sub(i,this,t),h.transformQuat(i,i,e),h.add(i,i,t),i};Array.prototype.vec3_rotateAroundAxis=function(e,t,i,s){return this.vec3_rotateAroundAxisDegrees(e,t,i,s)};Array.prototype.vec3_rotateAroundAxisDegrees=function(e,t,i,s){return this.vec3_rotateAroundAxisRadians(w.toRadian(e),t,i,s)};Array.prototype.vec3_rotateAroundAxisRadians=function(){let e=f.create();return function(i,s,n,o=h.create()){return f.setAxisAngle(e,s,i),this.vec3_rotateAroundQuat(e,n,o)}}();Array.prototype.vec3_convertPositionToWorld=function(e,t){return this.vec3_convertPositionToWorldMatrix(e,t)};Array.prototype.vec3_convertPositionToLocal=function(e,t){return this.vec3_convertPositionToLocalMatrix(e,t)};Array.prototype.vec3_convertPositionToWorldMatrix=function(e,t=h.create()){return h.transformMat4(t,this,e),t};Array.prototype.vec3_convertPositionToLocalMatrix=function(){let e=b.create();return function(i,s=h.create()){return b.invert(e,i),h.transformMat4(s,this,e),s}}();Array.prototype.vec3_convertPositionToWorldQuat=function(){let e=b.create(),t=h.create(),i=f.create(),s=h.create();return h.set(s,1,1,1),function(o,r=h.create()){return o.quat2_getPosition(t),o.quat2_getRotationQuat(i),e.mat4_setPositionRotationQuatScale(t,i,s),this.vec3_convertPositionToWorldMatrix(e,r)}}();Array.prototype.vec3_convertPositionToLocalQuat=function(){let e=b.create(),t=h.create(),i=f.create(),s=h.create();return h.set(s,1,1,1),function(o,r=h.create()){return o.quat2_getPosition(t),o.quat2_getRotationQuat(i),e.mat4_setPositionRotationQuatScale(t,i,s),this.vec3_convertPositionToLocalMatrix(e,r)}}();Array.prototype.vec3_convertDirectionToWorld=function(e,t){return this.vec3_convertDirectionToWorldMatrix(e,t)};Array.prototype.vec3_convertDirectionToLocal=function(e,t){return this.vec3_convertDirectionToLocalMatrix(e,t)};Array.prototype.vec3_convertDirectionToWorldMatrix=function(){let e=f.create();return function(i,s=h.create()){return i.mat4_getRotationQuat(e),h.transformQuat(s,this,e),s}}();Array.prototype.vec3_convertDirectionToLocalMatrix=function(){let e=f.create();return function(i,s=h.create()){return i.mat4_getRotationQuat(e),f.conjugate(e,e),h.transformQuat(s,this,e),s}}();Array.prototype.vec3_convertDirectionToWorldQuat=function(){let e=f.create();return function(i,s=h.create()){return i.quat2_getRotationQuat(e),h.transformQuat(s,this,e),s}}();Array.prototype.vec3_convertDirectionToLocalQuat=function(){let e=f.create();return function(i,s=h.create()){return i.quat2_getRotationQuat(e),f.conjugate(e,e),h.transformQuat(s,this,e),s}}();Array.prototype.vec3_log=function(e=4){this.vec_log(e)};Array.prototype.vec3_error=function(e=4){this.vec_error(e)};Array.prototype.vec3_warn=function(e=4){this.vec_warn(e)};Array.prototype.vec3_addRotation=function(e,t){return this.vec3_degreesAddRotation(e,t)};Array.prototype.vec3_addRotationDegrees=function(e,t){return quat.vec3_degreesAddRotationDegrees(e,t)};Array.prototype.vec3_addRotationRadians=function(e,t){return quat.vec3_degreesAddRotationRadians(e,t)};Array.prototype.vec3_addRotationQuat=function(e,t){return quat.vec3_degreesAddRotationQuat(e,t)};Array.prototype.vec3_degreesAddRotation=function(e,t){return this.vec3_degreesAddRotationDegrees(e,t)};Array.prototype.vec3_degreesAddRotationDegrees=function(){let e=f.create();return function(i,s=h.create()){return this.vec3_degreesToQuat(e),e.quat_addRotationDegrees(i,e).quat_toDegrees(s)}}();Array.prototype.vec3_degreesAddRotationRadians=function(){let e=f.create();return function(i,s=h.create()){return this.vec3_degreesToQuat(e),e.quat_addRotationRadians(i,e).quat_toDegrees(s)}}();Array.prototype.vec3_degreesAddRotationQuat=function(){let e=f.create();return function(i,s=h.create()){return this.vec3_degreesToQuat(e),e.quat_addRotationQuat(i,e).quat_toDegrees(s)}}();Array.prototype.vec3_radiansAddRotation=function(e,t){return this.vec3_radiansAddRotationDegrees(e,t)};Array.prototype.vec3_radiansAddRotationDegrees=function(){let e=f.create();return function(i,s=h.create()){return this.vec3_radiansToQuat(e),e.quat_addRotationDegrees(i,e).quat_toRadians(s)}}();Array.prototype.vec3_radiansAddRotationRadians=function(){let e=f.create();return function(i,s=h.create()){return this.vec3_radiansToQuat(e),e.quat_addRotationRadians(i,e).quat_toRadians(s)}}();Array.prototype.vec3_radiansAddRotationQuat=function(){let e=f.create();return function(i,s=h.create()){return this.vec3_radiansToQuat(e),e.quat_addRotationQuat(i,e).quat_toRadians(s)}}();Array.prototype.vec3_toMatrix=function(e=V.create()){return this.vec3_degreesToMatrix(e)};Array.prototype.vec3_degreesToMatrix=function(){let e=f.create();return function(i=V.create()){return this.vec3_degreesToQuat(e),e.quat_toMatrix(i)}}();Array.prototype.vec3_radiansToMatrix=function(){let e=f.create();return function(i=V.create()){return this.vec3_radiansToQuat(e),e.quat_toMatrix(i)}}();Array.prototype.vec3_rotationTo=function(e,t){return this.vec3_rotationToDegrees(e,t)};Array.prototype.vec3_rotationToDegrees=function(){let e=f.create();return function(i,s=h.create()){return this.vec3_rotationToQuat(i,e),e.quat_toDegrees(s),s}}();Array.prototype.vec3_rotationToRadians=function(){let e=f.create();return function(i,s=h.create()){return this.vec3_rotationToQuat(i,e),e.quat_toRadians(s),s}}();Array.prototype.vec3_rotationToQuat=function(){let e=h.create();return function(i,s=f.create()){this.vec3_cross(i,e),e.vec3_normalize(e);let n=this.vec3_angleSigned(i,e);return s.quat_fromAxis(n,e),s.quat_normalize(s),s}}();Array.prototype.vec3_rotationToPivoted=function(e,t,i){return this.vec3_rotationToPivotedDegrees(e,t,i)};Array.prototype.vec3_rotationToPivotedDegrees=function(){let e=f.create();return function(i,s,n=h.create()){return this.vec3_rotationToPivotedQuat(i,s,e),e.quat_toDegrees(n),n}}();Array.prototype.vec3_rotationToPivotedRadians=function(){let e=f.create();return function(i,s,n=h.create()){return this.vec3_rotationToPivotedQuat(i,s,e),e.quat_toRadians(n),n}}();Array.prototype.vec3_rotationToPivotedQuat=function(){let e=h.create(),t=h.create(),i=h.create();return function(n,o,r=f.create()){this.vec3_removeComponentAlongAxis(o,e),n.vec3_removeComponentAlongAxis(o,t),e.vec3_cross(t,i),i.vec3_normalize(i);let l=e.vec3_angleSigned(t,i);return r.quat_fromAxis(l,i),r.quat_normalize(r),r}}();Array.prototype.vec4_set=function(e,t=null,i=null,s=null){return t==null?G.set(this,e,e,e,e):G.set(this,e,t,i,s),this};Array.prototype.vec4_copy=function(e){return G.copy(this,e),this};Array.prototype.quat_normalize=function(e=f.create()){return f.normalize(e,this),e};Array.prototype.quat_copy=function(e){return f.copy(this,e),this};Array.prototype.quat_set=function(e,t=null,i=null,s=null){return t==null?f.set(this,e,e,e,e):f.set(this,e,t,i,s),this};Array.prototype.quat_identity=function(){return f.identity(this),this};Array.prototype.quat_length=function(){return f.length(this)};Array.prototype.quat_invert=function(e=f.create()){return f.invert(e,this),e};Array.prototype.quat_mul=function(e,t=f.create()){return f.mul(t,this,e),t};Array.prototype.quat_getAxis=function(e=h.create()){return f.getAxisAngle(e,this),e};Array.prototype.quat_getAngle=function(){return this.quat_getAngleDegrees()};Array.prototype.quat_getAngleDegrees=function(){return this.quat_getAngleRadians()*(180/Math.PI)};Array.prototype.quat_getAngleRadians=function(){let e=h.create();return function(){return f.getAxisAngle(e,this)}}();Array.prototype.quat_getAxes=function(e=[h.create(),h.create(),h.create()]){return this.quat_getLeft(e[0]),this.quat_getUp(e[1]),this.quat_getForward(e[2]),e};Array.prototype.quat_getForward=function(){let e=V.create();return function(i=h.create()){return V.fromQuat(e,this),h.set(i,e[6],e[7],e[8]),h.normalize(i,i),i}}();Array.prototype.quat_getBackward=function(e){return e=this.quat_getForward(e),e.vec3_negate(e),e};Array.prototype.quat_getLeft=function(){let e=V.create();return function(i=h.create()){return V.fromQuat(e,this),h.set(i,e[0],e[1],e[2]),h.normalize(i,i),i}}();Array.prototype.quat_getRight=function(e){return e=this.quat_getLeft(e),e.vec3_negate(e),e};Array.prototype.quat_getUp=function(){let e=V.create();return function(i=h.create()){return V.fromQuat(e,this),h.set(i,e[3],e[4],e[5]),h.normalize(i,i),i}}();Array.prototype.quat_getDown=function(e){return e=this.quat_getUp(e),e.vec3_negate(e),e};Array.prototype.quat_setAxes=function(e,t,i){return i!=null?this.quat_setForward(i,t,e):t!=null?this.quat_setUp(t,i,e):this.quat_setLeft(e,t,i)};Array.prototype.quat_setForward=function(e,t=null,i=null){return this._quat_setAxes([i,t,e],[2,1,0])};Array.prototype.quat_setBackward=function(){let e=h.create();return function(i,s=null,n=null){return i.vec3_negate(e),this._quat_setAxes([n,s,e],[2,1,0])}}();Array.prototype.quat_setUp=function(e,t=null,i=null){return this._quat_setAxes([i,e,t],[1,2,0])};Array.prototype.quat_setDown=function(){let e=h.create();return function(i,s=null,n=null){return i.vec3_negate(e),this._quat_setAxes([n,e,s],[1,2,0])}}();Array.prototype.quat_setLeft=function(e,t=null,i=null){return this._quat_setAxes([e,t,i],[0,1,2])};Array.prototype.quat_setRight=function(){let e=h.create();return function(i,s=null,n=null){return i.vec3_negate(e),this._quat_setAxes([e,s,n],[0,1,2])}}();Array.prototype.quat_toWorld=function(e,t=f.create()){return f.mul(t,e,this),t};Array.prototype.quat_toLocal=function(){let e=f.create();return function(i,s=f.create()){return f.conjugate(e,i),f.mul(s,e,this),s}}();Array.prototype.quat_fromAxis=function(e,t){return this.quat_fromAxisDegrees(e,t)};Array.prototype.quat_fromAxisDegrees=function(e,t){return f.setAxisAngle(this,t,w.toRadian(e)),this};Array.prototype.quat_fromAxisRadians=function(e,t){return f.setAxisAngle(this,t,e),this};Array.prototype.quat_fromAxes=function(){let e=V.create();return function(i,s,n){return e.mat3_fromAxes(i,s,n),e.mat3_toQuat(this)}}();Array.prototype.quat_fromRadians=function(){let e=h.create();return function(i){return i.vec3_toDegrees(e),this.quat_fromDegrees(e)}}();Array.prototype.quat_fromDegrees=function(e){return f.fromEuler(this,e[0],e[1],e[2]),this};Array.prototype.quat_toRadians=function(){let e=V.create();return function(i=h.create()){return V.fromQuat(e,this),i[1]=Math.asin(-this._pp_clamp(e[2],-1,1)),Math.abs(e[2])<1-this._pp_epsilon?(i[0]=Math.atan2(e[5],e[8]),i[2]=Math.atan2(e[1],e[0])):(i[0]=0,i[2]=Math.atan2(-e[3],e[4])),i}}();Array.prototype.quat_toDegrees=function(e=h.create()){return this.quat_toRadians(e),e.vec3_toDegrees(e),e};Array.prototype.quat_isNormalized=function(){return Math.abs(f.length(this)-1)<this._pp_epsilon};Array.prototype.quat_addRotation=function(e,t){return this.quat_addRotationDegrees(e,t)};Array.prototype.quat_addRotationDegrees=function(){let e=f.create();return function(i,s){return i.vec3_degreesToQuat(e),this.quat_addRotationQuat(e,s)}}();Array.prototype.quat_addRotationRadians=function(){let e=f.create();return function(i,s){return i.vec3_radiansToQuat(e),this.quat_addRotationQuat(e,s)}}();Array.prototype.quat_addRotationQuat=function(e,t=f.create()){return e.quat_mul(this,t),t};Array.prototype.quat_subRotation=function(e,t){return this.quat_subRotationDegrees(e,t)};Array.prototype.quat_subRotationDegrees=function(){let e=f.create();return function(i,s){return i.vec3_degreesToQuat(e),this.quat_subRotationQuat(e,s)}}();Array.prototype.quat_subRotationRadians=function(){let e=f.create();return function(i,s){return i.vec3_radiansToQuat(e),this.quat_subRotationQuat(e,s)}}();Array.prototype.quat_subRotationQuat=function(){let e=f.create();return function(i,s=f.create()){return i.quat_invert(e),this.quat_mul(e,s),s}}();Array.prototype.quat_rotationTo=function(e,t){return this.quat_rotationToDegrees(e,t)};Array.prototype.quat_rotationToDegrees=function(){let e=f.create();return function(i,s){return this.quat_rotationToQuat(i,e),e.quat_toDegrees(s)}}();Array.prototype.quat_rotationToRadians=function(){let e=f.create();return function(i,s){return this.quat_rotationToQuat(i,e),e.quat_toRadians(s)}}();Array.prototype.quat_rotationToQuat=function(e,t){return e.quat_subRotationQuat(this,t)};Array.prototype.quat_toMatrix=function(e=V.create()){return V.fromQuat(e,this),e};Array.prototype.quat_rotate=function(e,t){return this.quat_rotateDegrees(e,t)};Array.prototype.quat_rotateDegrees=function(e,t){return this.quat_addRotationDegrees(e,t)};Array.prototype.quat_rotateRadians=function(e,t){return this.quat_addRotationRadians(e,t)};Array.prototype.quat_rotateQuat=function(e,t){return this.quat_addRotationQuat(e,t)};Array.prototype.quat_rotateAxis=function(e,t,i){return this.quat_rotateAxisDegrees(e,t,i)};Array.prototype.quat_rotateAxisDegrees=function(){let e=f.create();return function(i,s,n){return e.quat_fromAxisDegrees(i,s),this.quat_rotateQuat(e,n)}}();Array.prototype.quat_rotateAxisRadians=function(){let e=f.create();return function(i,s,n){return e.quat_fromAxisRadians(i,s),this.quat_rotateQuat(e,n)}}();Array.prototype.quat2_normalize=function(e=L.create()){return L.normalize(e,this),e};Array.prototype.quat2_copy=function(e){return L.copy(this,e),this};Array.prototype.quat2_identity=function(){return L.identity(this),this};Array.prototype.quat2_getPosition=function(e=h.create()){return L.getTranslation(e,this),e};Array.prototype.quat2_getRotation=function(e){return this.quat2_getRotationDegrees(e)};Array.prototype.quat2_getRotationDegrees=function(){let e=f.create();return function(i=h.create()){return this.quat2_getRotationQuat(e).quat_toDegrees(i),i}}();Array.prototype.quat2_getRotationRadians=function(){let e=f.create();return function(i=h.create()){return this.quat2_getRotationQuat(e).quat_toRadians(i),i}}();Array.prototype.quat2_getRotationQuat=function(e=f.create()){return f.copy(e,this),e};Array.prototype.quat2_setPositionRotation=function(e,t){return this.quat2_setPositionRotationDegrees(e,t)};Array.prototype.quat2_setPositionRotationDegrees=function(){let e=f.create();return function(i,s){return s.vec3_degreesToQuat(e),L.fromRotationTranslation(this,e,i),this}}();Array.prototype.quat2_setPositionRotationRadians=function(){let e=f.create();return function(i,s){return s.vec3_radiansToQuat(e),L.fromRotationTranslation(this,e,i),this}}();Array.prototype.quat2_setPositionRotationQuat=function(e,t){return L.fromRotationTranslation(this,t,e),this};Array.prototype.quat2_getAxes=function(e=[h.create(),h.create(),h.create()]){return this.quat2_getLeft(e[0]),this.quat2_getUp(e[1]),this.quat2_getForward(e[2]),e};Array.prototype.quat2_getForward=function(){let e=V.create();return function(i=h.create()){return V.fromQuat(e,this),h.set(i,e[6],e[7],e[8]),h.normalize(i,i),i}}();Array.prototype.quat2_getBackward=function(e){return e=this.quat2_getForward(e),e.vec3_negate(e),e};Array.prototype.quat2_getLeft=function(){let e=V.create();return function(i=h.create()){return V.fromQuat(e,this),h.set(i,e[0],e[1],e[2]),h.normalize(i,i),i}}();Array.prototype.quat2_getRight=function(e){return e=this.quat2_getLeft(e),e.vec3_negate(e),e};Array.prototype.quat2_getUp=function(){let e=V.create();return function(i=h.create()){return V.fromQuat(e,this),h.set(i,e[3],e[4],e[5]),h.normalize(i,i),i}}();Array.prototype.quat2_getDown=function(e){return e=this.quat2_getUp(e),e.vec3_negate(e),e};Array.prototype.quat2_toWorld=function(e,t=L.create()){return L.mul(t,e,this),t};Array.prototype.quat2_toLocal=function(){let e=L.create();return function(i,s=L.create()){return L.conjugate(e,i),L.mul(s,e,this),s}}();Array.prototype.quat2_toMatrix=function(e=b.create()){return b.fromQuat2(e,this),e};Array.prototype.quat2_fromMatrix=function(e){return e.mat4_toQuat(this),this};Array.prototype.mat3_toDegrees=function(){let e=f.create();return function(i=h.create()){return this.mat3_toQuat(e),e.quat_toDegrees(i),i}}();Array.prototype.mat3_toRadians=function(){let e=f.create();return function(i=h.create()){return this.mat3_toQuat(e),e.quat_toRadians(i),i}}();Array.prototype.mat3_toQuat=function(e=f.create()){return f.fromMat3(e,this),e.quat_normalize(e),e};Array.prototype.mat3_fromAxes=function(e,t,i){return V.set(this,e[0],e[1],e[2],t[0],t[1],t[2],i[0],i[1],i[2]),this};Array.prototype.mat4_copy=function(e){return b.copy(this,e),this};Array.prototype.mat4_identity=function(){return b.identity(this),this};Array.prototype.mat4_invert=function(e=b.create()){return b.invert(e,this),e};Array.prototype.mat4_clone=function(e=b.create()){return b.copy(e,this),e};Array.prototype.mat4_getPosition=function(e=h.create()){return b.getTranslation(e,this),e};Array.prototype.mat4_getRotation=function(e=h.create()){return this.mat4_getRotationDegrees(e)};Array.prototype.mat4_getRotationDegrees=function(){let e=f.create();return function(i=h.create()){return this.mat4_getRotationQuat(e),e.quat_toDegrees(i),i}}();Array.prototype.mat4_getRotationRadians=function(){let e=f.create();return function(i=h.create()){return this.mat4_getRotationQuat(e),e.quat_toRadians(i),i}}();Array.prototype.mat4_getRotationQuat=function(){let e=h.create(),t=b.create(),i=h.create(),s=h.create();return h.set(s,1,1,1),function(o=f.create()){return b.getScaling(e,this),h.divide(i,s,e),b.scale(t,this,i),b.getRotation(o,t),f.normalize(o,o),o}}();Array.prototype.mat4_getScale=function(e=h.create()){return b.getScaling(e,this),e};Array.prototype.mat4_setPosition=function(e){return this[12]=e[0],this[13]=e[1],this[14]=e[2],this};Array.prototype.mat4_setRotation=function(e){return this.mat4_setRotationDegrees(e),this};Array.prototype.mat4_setRotationDegrees=function(){let e=f.create();return function(i){return this.mat4_setRotationQuat(i.vec3_degreesToQuat(e)),this}}();Array.prototype.mat4_setRotationRadians=function(){let e=h.create();return function(i){return this.mat4_setRotationDegrees(i.vec3_toDegrees(e)),this}}();Array.prototype.mat4_setRotationQuat=function(){let e=h.create(),t=h.create();return function(s){return this.mat4_getPosition(e),this.mat4_getScale(t),this.mat4_setPositionRotationQuatScale(e,s,t),this}}();Array.prototype.mat4_setScale=function(){let e=h.create();return function(i){return b.getScaling(e,this),h.divide(e,i,e),b.scale(this,this,e),this}}();Array.prototype.mat4_setPositionRotationScale=function(e,t,i){return this.mat4_setPositionRotationDegreesScale(e,t,i),this};Array.prototype.mat4_setPositionRotationDegreesScale=function(){let e=f.create();return function(i,s,n){return this.mat4_setPositionRotationQuatScale(i,s.vec3_degreesToQuat(e),n),this}}();Array.prototype.mat4_setPositionRotationRadiansScale=function(){let e=h.create();return function(i,s,n){return this.mat4_setPositionRotationDegreesScale(i,s.vec3_toDegrees(e),n),this}}();Array.prototype.mat4_setPositionRotationQuatScale=function(e,t,i){return b.fromRotationTranslationScale(this,t,e,i),this};Array.prototype.mat4_setPositionRotation=function(e,t){return this.mat4_setPositionRotationDegrees(e,t),this};Array.prototype.mat4_setPositionRotationDegrees=function(){let e=f.create();return function(i,s){return this.mat4_setPositionRotationQuat(i,s.vec3_degreesToQuat(e)),this}}();Array.prototype.mat4_setPositionRotationRadians=function(){let e=h.create();return function(i,s){return this.mat4_setPositionRotationDegrees(i,s.vec3_toDegrees(e)),this}}();Array.prototype.mat4_setPositionRotationQuat=function(e,t){return b.fromRotationTranslation(this,t,e),this};Array.prototype.mat4_getAxes=function(e=[h.create(),h.create(),h.create()]){return this.mat4_getLeft(e[0]),this.mat4_getUp(e[1]),this.mat4_getForward(e[2]),e};Array.prototype.mat4_getForward=function(e=h.create()){return h.set(e,this[8],this[9],this[10]),h.normalize(e,e),e};Array.prototype.mat4_getBackward=function(e){return e=this.mat4_getForward(e),e.vec3_negate(e),e};Array.prototype.mat4_getLeft=function(e=h.create()){return h.set(e,this[0],this[1],this[2]),h.normalize(e,e),e};Array.prototype.mat4_getRight=function(e){return e=this.mat4_getLeft(e),e.vec3_negate(e),e};Array.prototype.mat4_getUp=function(e=h.create()){return h.set(e,this[4],this[5],this[6]),h.normalize(e,e),e};Array.prototype.mat4_getDown=function(e){return e=this.mat4_getUp(e),e.vec3_negate(e),e};Array.prototype.mat4_toWorld=function(){let e=b.create(),t=h.create(),i=h.create(),s=h.create(),n=h.create();return h.set(n,1,1,1),function(r,l=b.create()){return r.mat4_hasUniformScale()?b.mul(l,r,this):(h.set(t,this[12],this[13],this[14]),t.vec3_convertPositionToWorldMatrix(r,t),b.getScaling(i,r),h.divide(s,n,i),b.scale(e,r,s),b.mul(l,e,this),b.scale(l,l,i),l[12]=t[0],l[13]=t[1],l[14]=t[2],l[15]=1),l}}();Array.prototype.mat4_toLocal=function(){let e=b.create(),t=h.create(),i=h.create(),s=h.create(),n=h.create();return h.set(n,1,1,1),function(r,l=b.create()){return r.mat4_hasUniformScale()?(b.invert(e,r),b.mul(l,e,this)):(h.set(t,this[12],this[13],this[14]),t.vec3_convertPositionToLocalMatrix(r,t),b.getScaling(i,r),h.divide(s,n,i),b.scale(e,r,s),b.invert(e,e),b.mul(l,e,this),b.scale(l,l,s),l[12]=t[0],l[13]=t[1],l[14]=t[2],l[15]=1),l}}();Array.prototype.mat4_hasUniformScale=function(){let e=h.create();return function(){return b.getScaling(e,this),Math.abs(e[0]-e[1])<this._pp_epsilon&&Math.abs(e[1]-e[2])<this._pp_epsilon&&Math.abs(e[0]-e[2])<this._pp_epsilon}}();Array.prototype.mat4_toQuat=function(){let e=h.create(),t=f.create();return function(s=L.create()){return b.getTranslation(e,this),this.mat4_getRotationQuat(t),L.fromRotationTranslation(s,t,e),s}}();Array.prototype.mat4_fromQuat=function(e){return e.quat2_toMatrix(this),this};PP.vec2_create=function(e=null,t=null){let i=Q.create();return e!=null&&i.vec2_set(e,t),i};PP.vec3_create=function(e=null,t=null,i=null){let s=h.create();return e!=null&&s.vec3_set(e,t,i),s};PP.vec4_create=function(e=null,t=null,i=null,s=null){let n=G.create();return e!=null&&n.vec4_set(e,t,i,s),n};PP.quat_create=function(e=null,t=null,i=null,s=null){let n=f.create();return e!=null&&n.quat_set(e,t,i,s),n};PP.quat2_create=function(){return L.create()};PP.quat2_fromPositionRotation=function(e,t){return quat2_fromPositionRotationDegrees(e,t)};PP.quat2_fromPositionRotationDegrees=function(e,t){let i=b.create();return i.quat2_setPositionRotationDegrees(e,t),i};PP.quat2_fromPositionRotationRadians=function(e,t){let i=b.create();return i.quat2_setPositionRotationRadians(e,t),i};PP.quat2_fromPositionRotationQuat=function(e,t){let i=L.create();return i.quat2_setPositionRotationQuat(e,t),i};PP.mat4_create=function(){return b.create()};PP.mat4_fromPositionRotation=function(e,t){return mat4_fromPositionRotationDegrees(e,t)};PP.mat4_fromPositionRotationDegrees=function(e,t){let i=b.create();return i.mat4_setPositionRotationDegrees(e,t),i};PP.mat4_fromPositionRotationRadians=function(e,t){let i=b.create();return i.mat4_setPositionRotationRadians(e,t),i};PP.mat4_fromPositionRotationQuat=function(e,t){let i=b.create();return i.mat4_setPositionRotationQuat(e,t),i};PP.mat4_fromPositionRotationScale=function(e,t,i){return mat4_fromPositionRotationDegreesScale(e,t,i)};PP.mat4_fromPositionRotationDegreesScale=function(e,t,i){let s=b.create();return s.mat4_setPositionRotationDegreesScale(e,t,i),s};PP.mat4_fromPositionRotationRadiansScale=function(e,t,i){let s=b.create();return s.mat4_setPositionRotationRadiansScale(e,t,i),s};PP.mat4_fromPositionRotationQuatScale=function(e,t,i){let s=b.create();return s.mat4_setPositionRotationQuatScale(e,t,i),s};Array.prototype._pp_epsilon=1e-6;Array.prototype._pp_degreesEpsilon=1e-5;Array.prototype._pp_clamp=function(e,t,i){return Math.min(Math.max(e,t),i)};Array.prototype._vec_buildConsoleMessage=function(e){let t=\"[\";for(let i=0;i<this.length;i++)i!=0&&(t=t.concat(\", \")),t=t.concat(this[i].toFixed(e));return t=t.concat(\"]\"),t};Array.prototype._vec_prepareOut=function(e){return e==null?e=this.pp_clone():e!=this&&e.pp_copy(this),e};Array.prototype._quat_setAxes=function(){let e=[h.create(),h.create(),h.create()],t=[[1,-1,1],[1,1,-1],[-1,1,-1]],i=h.create(),s=h.create(),n=h.create(),o=h.create(),r=h.create(),l=V.create(),u=f.create();return function(a,m){let y=a[m[0]],p=a[m[1]],d=a[m[2]];if(y==null)return this;let g=!1;p!=null&&h.angle(y,p)>this._pp_epsilon&&(g=!0);let _=!1;if(d!=null&&h.angle(y,d)>this._pp_epsilon&&(_=!0),g||_){let P=null,T=null,S=null;g?(P=p,T=1,S=2):(P=d,T=2,S=1);let v=t[m[0]];h.cross(e[S],y,P),h.scale(e[S],e[S],v[m[S]]),h.cross(e[T],y,e[S]),h.scale(e[T],e[T],v[m[T]]),h.cross(e[0],e[1],e[2]),h.scale(e[0],e[0],v[m[0]]),h.normalize(i,e[m.pp_findIndexEqual(0)]),h.normalize(s,e[m.pp_findIndexEqual(1)]),h.normalize(n,e[m.pp_findIndexEqual(2)]),V.set(l,i[0],i[1],i[2],s[0],s[1],s[2],n[0],n[1],n[2]),f.fromMat3(u,l),f.normalize(u,u),this.quat_copy(u)}else{m[0]==0?this.quat_getLeft(o):m[0]==1?this.quat_getUp(o):this.quat_getForward(o);let P=h.angle(y,o);P!=0&&(h.cross(r,o,y),h.normalize(r,r),f.setAxisAngle(u,r,P),this.quat_rotateQuat(u,this))}return this}}();for(let e in Array.prototype){let t=[\"pp_\",\"vec_\",\"vec3_\",\"vec4_\",\"quat_\",\"quat2_\",\"mat3_\",\"mat4_\",\"_pp_\",\"_vec_\",\"_quat_\"],i=!1;for(let s of t)if(e.startsWith(s)){i=!0;break}i&&(Object.defineProperty(Array.prototype,e,{enumerable:!1}),Uint32Array.prototype[e]=Array.prototype[e],Object.defineProperty(Uint32Array.prototype,e,{enumerable:!1}),Int32Array.prototype[e]=Array.prototype[e],Object.defineProperty(Int32Array.prototype,e,{enumerable:!1}),Float32Array.prototype[e]=Array.prototype[e],Object.defineProperty(Float32Array.prototype,e,{enumerable:!1}),Float64Array.prototype[e]=Array.prototype[e],Object.defineProperty(Float64Array.prototype,e,{enumerable:!1}))}});var rl={};var Fe=F(()=>{J();if(WL&&WL.Object){WL.Object.prototype.pp_getPosition=function(e){return this.pp_getPositionWorld(e)},WL.Object.prototype.pp_getPositionWorld=function(e=h.create()){return this.getTranslationWorld(e),e},WL.Object.prototype.pp_getPositionLocal=function(e=h.create()){return this.getTranslationLocal(e),e},WL.Object.prototype.pp_getRotation=function(e){return this.pp_getRotationWorld(e)},WL.Object.prototype.pp_getRotationDegrees=function(e){return this.pp_getRotationWorldDegrees(e)},WL.Object.prototype.pp_getRotationRadians=function(e){return this.pp_getRotationWorldRadians(e)},WL.Object.prototype.pp_getRotationMatrix=function(e){return this.pp_getRotationWorldMatrix(e)},WL.Object.prototype.pp_getRotationQuat=function(e){return this.pp_getRotationWorldQuat(e)},WL.Object.prototype.pp_getRotationWorld=function(e){return this.pp_getRotationWorldDegrees(e)},WL.Object.prototype.pp_getRotationWorldDegrees=function(e){return e=this.pp_getRotationWorldRadians(e),e.forEach(function(t,i,s){s[i]=this._pp_toDegrees(t)}.bind(this)),e},WL.Object.prototype.pp_getRotationWorldRadians=function(){let e=f.create();return function(i=h.create()){return this.pp_getRotationWorldQuat(e),this._pp_quaternionToRadians(e,i),i}}(),WL.Object.prototype.pp_getRotationWorldMatrix=function(){let e=f.create();return function(i=V.create()){return this.pp_getRotationWorldQuat(e),V.fromQuat(i,e),i}}(),WL.Object.prototype.pp_getRotationWorldQuat=function(e=f.create()){return f.copy(e,this.rotationWorld),e},WL.Object.prototype.pp_getRotationLocal=function(e){return this.pp_getRotationLocalDegrees(e)},WL.Object.prototype.pp_getRotationLocalDegrees=function(e){return e=this.pp_getRotationLocalRadians(e),e.forEach(function(t,i,s){s[i]=this._pp_toDegrees(t)}.bind(this)),e},WL.Object.prototype.pp_getRotationLocalRadians=function(){let e=f.create();return function(i=h.create()){return this.pp_getRotationLocalQuat(e),this._pp_quaternionToRadians(e,i),i}}(),WL.Object.prototype.pp_getRotationLocalMatrix=function(){let e=f.create();return function(i=V.create()){return this.pp_getRotationLocalQuat(e),V.fromQuat(i,e),i}}(),WL.Object.prototype.pp_getRotationLocalQuat=function(e=f.create()){return f.copy(e,this.rotationLocal),e},WL.Object.prototype.pp_getScale=function(e){return this.pp_getScaleWorld(e)},WL.Object.prototype.pp_getScaleWorld=function(e=h.create()){return h.copy(e,this.scalingWorld),e},WL.Object.prototype.pp_getScaleLocal=function(e=h.create()){return h.copy(e,this.scalingLocal),e},WL.Object.prototype.pp_getTransform=function(e){return this.pp_getTransformWorld(e)},WL.Object.prototype.pp_getTransformMatrix=function(e){return this.pp_getTransformWorldMatrix(e)},WL.Object.prototype.pp_getTransformQuat=function(e){return this.pp_getTransformWorldQuat(e)},WL.Object.prototype.pp_getTransformWorld=function(e){return this.pp_getTransformWorldMatrix(e)},WL.Object.prototype.pp_getTransformWorldMatrix=function(){let e=L.create(),t=h.create();return function(s=b.create()){return this.pp_getTransformWorldQuat(e),this.pp_getScaleWorld(t),b.fromQuat2(s,e),b.scale(s,s,t),s}}(),WL.Object.prototype.pp_getTransformWorldQuat=function(e=L.create()){return L.copy(e,this.transformWorld),e},WL.Object.prototype.pp_getTransformLocal=function(e){return this.pp_getTransformLocalMatrix(e)},WL.Object.prototype.pp_getTransformLocalMatrix=function(){let e=L.create(),t=h.create();return function(s=b.create()){return this.pp_getTransformLocalQuat(e),this.pp_getScaleLocal(t),b.fromQuat2(s,e),b.scale(s,s,t),s}}(),WL.Object.prototype.pp_getTransformLocalQuat=function(e=L.create()){return L.copy(e,this.transformLocal),e},WL.Object.prototype.pp_getAxes=function(e){return this.pp_getAxesWorld(e)},WL.Object.prototype.pp_getAxesWorld=function(e=[h.create(),h.create(),h.create()]){return this.pp_getLeftWorld(e[0]),this.pp_getUpWorld(e[1]),this.pp_getForwardWorld(e[2]),e},WL.Object.prototype.pp_getAxesLocal=function(e=[h.create(),h.create(),h.create()]){return this.pp_getLeftLocal(e[0]),this.pp_getUpLocal(e[1]),this.pp_getForwardLocal(e[2]),e},WL.Object.prototype.pp_getForward=function(e){return this.pp_getForwardWorld(e)},WL.Object.prototype.pp_getForwardWorld=function(){let e=V.create();return function(i=h.create()){return this.pp_getRotationWorldMatrix(e),i[0]=e[6],i[1]=e[7],i[2]=e[8],i}}(),WL.Object.prototype.pp_getForwardLocal=function(){let e=V.create();return function(i=h.create()){return this.pp_getRotationLocalMatrix(e),i[0]=e[6],i[1]=e[7],i[2]=e[8],i}}(),WL.Object.prototype.pp_getBackward=function(e){return this.pp_getBackwardWorld(e)},WL.Object.prototype.pp_getBackwardWorld=function(){let e=V.create();return function(i=h.create()){return this.pp_getRotationWorldMatrix(e),i[0]=-e[6],i[1]=-e[7],i[2]=-e[8],i}}(),WL.Object.prototype.pp_getBackwardLocal=function(){let e=V.create();return function(i=h.create()){return this.pp_getRotationLocalMatrix(e),i[0]=-e[6],i[1]=-e[7],i[2]=-e[8],i}}(),WL.Object.prototype.pp_getUp=function(e){return this.pp_getUpWorld(e)},WL.Object.prototype.pp_getUpWorld=function(){let e=V.create();return function(i=h.create()){return this.pp_getRotationWorldMatrix(e),i[0]=e[3],i[1]=e[4],i[2]=e[5],i}}(),WL.Object.prototype.pp_getUpLocal=function(){let e=V.create();return function(i=h.create()){return this.pp_getRotationLocalMatrix(e),i[0]=e[3],i[1]=e[4],i[2]=e[5],i}}(),WL.Object.prototype.pp_getDown=function(e){return this.pp_getDownWorld(e)},WL.Object.prototype.pp_getDownWorld=function(){let e=V.create();return function(i=h.create()){return this.pp_getRotationWorldMatrix(e),i[0]=-e[3],i[1]=-e[4],i[2]=-e[5],i}}(),WL.Object.prototype.pp_getDownLocal=function(){let e=V.create();return function(i=h.create()){return this.pp_getRotationLocalMatrix(e),i[0]=-e[3],i[1]=-e[4],i[2]=-e[5],i}}(),WL.Object.prototype.pp_getLeft=function(e){return this.pp_getLeftWorld(e)},WL.Object.prototype.pp_getLeftWorld=function(){let e=V.create();return function(i=h.create()){return this.pp_getRotationWorldMatrix(e),i[0]=e[0],i[1]=e[1],i[2]=e[2],i}}(),WL.Object.prototype.pp_getLeftLocal=function(){let e=V.create();return function(i=h.create()){return this.pp_getRotationLocalMatrix(e),i[0]=e[0],i[1]=e[1],i[2]=e[2],i}}(),WL.Object.prototype.pp_getRight=function(e){return this.pp_getRightWorld(e)},WL.Object.prototype.pp_getRightWorld=function(){let e=V.create();return function(i=h.create()){return this.pp_getRotationWorldMatrix(e),i[0]=-e[0],i[1]=-e[1],i[2]=-e[2],i}}(),WL.Object.prototype.pp_getRightLocal=function(){let e=V.create();return function(i=h.create()){return this.pp_getRotationLocalMatrix(e),i[0]=-e[0],i[1]=-e[1],i[2]=-e[2],i}}(),WL.Object.prototype.pp_setPosition=function(e){this.pp_setPositionWorld(e)},WL.Object.prototype.pp_setPositionWorld=function(e){this.setTranslationWorld(e)},WL.Object.prototype.pp_setPositionLocal=function(e){this.setTranslationLocal(e)},WL.Object.prototype.pp_setRotation=function(e){this.pp_setRotationWorld(e)},WL.Object.prototype.pp_setRotationDegrees=function(e){this.pp_setRotationWorldDegrees(e)},WL.Object.prototype.pp_setRotationRadians=function(e){this.pp_setRotationWorldRadians(e)},WL.Object.prototype.pp_setRotationMatrix=function(e){this.pp_setRotationWorldMatrix(e)},WL.Object.prototype.pp_setRotationQuat=function(e){this.pp_setRotationWorldQuat(e)},WL.Object.prototype.pp_setRotationWorld=function(e){this.pp_setRotationWorldDegrees(e)},WL.Object.prototype.pp_setRotationWorldDegrees=function(){let e=f.create();return function(i){this._pp_degreesToQuaternion(i,e),this.pp_setRotationWorldQuat(e)}}(),WL.Object.prototype.pp_setRotationWorldRadians=function(){let e=h.create();return function(i){i.forEach(function(s,n,o){e[n]=this._pp_toDegrees(s)}.bind(this)),this.pp_setRotationWorldDegrees(e)}}(),WL.Object.prototype.pp_setRotationWorldMatrix=function(){let e=f.create();return function(i){f.fromMat3(e,i),this.pp_setRotationWorldQuat(e)}}(),WL.Object.prototype.pp_setRotationWorldQuat=function(e){this.rotationWorld=e},WL.Object.prototype.pp_setRotationLocal=function(e){this.pp_setRotationLocalDegrees(e)},WL.Object.prototype.pp_setRotationLocalDegrees=function(){let e=f.create();return function(i){this._pp_degreesToQuaternion(i,e),this.pp_setRotationLocalQuat(e)}}(),WL.Object.prototype.pp_setRotationLocalRadians=function(){let e=h.create();return function(i){i.forEach(function(s,n,o){e[n]=this._pp_toDegrees(s)}.bind(this)),this.pp_setRotationLocalDegrees(e)}}(),WL.Object.prototype.pp_setRotationLocalMatrix=function(){let e=f.create();return function(i){f.fromMat3(e,i),this.pp_setRotationLocalQuat(e)}}(),WL.Object.prototype.pp_setRotationLocalQuat=function(e){this.rotationLocal=e},WL.Object.prototype.pp_setScale=function(e){this.pp_setScaleWorld(e)},WL.Object.prototype.pp_setScaleWorld=function(){let e=h.create();return function(i){isNaN(i)?this.scalingWorld=i:(h.set(e,i,i,i),this.scalingWorld=e)}}(),WL.Object.prototype.pp_setScaleLocal=function(){let e=h.create();return function(i){isNaN(i)?this.scalingLocal=i:(h.set(e,i,i,i),this.scalingLocal=e)}}(),WL.Object.prototype.pp_setAxes=function(e,t,i){this.pp_setAxesWorld(e,t,i)},WL.Object.prototype.pp_setAxesWorld=function(e,t,i){i!=null?this.pp_setForwardWorld(i,t,e):t!=null?this.pp_setUpWorld(t,i,e):this.pp_setLeftWorld(e,t,i)},WL.Object.prototype.pp_setAxesLocal=function(e,t,i){i!=null?this.pp_setForwardLocal(i,t,e):t!=null?this.pp_setUpLocal(t,i,e):this.pp_setLeftLocal(e,t,i)},WL.Object.prototype.pp_setForward=function(e,t,i){this.pp_setForwardWorld(e,t,i)},WL.Object.prototype.pp_setForwardWorld=function(e,t=null,i=null){this._pp_setAxes([i,t,e],[2,1,0],!1)},WL.Object.prototype.pp_setForwardLocal=function(e,t=null,i=null){this._pp_setAxes([i,t,e],[2,1,0],!0)},WL.Object.prototype.pp_setBackward=function(e,t,i){this.pp_setBackwardWorld(e,t,i)},WL.Object.prototype.pp_setBackwardWorld=function(){let e=h.create();return function(i,s=null,n=null){h.negate(e,i),this._pp_setAxes([n,s,e],[2,1,0],!1)}}(),WL.Object.prototype.pp_setBackwardLocal=function(){let e=h.create();return function(i,s=null,n=null){h.negate(e,i),this._pp_setAxes([n,s,e],[2,1,0],!0)}}(),WL.Object.prototype.pp_setUp=function(e,t,i){this.pp_setUpWorld(e,t,i)},WL.Object.prototype.pp_setUpWorld=function(e,t=null,i=null){this._pp_setAxes([i,e,t],[1,2,0],!1)},WL.Object.prototype.pp_setUpLocal=function(e,t=null,i=null){this._pp_setAxes([i,e,t],[1,2,0],!0)},WL.Object.prototype.pp_setDown=function(e,t,i){this.pp_setDownWorld(e,t,i)},WL.Object.prototype.pp_setDownWorld=function(){let e=h.create();return function(i,s=null,n=null){h.negate(e,i),this._pp_setAxes([n,e,s],[1,2,0],!1)}}(),WL.Object.prototype.pp_setDownLocal=function(){let e=h.create();return function(i,s=null,n=null){h.negate(e,i),this._pp_setAxes([n,e,s],[1,2,0],!0)}}(),WL.Object.prototype.pp_setLeft=function(e,t,i){this.pp_setLeftWorld(e,t,i)},WL.Object.prototype.pp_setLeftWorld=function(e,t=null,i=null){this._pp_setAxes([e,t,i],[0,1,2],!1)},WL.Object.prototype.pp_setLeftLocal=function(e,t=null,i=null){this._pp_setAxes([e,t,i],[0,1,2],!0)},WL.Object.prototype.pp_setRight=function(e,t,i){this.pp_setRightWorld(e,t,i)},WL.Object.prototype.pp_setRightWorld=function(){let e=h.create();return function(i,s=null,n=null){h.negate(e,i),this._pp_setAxes([e,s,n],[0,1,2],!1)}}(),WL.Object.prototype.pp_setRightLocal=function(){let e=h.create();return function(i,s=null,n=null){h.negate(e,i),this._pp_setAxes([e,s,n],[0,1,2],!0)}}(),WL.Object.prototype.pp_setTransform=function(e){this.pp_setTransformWorld(e)},WL.Object.prototype.pp_setTransformMatrix=function(e){this.pp_setTransformWorldMatrix(e)},WL.Object.prototype.pp_setTransformQuat=function(e){this.pp_setTransformWorldQuat(e)},WL.Object.prototype.pp_setTransformWorld=function(e){return this.pp_setTransformWorldMatrix(e)},WL.Object.prototype.pp_setTransformWorldMatrix=function(){let e=h.create(),t=f.create(),i=h.create(),s=b.create(),n=h.create(),o=h.create();return h.set(o,1,1,1),function(l){b.getTranslation(e,l),b.getScaling(i,l),h.divide(n,o,i),b.scale(s,l,n),b.getRotation(t,s),f.normalize(t,t),this.pp_setScaleWorld(i),this.pp_setRotationWorldQuat(t),this.pp_setPositionWorld(e)}}(),WL.Object.prototype.pp_setTransformWorldQuat=function(e){this.transformWorld=e},WL.Object.prototype.pp_setTransformLocal=function(e){return this.pp_setTransformLocalMatrix(e)},WL.Object.prototype.pp_setTransformLocalMatrix=function(){let e=h.create(),t=f.create(),i=h.create(),s=b.create(),n=h.create(),o=h.create();return h.set(o,1,1,1),function(l){b.getTranslation(e,l),b.getScaling(i,l),h.divide(n,o,i),b.scale(s,l,n),b.getRotation(t,s),f.normalize(t,t),this.pp_setScaleLocal(i),this.pp_setRotationLocalQuat(t),this.pp_setPositionLocal(e)}}(),WL.Object.prototype.pp_setTransformLocalQuat=function(e){this.transformLocal=e},WL.Object.prototype.pp_resetPosition=function(){this.pp_resetPositionWorld()},WL.Object.prototype.pp_resetPositionWorld=function(){let e=h.create();return function(){this.pp_setPositionWorld(e)}}(),WL.Object.prototype.pp_resetPositionLocal=function(){let e=h.create();return function(){this.pp_setPositionLocal(e)}}(),WL.Object.prototype.pp_resetRotation=function(){this.pp_resetRotationWorld()},WL.Object.prototype.pp_resetRotationWorld=function(){let e=f.create();return function(){this.pp_setRotationWorldQuat(e)}}(),WL.Object.prototype.pp_resetRotationLocal=function(){let e=f.create();return function(){this.pp_setRotationLocalQuat(e)}}(),WL.Object.prototype.pp_resetScale=function(){this.pp_resetScaleWorld()},WL.Object.prototype.pp_resetScaleWorld=function(){let e=h.create();return h.set(e,1,1,1),function(){this.pp_setScaleWorld(e)}}(),WL.Object.prototype.pp_resetScaleLocal=function(){let e=h.create();return h.set(e,1,1,1),function(){this.pp_setScaleLocal(e)}}(),WL.Object.prototype.pp_resetTransform=function(){this.pp_resetTransformWorld()},WL.Object.prototype.pp_resetTransformWorld=function(){this.pp_resetScaleWorld(),this.pp_resetRotationWorld(),this.pp_resetPositionWorld()},WL.Object.prototype.pp_resetTransformLocal=function(){this.pp_resetScaleLocal(),this.pp_resetRotationLocal(),this.pp_resetPositionLocal()},WL.Object.prototype.pp_translate=function(e){this.pp_translateWorld(e)},WL.Object.prototype.pp_translateWorld=function(e){this.translateWorld(e)},WL.Object.prototype.pp_translateLocal=function(e){this.translate(e)},WL.Object.prototype.pp_translateObject=function(e){this.translateObject(e)},WL.Object.prototype.pp_translateAxis=function(e,t){this.pp_translateAxisWorld(e,t)},WL.Object.prototype.pp_translateAxisWorld=function(){let e=h.create();return function(i,s){h.scale(e,s,i),this.pp_translateWorld(e)}}(),WL.Object.prototype.pp_translateAxisLocal=function(){let e=h.create();return function(i,s){h.scale(e,s,i),this.pp_translateLocal(e)}}(),WL.Object.prototype.pp_translateAxisObject=function(){let e=h.create();return function(i,s){h.scale(e,s,i),this.pp_translateObject(e)}}(),WL.Object.prototype.pp_rotate=function(e){this.pp_rotateWorld(e)},WL.Object.prototype.pp_rotateDegrees=function(e){this.pp_rotateWorldDegrees(e)},WL.Object.prototype.pp_rotateRadians=function(e){this.pp_rotateWorldRadians(e)},WL.Object.prototype.pp_rotateMatrix=function(e){this.pp_rotateWorldMatrix(e)},WL.Object.prototype.pp_rotateQuat=function(e){this.pp_rotateWorldQuat(e)},WL.Object.prototype.pp_rotateWorld=function(e){this.pp_rotateWorldDegrees(e)},WL.Object.prototype.pp_rotateWorldDegrees=function(){let e=f.create();return function(i){this._pp_degreesToQuaternion(i,e),this.pp_rotateWorldQuat(e)}}(),WL.Object.prototype.pp_rotateWorldRadians=function(){let e=h.create();return function(i){i.forEach(function(s,n,o){e[n]=this._pp_toDegrees(s)}.bind(this)),this.pp_rotateWorldDegrees(e)}}(),WL.Object.prototype.pp_rotateWorldMatrix=function(){let e=f.create();return function(i){f.fromMat3(e,i),f.normalize(e,e),this.pp_rotateWorldQuat(e)}}(),WL.Object.prototype.pp_rotateWorldQuat=function(){let e=f.create();return function(i){this.pp_getRotationWorldQuat(e),f.mul(e,i,e),f.normalize(e,e),this.pp_setRotationWorldQuat(e)}}(),WL.Object.prototype.pp_rotateLocal=function(e){this.pp_rotateLocalDegrees(e)},WL.Object.prototype.pp_rotateLocalDegrees=function(){let e=f.create();return function(i){this._pp_degreesToQuaternion(i,e),this.pp_rotateLocalQuat(e)}}(),WL.Object.prototype.pp_rotateLocalRadians=function(){let e=h.create();return function(i){i.forEach(function(s,n,o){e[n]=this._pp_toDegrees(s)}.bind(this)),this.pp_rotateLocalDegrees(e)}}(),WL.Object.prototype.pp_rotateLocalMatrix=function(){let e=f.create();return function(i){f.fromMat3(e,i),f.normalize(e,e),this.pp_rotateLocalQuat(e)}}(),WL.Object.prototype.pp_rotateLocalQuat=function(){let e=f.create();return function(i){this.pp_getRotationLocalQuat(e),f.mul(e,i,e),f.normalize(e,e),this.pp_setRotationLocalQuat(e)}}(),WL.Object.prototype.pp_rotateObject=function(e){this.pp_rotateObjectDegrees(e)},WL.Object.prototype.pp_rotateObjectDegrees=function(){let e=f.create();return function(i){this._pp_degreesToQuaternion(i,e),this.pp_rotateObjectQuat(e)}}(),WL.Object.prototype.pp_rotateObjectRadians=function(){let e=h.create();return function(i){i.forEach(function(s,n,o){e[n]=this._pp_toDegrees(s)}.bind(this)),this.pp_rotateObjectDegrees(e)}}(),WL.Object.prototype.pp_rotateObjectMatrix=function(){let e=f.create();return function(i){f.fromMat3(e,i),f.normalize(e,e),this.pp_rotateObjectQuat(e)}}(),WL.Object.prototype.pp_rotateObjectQuat=function(e){this.rotateObject(e)},WL.Object.prototype.pp_rotateAxis=function(e,t){this.pp_rotateAxisWorld(e,t)},WL.Object.prototype.pp_rotateAxisDegrees=function(e,t){this.pp_rotateAxisWorldDegrees(e,t)},WL.Object.prototype.pp_rotateAxisRadians=function(e,t){this.pp_rotateAxisWorldRadians(e,t)},WL.Object.prototype.pp_rotateAxisWorld=function(e,t){this.pp_rotateAxisWorldDegrees(e,t)},WL.Object.prototype.pp_rotateAxisWorldDegrees=function(e,t){this.pp_rotateAxisWorldRadians(w.toRadian(e),t)},WL.Object.prototype.pp_rotateAxisWorldRadians=function(){let e=f.create();return function(i,s){f.setAxisAngle(e,s,i),this.pp_rotateWorldQuat(e)}}(),WL.Object.prototype.pp_rotateAxisLocal=function(e,t){this.pp_rotateAxisLocalDegrees(e,t)},WL.Object.prototype.pp_rotateAxisLocalDegrees=function(e,t){this.pp_rotateAxisLocalRadians(w.toRadian(e),t)},WL.Object.prototype.pp_rotateAxisLocalRadians=function(){let e=f.create();return function(i,s){f.setAxisAngle(e,s,i),this.pp_rotateLocalQuat(e)}}(),WL.Object.prototype.pp_rotateAxisObject=function(e,t){this.pp_rotateAxisObjectDegrees(e,t)},WL.Object.prototype.pp_rotateAxisObjectDegrees=function(e,t){this.pp_rotateAxisObjectRadians(w.toRadian(e),t)},WL.Object.prototype.pp_rotateAxisObjectRadians=function(){let e=f.create();return function(i,s){f.setAxisAngle(e,s,i),this.pp_rotateObjectQuat(e)}}(),WL.Object.prototype.pp_rotateAround=function(e,t){this.pp_rotateAroundWorld(e,t)},WL.Object.prototype.pp_rotateAroundDegrees=function(e,t){this.pp_rotateAroundWorldDegrees(e,t)},WL.Object.prototype.pp_rotateAroundRadians=function(e,t){this.pp_rotateAroundWorldRadians(e,t)},WL.Object.prototype.pp_rotateAroundMatrix=function(e,t){this.pp_rotateAroundWorldMatrix(e,t)},WL.Object.prototype.pp_rotateAroundQuat=function(e,t){this.pp_rotateAroundWorldQuat(e,t)},WL.Object.prototype.pp_rotateAroundWorld=function(e,t){this.pp_rotateAroundWorldDegrees(e,t)},WL.Object.prototype.pp_rotateAroundWorldDegrees=function(){let e=f.create();return function(i,s){this._pp_degreesToQuaternion(i,e),this.pp_rotateAroundWorldQuat(e,s)}}(),WL.Object.prototype.pp_rotateAroundWorldRadians=function(){let e=h.create();return function(i,s){i.forEach(function(n,o,r){e[o]=this._pp_toDegrees(n)}.bind(this)),this.pp_rotateAroundWorldDegrees(e,s)}}(),WL.Object.prototype.pp_rotateAroundWorldMatrix=function(){let e=f.create();return function(i,s){f.fromMat3(e,i),f.normalize(e,e),this.pp_rotateAroundWorldQuat(e,s)}}(),WL.Object.prototype.pp_rotateAroundWorldQuat=function(){let e=h.create();return function(i,s){let n=f.getAxisAngle(e,i);this.pp_rotateAroundAxisWorldRadians(n,e,s)}}(),WL.Object.prototype.pp_rotateAroundLocal=function(e,t){this.pp_rotateAroundLocalDegrees(e,t)},WL.Object.prototype.pp_rotateAroundLocalDegrees=function(){let e=f.create();return function(i,s){this._pp_degreesToQuaternion(i,e),this.pp_rotateAroundLocalQuat(e,s)}}(),WL.Object.prototype.pp_rotateAroundLocalRadians=function(){let e=h.create();return function(i,s){i.forEach(function(n,o,r){e[o]=this._pp_toDegrees(n)}.bind(this)),this.pp_rotateAroundLocalDegrees(e,s)}}(),WL.Object.prototype.pp_rotateAroundLocalMatrix=function(){let e=f.create();return function(i,s){f.fromMat3(e,i),f.normalize(e,e),this.pp_rotateAroundLocalQuat(e,s)}}(),WL.Object.prototype.pp_rotateAroundLocalQuat=function(){let e=h.create();return function(i,s){let n=f.getAxisAngle(e,i);this.pp_rotateAroundAxisLocalRadians(n,e,s)}}(),WL.Object.prototype.pp_rotateAroundObject=function(e,t){this.pp_rotateAroundObjectDegrees(e,t)},WL.Object.prototype.pp_rotateAroundObjectDegrees=function(){let e=f.create();return function(i,s){this._pp_degreesToQuaternion(i,e),this.pp_rotateAroundObjectQuat(e,s)}}(),WL.Object.prototype.pp_rotateAroundObjectRadians=function(){let e=h.create();return function(i,s){i.forEach(function(n,o,r){e[o]=this._pp_toDegrees(n)}.bind(this)),this.pp_rotateAroundObjectDegrees(e,s)}}(),WL.Object.prototype.pp_rotateAroundObjectMatrix=function(){let e=f.create();return function(i,s){f.fromMat3(e,i),f.normalize(e,e),this.pp_rotateAroundObjectQuat(e,s)}}(),WL.Object.prototype.pp_rotateAroundObjectQuat=function(){let e=h.create();return function(i,s){let n=f.getAxisAngle(e,i);this.pp_rotateAroundAxisObjectRadians(n,e,s)}}(),WL.Object.prototype.pp_rotateAroundAxis=function(e,t,i){this.pp_rotateAroundAxisWorld(e,t,i)},WL.Object.prototype.pp_rotateAroundAxisDegrees=function(e,t,i){this.pp_rotateAroundAxisWorldDegrees(e,t,i)},WL.Object.prototype.pp_rotateAroundAxisRadians=function(e,t,i){this.pp_rotateAroundAxisWorldRadians(e,t,i)},WL.Object.prototype.pp_rotateAroundAxisWorld=function(e,t,i){this.pp_rotateAroundAxisWorldDegrees(e,t,i)},WL.Object.prototype.pp_rotateAroundAxisWorldDegrees=function(e,t,i){this.pp_rotateAroundAxisWorldRadians(w.toRadian(e),t,i)},WL.Object.prototype.pp_rotateAroundAxisWorldRadians=function(){let e=L.create(),t=L.create(),i=L.create(),s=f.create();return function(o,r,l){L.fromRotationTranslation(e,s,l),this.pp_getTransformWorldQuat(i),L.conjugate(t,e),L.mul(i,t,i),L.rotateAroundAxis(e,e,r,o),L.mul(i,e,i),this.pp_setTransformWorldQuat(i)}}(),WL.Object.prototype.pp_rotateAroundAxisLocal=function(e,t,i){this.pp_rotateAroundAxisLocalDegrees(e,t,i)},WL.Object.prototype.pp_rotateAroundAxisLocalDegrees=function(e,t,i){this.pp_rotateAroundAxisLocalRadians(w.toRadian(e),t,i)},WL.Object.prototype.pp_rotateAroundAxisLocalRadians=function(){let e=h.create(),t=h.create();return function(s,n,o){this.pp_convertPositionLocalToWorld(o,e),this.pp_convertDirectionLocalToWorld(n,t),this.pp_rotateAroundAxisWorldRadians(s,t,e)}}(),WL.Object.prototype.pp_rotateAroundAxisObject=function(e,t,i){this.pp_rotateAroundAxisObjectDegrees(e,t,i)},WL.Object.prototype.pp_rotateAroundAxisObjectDegrees=function(e,t,i){this.pp_rotateAroundAxisObjectRadians(w.toRadian(e),t,i)},WL.Object.prototype.pp_rotateAroundAxisObjectRadians=function(){let e=h.create(),t=h.create();return function(s,n,o){this.pp_convertPositionObjectToWorld(o,e),this.pp_convertDirectionObjectToWorld(n,t),this.pp_rotateAroundAxisWorldRadians(s,t,e)}}(),WL.Object.prototype.pp_scaleObject=function(){let e=h.create();return function(i){isNaN(i)?this.scale(i):(h.set(e,i,i,i),this.scale(e))}}(),WL.Object.prototype.pp_lookAt=function(e,t){this.pp_lookAtWorld(e,t)},WL.Object.prototype.pp_lookAtWorld=function(){let e=h.create();return function(i,s){this.pp_getPositionWorld(e),h.sub(e,i,e),this.pp_lookToWorld(e,s)}}(),WL.Object.prototype.pp_lookAtLocal=function(){let e=h.create();return function(i,s){this.pp_getPositionLocal(e),h.sub(e,i,e),this.pp_lookToLocal(e,s)}}(),WL.Object.prototype.pp_lookTo=function(e,t){this.pp_lookToWorld(e,t)},WL.Object.prototype.pp_lookToWorld=function(){let e=h.create();return function(i,s=this.pp_getUpWorld(e)){this.pp_setForwardWorld(i,s)}}(),WL.Object.prototype.pp_lookToLocal=function(){let e=h.create();return function(i,s=this.pp_getUpLocal(e)){this.pp_setForwardLocal(i,s)}}(),WL.Object.prototype.pp_setParent=function(){let e=h.create(),t=f.create(),i=h.create();return function(n,o=!0){o?(this.pp_getPositionWorld(e),this.pp_getRotationWorldQuat(t),this.pp_getScaleWorld(i),this.parent=n,this.pp_setScaleWorld(i),this.pp_setRotationWorldQuat(t),this.pp_setPositionWorld(e)):this.parent=n}}(),WL.Object.prototype.pp_getParent=function(){return this.parent},WL.Object.prototype.pp_convertPositionObjectToWorld=function(){let e=b.create();return function(i,s=h.create()){return this.pp_getTransformWorldMatrix(e),h.transformMat4(s,i,e),s}}(),WL.Object.prototype.pp_convertDirectionObjectToWorld=function(){let e=f.create();return function(i,s=h.create()){return this.pp_getRotationWorldQuat(e),h.transformQuat(s,i,e),s}}(),WL.Object.prototype.pp_convertPositionWorldToObject=function(){let e=b.create();return function(i,s=h.create()){return this.pp_getTransformWorldMatrix(e),b.invert(e,e),h.transformMat4(s,i,e),s}}(),WL.Object.prototype.pp_convertDirectionWorldToObject=function(){let e=f.create();return function(i,s=h.create()){return this.pp_getRotationWorldQuat(e),f.conjugate(e,e),h.transformQuat(s,i,e),s}}(),WL.Object.prototype.pp_convertPositionLocalToWorld=function(e,t=h.create()){return this.pp_getParent()?this.pp_getParent().pp_convertPositionObjectToWorld(e,t):h.copy(t,e),t},WL.Object.prototype.pp_convertDirectionLocalToWorld=function(e,t=h.create()){return this.pp_getParent()?this.pp_getParent().pp_convertDirectionObjectToWorld(e,t):h.copy(t,e),t},WL.Object.prototype.pp_convertPositionWorldToLocal=function(e,t=h.create()){return this.pp_getParent()?this.pp_getParent().pp_convertPositionWorldToObject(e,t):h.copy(t,e),t},WL.Object.prototype.pp_convertDirectionWorldToLocal=function(e,t=h.create()){return this.pp_getParent()?this.pp_getParent().pp_convertDirectionWorldToObject(e,t):h.copy(t,e),t},WL.Object.prototype.pp_convertPositionObjectToLocal=function(e,t=h.create()){return this.pp_convertPositionObjectToWorld(e,t),this.pp_convertPositionWorldToLocal(t,t),t},WL.Object.prototype.pp_convertDirectionObjectToLocal=function(e,t=h.create()){return this.pp_convertDirectionObjectToWorld(e,t),this.pp_convertDirectionWorldToLocal(t,t),t},WL.Object.prototype.pp_convertPositionLocalToObject=function(e,t=h.create()){return this.pp_convertPositionLocalToWorld(e,t),this.pp_convertPositionWorldToObject(t,t),t},WL.Object.prototype.pp_convertDirectionLocalToObject=function(e,t=h.create()){return this.pp_convertDirectionLocalToWorld(e,t),this.pp_convertDirectionWorldToObject(t,t),t},WL.Object.prototype.pp_convertTransformObjectToWorld=function(e,t){return this.pp_convertTransformObjectToWorldMatrix(e,t)},WL.Object.prototype.pp_convertTransformObjectToWorldMatrix=function(){let e=b.create(),t=h.create(),i=h.create(),s=h.create(),n=h.create();return h.set(n,1,1,1),function(r,l=b.create()){return this.pp_getTransformWorldMatrix(e),this.pp_hasUniformScaleWorld()?b.mul(l,e,r):(h.set(t,r[12],r[13],r[14]),this.pp_convertPositionObjectToWorld(t,t),b.getScaling(i,e),h.divide(s,n,i),b.scale(e,e,s),b.mul(l,e,r),b.scale(l,l,i),l[12]=t[0],l[13]=t[1],l[14]=t[2],l[15]=1),l}}(),WL.Object.prototype.pp_convertTransformObjectToWorldQuat=function(){let e=h.create(),t=f.create();return function(s,n=L.create()){return this.pp_getRotationWorldQuat(t),f.mul(t,t,s),L.getTranslation(e,s),this.pp_convertPositionObjectToWorld(e,e),L.fromRotationTranslation(n,t,e),n}}(),WL.Object.prototype.pp_convertTransformWorldToObject=function(e,t){return this.pp_convertTransformWorldToObjectMatrix(e,t)},WL.Object.prototype.pp_convertTransformWorldToObjectMatrix=function(){let e=b.create(),t=h.create(),i=h.create(),s=h.create(),n=h.create();return h.set(n,1,1,1),function(r,l=b.create()){return this.pp_getTransformWorldMatrix(e),this.pp_hasUniformScaleWorld()?(b.invert(e,e),b.mul(l,e,r)):(h.set(t,r[12],r[13],r[14]),this.pp_convertPositionWorldToObject(t,t),b.getScaling(i,e),h.divide(s,n,i),b.scale(e,e,s),b.invert(e,e),b.mul(l,e,r),b.scale(l,l,s),l[12]=t[0],l[13]=t[1],l[14]=t[2],l[15]=1),l}}(),WL.Object.prototype.pp_convertTransformWorldToObjectQuat=function(){let e=h.create(),t=f.create();return function(s,n=L.create()){return this.pp_getRotationWorldQuat(t),f.conjugate(t,t),f.mul(t,t,s),L.getTranslation(e,s),this.pp_convertPositionWorldToObject(e,e),L.fromRotationTranslation(n,t,e),n}}(),WL.Object.prototype.pp_convertTransformLocalToWorld=function(e,t){return this.pp_convertTransformLocalToWorldMatrix(e,t)},WL.Object.prototype.pp_convertTransformLocalToWorldMatrix=function(e,t=b.create()){return this.pp_getParent()?this.pp_getParent().pp_convertTransformObjectToWorldMatrix(e,t):b.copy(t,e),t},WL.Object.prototype.pp_convertTransformLocalToWorldQuat=function(e,t=L.create()){return this.pp_getParent()?this.pp_getParent().pp_convertTransformObjectToWorldQuat(e,t):L.copy(t,e),t},WL.Object.prototype.pp_convertTransformWorldToLocal=function(e,t){return this.pp_convertTransformWorldToLocalMatrix(e,t)},WL.Object.prototype.pp_convertTransformWorldToLocalMatrix=function(e,t=b.create()){return this.pp_getParent()?this.pp_getParent().pp_convertTransformWorldToObjectMatrix(e,t):b.copy(t,e),t},WL.Object.prototype.pp_convertTransformWorldToLocalQuat=function(e,t=L.create()){return this.pp_getParent()?this.pp_getParent().pp_convertTransformWorldToObjectQuat(e,t):L.copy(t,e),t},WL.Object.prototype.pp_convertTransformObjectToLocal=function(e,t){return this.pp_convertTransformObjectToLocalMatrix(e,t)},WL.Object.prototype.pp_convertTransformObjectToLocalMatrix=function(e,t=b.create()){return this.pp_convertTransformObjectToWorldMatrix(e,t),this.pp_convertTransformWorldToLocalMatrix(t,t),t},WL.Object.prototype.pp_convertTransformObjectToLocalQuat=function(e,t=L.create()){return this.pp_convertTransformObjectToWorldQuat(e,t),this.pp_convertTransformWorldToLocalQuat(t,t),t},WL.Object.prototype.pp_convertTransformLocalToObject=function(e,t){return this.pp_convertTransformLocalToObjectMatrix(e,t)},WL.Object.prototype.pp_convertTransformLocalToObjectMatrix=function(e,t=b.create()){return this.pp_convertTransformLocalToWorldMatrix(e,t),this.pp_convertTransformWorldToObjectMatrix(t,t),t},WL.Object.prototype.pp_convertTransformLocalToObjectQuat=function(e,t=L.create()){return this.pp_convertTransformLocalToWorldQuat(e,t),this.pp_convertTransformWorldToObjectQuat(t,t),t},WL.Object.prototype.pp_addComponent=function(e,t,i=null){let s=null;return typeof t==\"boolean\"?(s={},s.active=t):(s=t,i!=null&&(s==null&&(s={}),s.active=i)),this.addComponent(e,s)},WL.Object.prototype.pp_getComponent=function(e,t){return this.getComponent(e,t)},WL.Object.prototype.pp_getComponents=function(e){return this.getComponents(e)},WL.Object.prototype.pp_getComponentHierarchy=function(e,t){let i=this.getComponent(e,t);return i||(i=this.pp_getComponentDescendants(e,t)),i},WL.Object.prototype.pp_getComponentDescendants=function(e,t){let i=null,s=this.children;for(;!i&&s.length>0;){let n=s.shift();if(i=n.getComponent(e,t),!i)for(let o of n.children)s.push(o)}return i},WL.Object.prototype.pp_getComponentChildren=function(e,t){let i=null,s=this.children;for(let n of s)if(i=n.getComponent(e,t),i)break;return i},WL.Object.prototype.pp_getComponentsHierarchy=function(e){let t=this.getComponents(e),i=this.pp_getComponentsDescendants(e);for(let s of i)t.push(s);return t},WL.Object.prototype.pp_getComponentsDescendants=function(e){let t=[],i=this.children;for(;i.length>0;){let s=i.shift(),n=s.getComponents(e);for(let o of n)t.push(o);for(let o of s.children)i.push(o)}return t},WL.Object.prototype.pp_getComponentsChildren=function(e){let t=[],i=this.children;for(let s of i){let n=s.getComponents(e);for(let o of n)t.push(o)}return t},WL.Object.prototype.pp_setActive=function(e,t=!0){t?this.pp_setActiveHierarchy(e):this.active=e},WL.Object.prototype.pp_setActiveSelf=function(e){this.pp_setActive(e,!1)},WL.Object.prototype.pp_setActiveHierarchy=function(e){this.active=e,this.pp_setActiveDescendants(e)},WL.Object.prototype.pp_setActiveDescendants=function(e){let t=this.children;for(;t.length>0;){let i=t.shift();i.active=e;for(let s of i.children)t.push(s)}},WL.Object.prototype.pp_setActiveChildren=function(e){let t=this.children;for(let i of t)i.active=e},WL.Object.prototype.pp_hasUniformScale=function(){return this.pp_hasUniformScaleWorld()},WL.Object.prototype.pp_hasUniformScaleWorld=function(){let e=h.create();return function(){return this.pp_getScaleWorld(e),Math.abs(e[0]-e[1])<this._pp_epsilon&&Math.abs(e[1]-e[2])<this._pp_epsilon&&Math.abs(e[0]-e[2])<this._pp_epsilon}}(),WL.Object.prototype.pp_hasUniformScaleLocal=function(){let e=h.create();return function(){return this.pp_getScaleLocal(e),Math.abs(e[0]-e[1])<this._pp_epsilon&&Math.abs(e[1]-e[2])<this._pp_epsilon&&Math.abs(e[0]-e[2])<this._pp_epsilon}}(),PP.CloneParams=class{constructor(){this.myIgnoreNonCloneable=!1,this.myIgnoreComponents=!1,this.myIgnoreChildren=!1,this.myComponentsToIgnore=[],this.myComponentsToInclude=[],this.myIgnoreComponentCallback=null,this.myChildrenToIgnore=[],this.myChildrenToInclude=[],this.myIgnoreChildCallback=null,this.myDeepCloneParams=new PP.DeepCloneParams,this.myExtraData=new Map}},PP.DeepCloneParams=class{constructor(){this._myDeepCloneObject=!1,this._myOverrideDeepCloneComponentMap=new Map,this._myOverrideDeepCloneComponentVariableMap=new Map}setDeepCloneObject(t){this._myDeepCloneObject=t}setDeepCloneComponent(t,i){this._myOverrideDeepCloneComponentMap.set(t,i)}setDeepCloneComponentVariable(t,i,s){let n=null;this._myOverrideDeepCloneComponentVariableMap.has(t)||this._myOverrideDeepCloneComponentVariableMap.set(t,new Map),n=this._myOverrideDeepCloneComponentVariableMap.get(t),n.set(i,s)}isDeepCloneComponent(t){let i=this._myOverrideDeepCloneComponentMap.get(t);return i??this._myDeepCloneObject}isDeepCloneComponentVariable(t,i){let s=this._myOverrideDeepCloneComponentVariableMap.get(t);if(s!=null){let n=s.get(i);if(n!=null)return n}return this.isDeepCloneComponent(t)}},WL.Object.prototype.pp_clone=function(){let e=h.create(),t=L.create();return function(s=new PP.CloneParams){let n=null;if(this.pp_isCloneable(s)){let o=[];o.push([this.parent,this]);let r=[];for(;o.length>0;){let c=o.shift(),a=c[0],m=c[1],y=WL.scene.addObject(a);if(y.name=m.name,y.pp_setScaleLocal(m.pp_getScaleLocal(e)),y.pp_setTransformLocalQuat(m.pp_getTransformLocalQuat(t)),s.myIgnoreComponents||r.push([m,y]),!s.myIgnoreChildren)for(let p of m.children){let d=!1;s.myChildrenToInclude.length>0?d=s.myChildrenToInclude.find(g=>g.pp_equals(p))!=null:d=s.myChildrenToIgnore.find(g=>g.pp_equals(p))==null,d&&s.myIgnoreChildCallback!=null&&(d=!s.myIgnoreChildCallback(p)),d&&o.push([y,p])}n==null&&(n=y)}let l=[];for(;r.length>0;){let c=r.shift(),a=c[0],m=c[1],y=a.pp_getComponents();for(let p of y)if(p.pp_clone!=null){let d=!1;s.myComponentsToInclude.length>0?d=s.myComponentsToInclude.indexOf(p.type)!=-1:d=s.myComponentsToIgnore.indexOf(p.type)==-1,d&&s.myIgnoreComponentCallback!=null&&(d=!s.myIgnoreComponentCallback(p)),d&&l.push([p,m])}}let u=[];for(;l.length>0;){let c=l.shift(),a=c[0],m=c[1],y=a.pp_clone(m,s.myDeepCloneParams,s.myExtraData);a.pp_clonePostProcess!=null&&u.push([a,y])}for(;l.length>0;){let c=l.shift(),a=c[0],m=c[1];a.pp_clonePostProcess(m,s.myDeepCloneParams,s.myExtraData)}}return n}}(),WL.Object.prototype.pp_isCloneable=function(e=new PP.CloneParams){if(e.myIgnoreNonCloneable||e.myIgnoreComponents)return!0;let t=!0,i=[];for(i.push(this);t&&i.length>0;){let s=i.shift(),n=this.pp_getComponents();for(let o of n){let r=!1;if(e.myComponentsToInclude.length>0?r=e.myComponentsToInclude.indexOf(o.type)!=-1:r=e.myComponentsToIgnore.indexOf(o.type)==-1,r&&e.myIgnoreComponentCallback!=null&&(r=!e.myIgnoreComponentCallback(o)),r&&o.pp_clone==null){t=!1;break}}if(t&&!e.myIgnoreChildren)for(let o of s.children){let r=!1;e.myChildrenToInclude.length>0?r=e.myChildrenToInclude.find(l=>l.pp_equals(o))!=null:r=e.myChildrenToIgnore.find(l=>l.pp_equals(o))==null,r&&e.myIgnoreChildCallback!=null&&(r=!e.myIgnoreChildCallback(o)),r&&i.push(o)}}return t},WL.Object.prototype.pp_addObject=function(){return WL.scene.addObject(this)},WL.Object.prototype.pp_getName=function(){return this.name},WL.Object.prototype.pp_setName=function(e){this.name=e},WL.Object.prototype.pp_getID=function(){return this.objectId},WL.Object.prototype.pp_getHierarchy=function(){let e=this.pp_getDescendants();return e.unshift(this),e},WL.Object.prototype.pp_getDescendants=function(){let e=[],t=this.children;for(;t.length>0;){let i=t.shift();e.push(i);for(let s of i.children)t.push(s)}return e},WL.Object.prototype.pp_getChildren=function(){return this.children},WL.Object.prototype.pp_markDirty=function(){return this.setDirty()},WL.Object.prototype.pp_equals=function(e){return this.equals(e)},WL.Object.prototype.pp_destroy=function(){return this.destroy()},WL.Object.prototype.pp_reserveObjects=function(e){let t=this.pp_getComponentAmountMap();this._pp_reserveObjects(e,t)},WL.Object.prototype.pp_reserveObjectsHierarchy=function(e){let t=this.pp_getComponentAmountMapHierarchy();this._pp_reserveObjects(e,t)},WL.Object.prototype.pp_reserveObjectsDescendants=function(e){let t=this.pp_getComponentAmountMapDescendants();this._pp_reserveObjects(e,t)},WL.Object.prototype.pp_reserveObjectsChildren=function(e){let t=this.pp_getComponentAmountMapChildren();this._pp_reserveObjects(e,t)},WL.Object.prototype.pp_getComponentAmountMap=function(e=new Map){let t=e.get(\"object\");t==null&&(t=0),t+=1,e.set(\"object\",t);let i=this.pp_getComponents();for(let s of i){let n=s.type,o=e.get(n);o==null&&(o=0),o+=1,e.set(n,o)}return e},WL.Object.prototype.pp_getComponentAmountMapHierarchy=function(e=new Map){let t=this.pp_getHierarchy();for(let i of t)i.pp_getComponentAmountMap(e);return e},WL.Object.prototype.pp_getComponentAmountMapDescendants=function(e=new Map){let t=this.pp_getDescendants();for(let i of t)i.pp_getComponentAmountMap(e);return e},WL.Object.prototype.pp_getComponentAmountMapChildren=function(e=new Map){let t=this.children;for(let i of t)i.pp_getComponentAmountMap(e);return e},WL.Object.prototype._pp_epsilon=1e-6,WL.Object.prototype._pp_quaternionToRadians=function(){let e=V.create();return function(i,s=h.create()){return V.fromQuat(e,i),s[1]=Math.asin(-this._pp_clamp(e[2],-1,1)),Math.abs(e[2])<.9999999?(s[0]=Math.atan2(e[5],e[8]),s[2]=Math.atan2(e[1],e[0])):(s[0]=0,s[2]=Math.atan2(-e[3],e[4])),s}}(),WL.Object.prototype._pp_degreesToQuaternion=function(e,t=f.create()){return f.fromEuler(t,e[0],e[1],e[2]),t},WL.Object.prototype._pp_toDegrees=function(e){return e*(180/Math.PI)},WL.Object.prototype._pp_clamp=function(e,t,i){return Math.min(Math.max(e,t),i)},WL.Object.prototype._pp_reserveObjects=function(e,t){let i=t.get(\"object\")*e;t.delete(\"object\");let s={};for(let[n,o]of t.entries())s[n]=o*e;WL.scene.reserveObjects(i,s)},WL.Object.prototype._pp_setAxes=function(){let e=[h.create(),h.create(),h.create()],t=[[1,-1,1],[1,1,-1],[-1,1,-1]],i=h.create(),s=h.create(),n=h.create(),o=h.create(),r=h.create(),l=V.create(),u=f.create();return function(a,m,y){let p=a[m[0]],d=a[m[1]],g=a[m[2]];if(p==null)return;let _=!1;d!=null&&h.angle(p,d)>this._pp_epsilon&&(_=!0);let P=!1;if(g!=null&&h.angle(p,g)>this._pp_epsilon&&(P=!0),_||P){let T=null,S=null,v=null;_?(T=d,S=1,v=2):(T=g,S=2,v=1);let x=t[m[0]];h.cross(e[v],p,T),h.scale(e[v],e[v],x[m[v]]),h.cross(e[S],p,e[v]),h.scale(e[S],e[S],x[m[S]]),h.cross(e[0],e[1],e[2]),h.scale(e[0],e[0],x[m[0]]),h.normalize(i,e[m.pp_findIndexEqual(0)]),h.normalize(s,e[m.pp_findIndexEqual(1)]),h.normalize(n,e[m.pp_findIndexEqual(2)]),V.set(l,i[0],i[1],i[2],s[0],s[1],s[2],n[0],n[1],n[2]),f.fromMat3(u,l),f.normalize(u,u),y?this.pp_setRotationLocalQuat(u):this.pp_setRotationWorldQuat(u)}else{m[0]==0?y?this.pp_getLeftLocal(o):this.pp_getLeftWorld(o):m[0]==1?y?this.pp_getUpLocal(o):this.pp_getUpWorld(o):y?this.pp_getForwardLocal(o):this.pp_getForwardWorld(o);let T=h.angle(p,o);T!=0&&(h.cross(r,o,p),h.normalize(r,r),f.setAxisAngle(u,r,T),y?this.pp_rotateLocalQuat(u):this.pp_rotateWorldQuat(u))}}}();for(let e in WL.Object.prototype){let t=[\"pp_\",\"_pp_\"],i=!1;for(let s of t)if(e.startsWith(s)){i=!0;break}i&&Object.defineProperty(WL.Object.prototype,e,{enumerable:!1})}}});var He=C(()=>{Math.PP_EPSILON_NUMBER=1e-5;Math.PP_EPSILON_ANGLE=1e-4;Math.pp_clamp=function(e,t,i){let s=t??-Number.MAX_VALUE,n=i??Number.MAX_VALUE,o=Math.min(s,n),r=Math.max(s,n);return Math.min(Math.max(e,o),r)};Math.pp_sign=function(e,t=1){let i=Math.sign(e);return i==0&&(i=Math.sign(t)),i};Math.pp_toDegrees=function(e){return e*(180/Math.PI)};Math.pp_toRadians=function(e){return e*(Math.PI/180)};Math.pp_roundDecimal=function(e,t){let i=Math.pow(10,t);return e=Math.round(e*i)/i,e};Math.pp_mapToRange=function(e,t,i,s,n){if(t==i)return s;let o=Math.pp_clamp(e,t,i);if(o==t)return s;if(o==i)return n;let r=s+(n-s)/(i-t)*(o-t);return Math.pp_clamp(r,s,n)};Math.pp_random=function(e=0,t=1){return Math.random()*(t-e)+e};Math.pp_randomInt=function(e,t){let i=Math.min(e,t),s=Math.max(e,t);return Math.floor(Math.random()*(s-i+1)+i)};Math.pp_randomBool=function(){return Math.pp_randomInt(0,1)==0};Math.pp_randomSign=function(){return Math.random()<.5?1:-1};Math.pp_randomPick=function(...e){let t=null;if(e.length>0)if(e.length==1&&e[0].length!=null){if(e[0].length>0){let i=Math.pp_randomInt(0,e[0].length-1);t=e[0][i]}}else{let i=Math.pp_randomInt(0,e.length-1);t=e[i]}return t};Math.pp_lerp=function(e,t,i){return i<=0?e:i>=1?t:i*(t-e)+e};PP.EasingFunction={linear:e=>e,easeIn:e=>e*e*e,easeOut:e=>(e-1)*(e-1)*(e-1)+1,easeInOut:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1};Math.pp_interpolate=function(e,t,i,s=PP.EasingFunction.linear){let n=s(i);return Math.pp_lerp(e,t,n)};Math.pp_angleDistance=function(e,t){return Math.pp_angleDistanceDegrees(e,t)};Math.pp_angleDistanceDegrees=function(e,t){return Math.abs(Math.pp_angleDistanceSignedDegrees(e,t))};Math.pp_angleDistanceRadians=function(e,t){return Math.abs(Math.pp_angleDistanceSignedRadians(e,t))};Math.pp_angleDistanceSigned=function(e,t){return Math.pp_angleDistanceSignedDegrees(e,t)};Math.pp_angleDistanceSignedDegrees=function(e,t){let i=Math.pp_angleClampDegrees(e,!0),s=Math.pp_angleClampDegrees(t,!0),n=s-i;return s-i>180?n=s-i-360:s-i<-180&&(n=s-i+360),n};Math.pp_angleDistanceSignedRadians=function(e,t){return Math.pp_toRadians(Math.pp_angleDistanceSignedDegrees(Math.pp_toDegrees(e),Math.pp_toDegrees(t)))};Math.pp_angleClamp=function(e,t=!1){return Math.pp_angleClampDegrees(e,t)};Math.pp_angleClampDegrees=function(e,t=!1){let i=e%360;return i<0&&(i+=360),t||i>180&&(i-=360),i};Math.pp_angleClampRadians=function(e,t=!1){return Math.pp_toRadians(Math.pp_angleClampDegrees(Math.pp_toDegrees(e),t))};Math.pp_isInsideAngleRange=function(e,t,i,s=!1){return Math.pp_isInsideAngleRangeDegrees(e,t,i,s)};Math.pp_isInsideAngleRangeDegrees=function(e,t,i,s=!1){let n=!1,o=Math.pp_angleClampDegrees(e,!0),r=Math.pp_angleClampDegrees(t,!0),l=Math.pp_angleClampDegrees(i,!0);if(s&&Math.pp_angleDistanceSignedDegrees(r,l)<0){let u=r;r=l,l=u}return r<l?n=o>=r&&o<=l:n=o>=r||o<=l,n};Math.pp_isInsideAngleRangeRadians=function(e,t,i,s=!1){return Math.pp_isInsideAngleRangeDegrees(Math.pp_toDegrees(e),Math.pp_toDegrees(t),Math.pp_toDegrees(i),s)};for(let e in Math){let t=[\"pp_\",\"_pp_\"],i=!1;for(let s of t)if(e.startsWith(s)){i=!0;break}i&&Object.defineProperty(Math,e,{enumerable:!1})}});var ct=C(yt=>{(function(){\"use strict\";var e=function(){this.init()};e.prototype={init:function(){var a=this||t;return a._counter=1e3,a._html5AudioPool=[],a.html5PoolSize=10,a._codecs={},a._howls=[],a._muted=!1,a._volume=1,a._canPlayEvent=\"canplaythrough\",a._navigator=typeof window<\"u\"&&window.navigator?window.navigator:null,a.masterGain=null,a.noAudio=!1,a.usingWebAudio=!0,a.autoSuspend=!0,a.ctx=null,a.autoUnlock=!0,a._setup(),a},volume:function(a){var m=this||t;if(a=parseFloat(a),m.ctx||c(),typeof a<\"u\"&&a>=0&&a<=1){if(m._volume=a,m._muted)return m;m.usingWebAudio&&m.masterGain.gain.setValueAtTime(a,t.ctx.currentTime);for(var y=0;y<m._howls.length;y++)if(!m._howls[y]._webAudio)for(var p=m._howls[y]._getSoundIds(),d=0;d<p.length;d++){var g=m._howls[y]._soundById(p[d]);g&&g._node&&(g._node.volume=g._volume*a)}return m}return m._volume},mute:function(a){var m=this||t;m.ctx||c(),m._muted=a,m.usingWebAudio&&m.masterGain.gain.setValueAtTime(a?0:m._volume,t.ctx.currentTime);for(var y=0;y<m._howls.length;y++)if(!m._howls[y]._webAudio)for(var p=m._howls[y]._getSoundIds(),d=0;d<p.length;d++){var g=m._howls[y]._soundById(p[d]);g&&g._node&&(g._node.muted=a?!0:g._muted)}return m},stop:function(){for(var a=this||t,m=0;m<a._howls.length;m++)a._howls[m].stop();return a},unload:function(){for(var a=this||t,m=a._howls.length-1;m>=0;m--)a._howls[m].unload();return a.usingWebAudio&&a.ctx&&typeof a.ctx.close<\"u\"&&(a.ctx.close(),a.ctx=null,c()),a},codecs:function(a){return(this||t)._codecs[a.replace(/^x-/,\"\")]},_setup:function(){var a=this||t;if(a.state=a.ctx&&a.ctx.state||\"suspended\",a._autoSuspend(),!a.usingWebAudio)if(typeof Audio<\"u\")try{var m=new Audio;typeof m.oncanplaythrough>\"u\"&&(a._canPlayEvent=\"canplay\")}catch{a.noAudio=!0}else a.noAudio=!0;try{var m=new Audio;m.muted&&(a.noAudio=!0)}catch{}return a.noAudio||a._setupCodecs(),a},_setupCodecs:function(){var a=this||t,m=null;try{m=typeof Audio<\"u\"?new Audio:null}catch{return a}if(!m||typeof m.canPlayType!=\"function\")return a;var y=m.canPlayType(\"audio/mpeg;\").replace(/^no$/,\"\"),p=a._navigator?a._navigator.userAgent:\"\",d=p.match(/OPR\\/([0-6].)/g),g=d&&parseInt(d[0].split(\"/\")[1],10)<33,_=p.indexOf(\"Safari\")!==-1&&p.indexOf(\"Chrome\")===-1,P=p.match(/Version\\/(.*?) /),T=_&&P&&parseInt(P[1],10)<15;return a._codecs={mp3:!!(!g&&(y||m.canPlayType(\"audio/mp3;\").replace(/^no$/,\"\"))),mpeg:!!y,opus:!!m.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/,\"\"),ogg:!!m.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/,\"\"),oga:!!m.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/,\"\"),wav:!!(m.canPlayType('audio/wav; codecs=\"1\"')||m.canPlayType(\"audio/wav\")).replace(/^no$/,\"\"),aac:!!m.canPlayType(\"audio/aac;\").replace(/^no$/,\"\"),caf:!!m.canPlayType(\"audio/x-caf;\").replace(/^no$/,\"\"),m4a:!!(m.canPlayType(\"audio/x-m4a;\")||m.canPlayType(\"audio/m4a;\")||m.canPlayType(\"audio/aac;\")).replace(/^no$/,\"\"),m4b:!!(m.canPlayType(\"audio/x-m4b;\")||m.canPlayType(\"audio/m4b;\")||m.canPlayType(\"audio/aac;\")).replace(/^no$/,\"\"),mp4:!!(m.canPlayType(\"audio/x-mp4;\")||m.canPlayType(\"audio/mp4;\")||m.canPlayType(\"audio/aac;\")).replace(/^no$/,\"\"),weba:!!(!T&&m.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/,\"\")),webm:!!(!T&&m.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/,\"\")),dolby:!!m.canPlayType('audio/mp4; codecs=\"ec-3\"').replace(/^no$/,\"\"),flac:!!(m.canPlayType(\"audio/x-flac;\")||m.canPlayType(\"audio/flac;\")).replace(/^no$/,\"\")},a},_unlockAudio:function(){var a=this||t;if(!(a._audioUnlocked||!a.ctx)){a._audioUnlocked=!1,a.autoUnlock=!1,!a._mobileUnloaded&&a.ctx.sampleRate!==44100&&(a._mobileUnloaded=!0,a.unload()),a._scratchBuffer=a.ctx.createBuffer(1,1,22050);var m=function(y){for(;a._html5AudioPool.length<a.html5PoolSize;)try{var p=new Audio;p._unlocked=!0,a._releaseHtml5Audio(p)}catch{a.noAudio=!0;break}for(var d=0;d<a._howls.length;d++)if(!a._howls[d]._webAudio)for(var g=a._howls[d]._getSoundIds(),_=0;_<g.length;_++){var P=a._howls[d]._soundById(g[_]);P&&P._node&&!P._node._unlocked&&(P._node._unlocked=!0,P._node.load())}a._autoResume();var T=a.ctx.createBufferSource();T.buffer=a._scratchBuffer,T.connect(a.ctx.destination),typeof T.start>\"u\"?T.noteOn(0):T.start(0),typeof a.ctx.resume==\"function\"&&a.ctx.resume(),T.onended=function(){T.disconnect(0),a._audioUnlocked=!0,document.removeEventListener(\"touchstart\",m,!0),document.removeEventListener(\"touchend\",m,!0),document.removeEventListener(\"click\",m,!0),document.removeEventListener(\"keydown\",m,!0);for(var S=0;S<a._howls.length;S++)a._howls[S]._emit(\"unlock\")}};return document.addEventListener(\"touchstart\",m,!0),document.addEventListener(\"touchend\",m,!0),document.addEventListener(\"click\",m,!0),document.addEventListener(\"keydown\",m,!0),a}},_obtainHtml5Audio:function(){var a=this||t;if(a._html5AudioPool.length)return a._html5AudioPool.pop();var m=new Audio().play();return m&&typeof Promise<\"u\"&&(m instanceof Promise||typeof m.then==\"function\")&&m.catch(function(){console.warn(\"HTML5 Audio pool exhausted, returning potentially locked audio object.\")}),new Audio},_releaseHtml5Audio:function(a){var m=this||t;return a._unlocked&&m._html5AudioPool.push(a),m},_autoSuspend:function(){var a=this;if(!(!a.autoSuspend||!a.ctx||typeof a.ctx.suspend>\"u\"||!t.usingWebAudio)){for(var m=0;m<a._howls.length;m++)if(a._howls[m]._webAudio){for(var y=0;y<a._howls[m]._sounds.length;y++)if(!a._howls[m]._sounds[y]._paused)return a}return a._suspendTimer&&clearTimeout(a._suspendTimer),a._suspendTimer=setTimeout(function(){if(!!a.autoSuspend){a._suspendTimer=null,a.state=\"suspending\";var p=function(){a.state=\"suspended\",a._resumeAfterSuspend&&(delete a._resumeAfterSuspend,a._autoResume())};a.ctx.suspend().then(p,p)}},3e4),a}},_autoResume:function(){var a=this;if(!(!a.ctx||typeof a.ctx.resume>\"u\"||!t.usingWebAudio))return a.state===\"running\"&&a.ctx.state!==\"interrupted\"&&a._suspendTimer?(clearTimeout(a._suspendTimer),a._suspendTimer=null):a.state===\"suspended\"||a.state===\"running\"&&a.ctx.state===\"interrupted\"?(a.ctx.resume().then(function(){a.state=\"running\";for(var m=0;m<a._howls.length;m++)a._howls[m]._emit(\"resume\")}),a._suspendTimer&&(clearTimeout(a._suspendTimer),a._suspendTimer=null)):a.state===\"suspending\"&&(a._resumeAfterSuspend=!0),a}};var t=new e,i=function(a){var m=this;if(!a.src||a.src.length===0){console.error(\"An array of source files must be passed with any new Howl.\");return}m.init(a)};i.prototype={init:function(a){var m=this;return t.ctx||c(),m._autoplay=a.autoplay||!1,m._format=typeof a.format!=\"string\"?a.format:[a.format],m._html5=a.html5||!1,m._muted=a.mute||!1,m._loop=a.loop||!1,m._pool=a.pool||5,m._preload=typeof a.preload==\"boolean\"||a.preload===\"metadata\"?a.preload:!0,m._rate=a.rate||1,m._sprite=a.sprite||{},m._src=typeof a.src!=\"string\"?a.src:[a.src],m._volume=a.volume!==void 0?a.volume:1,m._xhr={method:a.xhr&&a.xhr.method?a.xhr.method:\"GET\",headers:a.xhr&&a.xhr.headers?a.xhr.headers:null,withCredentials:a.xhr&&a.xhr.withCredentials?a.xhr.withCredentials:!1},m._duration=0,m._state=\"unloaded\",m._sounds=[],m._endTimers={},m._queue=[],m._playLock=!1,m._onend=a.onend?[{fn:a.onend}]:[],m._onfade=a.onfade?[{fn:a.onfade}]:[],m._onload=a.onload?[{fn:a.onload}]:[],m._onloaderror=a.onloaderror?[{fn:a.onloaderror}]:[],m._onplayerror=a.onplayerror?[{fn:a.onplayerror}]:[],m._onpause=a.onpause?[{fn:a.onpause}]:[],m._onplay=a.onplay?[{fn:a.onplay}]:[],m._onstop=a.onstop?[{fn:a.onstop}]:[],m._onmute=a.onmute?[{fn:a.onmute}]:[],m._onvolume=a.onvolume?[{fn:a.onvolume}]:[],m._onrate=a.onrate?[{fn:a.onrate}]:[],m._onseek=a.onseek?[{fn:a.onseek}]:[],m._onunlock=a.onunlock?[{fn:a.onunlock}]:[],m._onresume=[],m._webAudio=t.usingWebAudio&&!m._html5,typeof t.ctx<\"u\"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(m),m._autoplay&&m._queue.push({event:\"play\",action:function(){m.play()}}),m._preload&&m._preload!==\"none\"&&m.load(),m},load:function(){var a=this,m=null;if(t.noAudio){a._emit(\"loaderror\",null,\"No audio support.\");return}typeof a._src==\"string\"&&(a._src=[a._src]);for(var y=0;y<a._src.length;y++){var p,d;if(a._format&&a._format[y])p=a._format[y];else{if(d=a._src[y],typeof d!=\"string\"){a._emit(\"loaderror\",null,\"Non-string found in selected audio sources - ignoring.\");continue}p=/^data:audio\\/([^;,]+);/i.exec(d),p||(p=/\\.([^.]+)$/.exec(d.split(\"?\",1)[0])),p&&(p=p[1].toLowerCase())}if(p||console.warn('No file extension was found. Consider using the \"format\" property or specify an extension.'),p&&t.codecs(p)){m=a._src[y];break}}if(!m){a._emit(\"loaderror\",null,\"No codec support for selected audio sources.\");return}return a._src=m,a._state=\"loading\",window.location.protocol===\"https:\"&&m.slice(0,5)===\"http:\"&&(a._html5=!0,a._webAudio=!1),new s(a),a._webAudio&&o(a),a},play:function(a,m){var y=this,p=null;if(typeof a==\"number\")p=a,a=null;else{if(typeof a==\"string\"&&y._state===\"loaded\"&&!y._sprite[a])return null;if(typeof a>\"u\"&&(a=\"__default\",!y._playLock)){for(var d=0,g=0;g<y._sounds.length;g++)y._sounds[g]._paused&&!y._sounds[g]._ended&&(d++,p=y._sounds[g]._id);d===1?a=null:p=null}}var _=p?y._soundById(p):y._inactiveSound();if(!_)return null;if(p&&!a&&(a=_._sprite||\"__default\"),y._state!==\"loaded\"){_._sprite=a,_._ended=!1;var P=_._id;return y._queue.push({event:\"play\",action:function(){y.play(P)}}),P}if(p&&!_._paused)return m||y._loadQueue(\"play\"),_._id;y._webAudio&&t._autoResume();var T=Math.max(0,_._seek>0?_._seek:y._sprite[a][0]/1e3),S=Math.max(0,(y._sprite[a][0]+y._sprite[a][1])/1e3-T),v=S*1e3/Math.abs(_._rate),x=y._sprite[a][0]/1e3,M=(y._sprite[a][0]+y._sprite[a][1])/1e3;_._sprite=a,_._ended=!1;var W=function(){_._paused=!1,_._seek=T,_._start=x,_._stop=M,_._loop=!!(_._loop||y._sprite[a][2])};if(T>=M){y._ended(_);return}var A=_._node;if(y._webAudio){var E=function(){y._playLock=!1,W(),y._refreshBuffer(_);var O=_._muted||y._muted?0:_._volume;A.gain.setValueAtTime(O,t.ctx.currentTime),_._playStart=t.ctx.currentTime,typeof A.bufferSource.start>\"u\"?_._loop?A.bufferSource.noteGrainOn(0,T,86400):A.bufferSource.noteGrainOn(0,T,S):_._loop?A.bufferSource.start(0,T,86400):A.bufferSource.start(0,T,S),v!==1/0&&(y._endTimers[_._id]=setTimeout(y._ended.bind(y,_),v)),m||setTimeout(function(){y._emit(\"play\",_._id),y._loadQueue()},0)};t.state===\"running\"&&t.ctx.state!==\"interrupted\"?E():(y._playLock=!0,y.once(\"resume\",E),y._clearTimer(_._id))}else{var I=function(){A.currentTime=T,A.muted=_._muted||y._muted||t._muted||A.muted,A.volume=_._volume*t.volume(),A.playbackRate=_._rate;try{var O=A.play();if(O&&typeof Promise<\"u\"&&(O instanceof Promise||typeof O.then==\"function\")?(y._playLock=!0,W(),O.then(function(){y._playLock=!1,A._unlocked=!0,m?y._loadQueue():y._emit(\"play\",_._id)}).catch(function(){y._playLock=!1,y._emit(\"playerror\",_._id,\"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.\"),_._ended=!0,_._paused=!0})):m||(y._playLock=!1,W(),y._emit(\"play\",_._id)),A.playbackRate=_._rate,A.paused){y._emit(\"playerror\",_._id,\"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.\");return}a!==\"__default\"||_._loop?y._endTimers[_._id]=setTimeout(y._ended.bind(y,_),v):(y._endTimers[_._id]=function(){y._ended(_),A.removeEventListener(\"ended\",y._endTimers[_._id],!1)},A.addEventListener(\"ended\",y._endTimers[_._id],!1))}catch(D){y._emit(\"playerror\",_._id,D)}};A.src===\"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA\"&&(A.src=y._src,A.load());var j=window&&window.ejecta||!A.readyState&&t._navigator.isCocoonJS;if(A.readyState>=3||j)I();else{y._playLock=!0,y._state=\"loading\";var k=function(){y._state=\"loaded\",I(),A.removeEventListener(t._canPlayEvent,k,!1)};A.addEventListener(t._canPlayEvent,k,!1),y._clearTimer(_._id)}}return _._id},pause:function(a){var m=this;if(m._state!==\"loaded\"||m._playLock)return m._queue.push({event:\"pause\",action:function(){m.pause(a)}}),m;for(var y=m._getSoundIds(a),p=0;p<y.length;p++){m._clearTimer(y[p]);var d=m._soundById(y[p]);if(d&&!d._paused&&(d._seek=m.seek(y[p]),d._rateSeek=0,d._paused=!0,m._stopFade(y[p]),d._node))if(m._webAudio){if(!d._node.bufferSource)continue;typeof d._node.bufferSource.stop>\"u\"?d._node.bufferSource.noteOff(0):d._node.bufferSource.stop(0),m._cleanBuffer(d._node)}else(!isNaN(d._node.duration)||d._node.duration===1/0)&&d._node.pause();arguments[1]||m._emit(\"pause\",d?d._id:null)}return m},stop:function(a,m){var y=this;if(y._state!==\"loaded\"||y._playLock)return y._queue.push({event:\"stop\",action:function(){y.stop(a)}}),y;for(var p=y._getSoundIds(a),d=0;d<p.length;d++){y._clearTimer(p[d]);var g=y._soundById(p[d]);g&&(g._seek=g._start||0,g._rateSeek=0,g._paused=!0,g._ended=!0,y._stopFade(p[d]),g._node&&(y._webAudio?g._node.bufferSource&&(typeof g._node.bufferSource.stop>\"u\"?g._node.bufferSource.noteOff(0):g._node.bufferSource.stop(0),y._cleanBuffer(g._node)):(!isNaN(g._node.duration)||g._node.duration===1/0)&&(g._node.currentTime=g._start||0,g._node.pause(),g._node.duration===1/0&&y._clearSound(g._node))),m||y._emit(\"stop\",g._id))}return y},mute:function(a,m){var y=this;if(y._state!==\"loaded\"||y._playLock)return y._queue.push({event:\"mute\",action:function(){y.mute(a,m)}}),y;if(typeof m>\"u\")if(typeof a==\"boolean\")y._muted=a;else return y._muted;for(var p=y._getSoundIds(m),d=0;d<p.length;d++){var g=y._soundById(p[d]);g&&(g._muted=a,g._interval&&y._stopFade(g._id),y._webAudio&&g._node?g._node.gain.setValueAtTime(a?0:g._volume,t.ctx.currentTime):g._node&&(g._node.muted=t._muted?!0:a),y._emit(\"mute\",g._id))}return y},volume:function(){var a=this,m=arguments,y,p;if(m.length===0)return a._volume;if(m.length===1||m.length===2&&typeof m[1]>\"u\"){var d=a._getSoundIds(),g=d.indexOf(m[0]);g>=0?p=parseInt(m[0],10):y=parseFloat(m[0])}else m.length>=2&&(y=parseFloat(m[0]),p=parseInt(m[1],10));var _;if(typeof y<\"u\"&&y>=0&&y<=1){if(a._state!==\"loaded\"||a._playLock)return a._queue.push({event:\"volume\",action:function(){a.volume.apply(a,m)}}),a;typeof p>\"u\"&&(a._volume=y),p=a._getSoundIds(p);for(var P=0;P<p.length;P++)_=a._soundById(p[P]),_&&(_._volume=y,m[2]||a._stopFade(p[P]),a._webAudio&&_._node&&!_._muted?_._node.gain.setValueAtTime(y,t.ctx.currentTime):_._node&&!_._muted&&(_._node.volume=y*t.volume()),a._emit(\"volume\",_._id))}else return _=p?a._soundById(p):a._sounds[0],_?_._volume:0;return a},fade:function(a,m,y,p){var d=this;if(d._state!==\"loaded\"||d._playLock)return d._queue.push({event:\"fade\",action:function(){d.fade(a,m,y,p)}}),d;a=Math.min(Math.max(0,parseFloat(a)),1),m=Math.min(Math.max(0,parseFloat(m)),1),y=parseFloat(y),d.volume(a,p);for(var g=d._getSoundIds(p),_=0;_<g.length;_++){var P=d._soundById(g[_]);if(P){if(p||d._stopFade(g[_]),d._webAudio&&!P._muted){var T=t.ctx.currentTime,S=T+y/1e3;P._volume=a,P._node.gain.setValueAtTime(a,T),P._node.gain.linearRampToValueAtTime(m,S)}d._startFadeInterval(P,a,m,y,g[_],typeof p>\"u\")}}return d},_startFadeInterval:function(a,m,y,p,d,g){var _=this,P=m,T=y-m,S=Math.abs(T/.01),v=Math.max(4,S>0?p/S:p),x=Date.now();a._fadeTo=y,a._interval=setInterval(function(){var M=(Date.now()-x)/p;x=Date.now(),P+=T*M,P=Math.round(P*100)/100,T<0?P=Math.max(y,P):P=Math.min(y,P),_._webAudio?a._volume=P:_.volume(P,a._id,!0),g&&(_._volume=P),(y<m&&P<=y||y>m&&P>=y)&&(clearInterval(a._interval),a._interval=null,a._fadeTo=null,_.volume(y,a._id),_._emit(\"fade\",a._id))},v)},_stopFade:function(a){var m=this,y=m._soundById(a);return y&&y._interval&&(m._webAudio&&y._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(y._interval),y._interval=null,m.volume(y._fadeTo,a),y._fadeTo=null,m._emit(\"fade\",a)),m},loop:function(){var a=this,m=arguments,y,p,d;if(m.length===0)return a._loop;if(m.length===1)if(typeof m[0]==\"boolean\")y=m[0],a._loop=y;else return d=a._soundById(parseInt(m[0],10)),d?d._loop:!1;else m.length===2&&(y=m[0],p=parseInt(m[1],10));for(var g=a._getSoundIds(p),_=0;_<g.length;_++)d=a._soundById(g[_]),d&&(d._loop=y,a._webAudio&&d._node&&d._node.bufferSource&&(d._node.bufferSource.loop=y,y&&(d._node.bufferSource.loopStart=d._start||0,d._node.bufferSource.loopEnd=d._stop,a.playing(g[_])&&(a.pause(g[_],!0),a.play(g[_],!0)))));return a},rate:function(){var a=this,m=arguments,y,p;if(m.length===0)p=a._sounds[0]._id;else if(m.length===1){var d=a._getSoundIds(),g=d.indexOf(m[0]);g>=0?p=parseInt(m[0],10):y=parseFloat(m[0])}else m.length===2&&(y=parseFloat(m[0]),p=parseInt(m[1],10));var _;if(typeof y==\"number\"){if(a._state!==\"loaded\"||a._playLock)return a._queue.push({event:\"rate\",action:function(){a.rate.apply(a,m)}}),a;typeof p>\"u\"&&(a._rate=y),p=a._getSoundIds(p);for(var P=0;P<p.length;P++)if(_=a._soundById(p[P]),_){a.playing(p[P])&&(_._rateSeek=a.seek(p[P]),_._playStart=a._webAudio?t.ctx.currentTime:_._playStart),_._rate=y,a._webAudio&&_._node&&_._node.bufferSource?_._node.bufferSource.playbackRate.setValueAtTime(y,t.ctx.currentTime):_._node&&(_._node.playbackRate=y);var T=a.seek(p[P]),S=(a._sprite[_._sprite][0]+a._sprite[_._sprite][1])/1e3-T,v=S*1e3/Math.abs(_._rate);(a._endTimers[p[P]]||!_._paused)&&(a._clearTimer(p[P]),a._endTimers[p[P]]=setTimeout(a._ended.bind(a,_),v)),a._emit(\"rate\",_._id)}}else return _=a._soundById(p),_?_._rate:a._rate;return a},seek:function(){var a=this,m=arguments,y,p;if(m.length===0)a._sounds.length&&(p=a._sounds[0]._id);else if(m.length===1){var d=a._getSoundIds(),g=d.indexOf(m[0]);g>=0?p=parseInt(m[0],10):a._sounds.length&&(p=a._sounds[0]._id,y=parseFloat(m[0]))}else m.length===2&&(y=parseFloat(m[0]),p=parseInt(m[1],10));if(typeof p>\"u\")return 0;if(typeof y==\"number\"&&(a._state!==\"loaded\"||a._playLock))return a._queue.push({event:\"seek\",action:function(){a.seek.apply(a,m)}}),a;var _=a._soundById(p);if(_)if(typeof y==\"number\"&&y>=0){var P=a.playing(p);P&&a.pause(p,!0),_._seek=y,_._ended=!1,a._clearTimer(p),!a._webAudio&&_._node&&!isNaN(_._node.duration)&&(_._node.currentTime=y);var T=function(){P&&a.play(p,!0),a._emit(\"seek\",p)};if(P&&!a._webAudio){var S=function(){a._playLock?setTimeout(S,0):T()};setTimeout(S,0)}else T()}else if(a._webAudio){var v=a.playing(p)?t.ctx.currentTime-_._playStart:0,x=_._rateSeek?_._rateSeek-_._seek:0;return _._seek+(x+v*Math.abs(_._rate))}else return _._node.currentTime;return a},playing:function(a){var m=this;if(typeof a==\"number\"){var y=m._soundById(a);return y?!y._paused:!1}for(var p=0;p<m._sounds.length;p++)if(!m._sounds[p]._paused)return!0;return!1},duration:function(a){var m=this,y=m._duration,p=m._soundById(a);return p&&(y=m._sprite[p._sprite][1]/1e3),y},state:function(){return this._state},unload:function(){for(var a=this,m=a._sounds,y=0;y<m.length;y++)m[y]._paused||a.stop(m[y]._id),a._webAudio||(a._clearSound(m[y]._node),m[y]._node.removeEventListener(\"error\",m[y]._errorFn,!1),m[y]._node.removeEventListener(t._canPlayEvent,m[y]._loadFn,!1),m[y]._node.removeEventListener(\"ended\",m[y]._endFn,!1),t._releaseHtml5Audio(m[y]._node)),delete m[y]._node,a._clearTimer(m[y]._id);var p=t._howls.indexOf(a);p>=0&&t._howls.splice(p,1);var d=!0;for(y=0;y<t._howls.length;y++)if(t._howls[y]._src===a._src||a._src.indexOf(t._howls[y]._src)>=0){d=!1;break}return n&&d&&delete n[a._src],t.noAudio=!1,a._state=\"unloaded\",a._sounds=[],a=null,null},on:function(a,m,y,p){var d=this,g=d[\"_on\"+a];return typeof m==\"function\"&&g.push(p?{id:y,fn:m,once:p}:{id:y,fn:m}),d},off:function(a,m,y){var p=this,d=p[\"_on\"+a],g=0;if(typeof m==\"number\"&&(y=m,m=null),m||y)for(g=0;g<d.length;g++){var _=y===d[g].id;if(m===d[g].fn&&_||!m&&_){d.splice(g,1);break}}else if(a)p[\"_on\"+a]=[];else{var P=Object.keys(p);for(g=0;g<P.length;g++)P[g].indexOf(\"_on\")===0&&Array.isArray(p[P[g]])&&(p[P[g]]=[])}return p},once:function(a,m,y){var p=this;return p.on(a,m,y,1),p},_emit:function(a,m,y){for(var p=this,d=p[\"_on\"+a],g=d.length-1;g>=0;g--)(!d[g].id||d[g].id===m||a===\"load\")&&(setTimeout(function(_){_.call(this,m,y)}.bind(p,d[g].fn),0),d[g].once&&p.off(a,d[g].fn,d[g].id));return p._loadQueue(a),p},_loadQueue:function(a){var m=this;if(m._queue.length>0){var y=m._queue[0];y.event===a&&(m._queue.shift(),m._loadQueue()),a||y.action()}return m},_ended:function(a){var m=this,y=a._sprite;if(!m._webAudio&&a._node&&!a._node.paused&&!a._node.ended&&a._node.currentTime<a._stop)return setTimeout(m._ended.bind(m,a),100),m;var p=!!(a._loop||m._sprite[y][2]);if(m._emit(\"end\",a._id),!m._webAudio&&p&&m.stop(a._id,!0).play(a._id),m._webAudio&&p){m._emit(\"play\",a._id),a._seek=a._start||0,a._rateSeek=0,a._playStart=t.ctx.currentTime;var d=(a._stop-a._start)*1e3/Math.abs(a._rate);m._endTimers[a._id]=setTimeout(m._ended.bind(m,a),d)}return m._webAudio&&!p&&(a._paused=!0,a._ended=!0,a._seek=a._start||0,a._rateSeek=0,m._clearTimer(a._id),m._cleanBuffer(a._node),t._autoSuspend()),!m._webAudio&&!p&&m.stop(a._id,!0),m},_clearTimer:function(a){var m=this;if(m._endTimers[a]){if(typeof m._endTimers[a]!=\"function\")clearTimeout(m._endTimers[a]);else{var y=m._soundById(a);y&&y._node&&y._node.removeEventListener(\"ended\",m._endTimers[a],!1)}delete m._endTimers[a]}return m},_soundById:function(a){for(var m=this,y=0;y<m._sounds.length;y++)if(a===m._sounds[y]._id)return m._sounds[y];return null},_inactiveSound:function(){var a=this;a._drain();for(var m=0;m<a._sounds.length;m++)if(a._sounds[m]._ended)return a._sounds[m].reset();return new s(a)},_drain:function(){var a=this,m=a._pool,y=0,p=0;if(!(a._sounds.length<m)){for(p=0;p<a._sounds.length;p++)a._sounds[p]._ended&&y++;for(p=a._sounds.length-1;p>=0;p--){if(y<=m)return;a._sounds[p]._ended&&(a._webAudio&&a._sounds[p]._node&&a._sounds[p]._node.disconnect(0),a._sounds.splice(p,1),y--)}}},_getSoundIds:function(a){var m=this;if(typeof a>\"u\"){for(var y=[],p=0;p<m._sounds.length;p++)y.push(m._sounds[p]._id);return y}else return[a]},_refreshBuffer:function(a){var m=this;return a._node.bufferSource=t.ctx.createBufferSource(),a._node.bufferSource.buffer=n[m._src],a._panner?a._node.bufferSource.connect(a._panner):a._node.bufferSource.connect(a._node),a._node.bufferSource.loop=a._loop,a._loop&&(a._node.bufferSource.loopStart=a._start||0,a._node.bufferSource.loopEnd=a._stop||0),a._node.bufferSource.playbackRate.setValueAtTime(a._rate,t.ctx.currentTime),m},_cleanBuffer:function(a){var m=this,y=t._navigator&&t._navigator.vendor.indexOf(\"Apple\")>=0;if(t._scratchBuffer&&a.bufferSource&&(a.bufferSource.onended=null,a.bufferSource.disconnect(0),y))try{a.bufferSource.buffer=t._scratchBuffer}catch{}return a.bufferSource=null,m},_clearSound:function(a){var m=/MSIE |Trident\\//.test(t._navigator&&t._navigator.userAgent);m||(a.src=\"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA\")}};var s=function(a){this._parent=a,this.init()};s.prototype={init:function(){var a=this,m=a._parent;return a._muted=m._muted,a._loop=m._loop,a._volume=m._volume,a._rate=m._rate,a._seek=0,a._paused=!0,a._ended=!0,a._sprite=\"__default\",a._id=++t._counter,m._sounds.push(a),a.create(),a},create:function(){var a=this,m=a._parent,y=t._muted||a._muted||a._parent._muted?0:a._volume;return m._webAudio?(a._node=typeof t.ctx.createGain>\"u\"?t.ctx.createGainNode():t.ctx.createGain(),a._node.gain.setValueAtTime(y,t.ctx.currentTime),a._node.paused=!0,a._node.connect(t.masterGain)):t.noAudio||(a._node=t._obtainHtml5Audio(),a._errorFn=a._errorListener.bind(a),a._node.addEventListener(\"error\",a._errorFn,!1),a._loadFn=a._loadListener.bind(a),a._node.addEventListener(t._canPlayEvent,a._loadFn,!1),a._endFn=a._endListener.bind(a),a._node.addEventListener(\"ended\",a._endFn,!1),a._node.src=m._src,a._node.preload=m._preload===!0?\"auto\":m._preload,a._node.volume=y*t.volume(),a._node.load()),a},reset:function(){var a=this,m=a._parent;return a._muted=m._muted,a._loop=m._loop,a._volume=m._volume,a._rate=m._rate,a._seek=0,a._rateSeek=0,a._paused=!0,a._ended=!0,a._sprite=\"__default\",a._id=++t._counter,a},_errorListener:function(){var a=this;a._parent._emit(\"loaderror\",a._id,a._node.error?a._node.error.code:0),a._node.removeEventListener(\"error\",a._errorFn,!1)},_loadListener:function(){var a=this,m=a._parent;m._duration=Math.ceil(a._node.duration*10)/10,Object.keys(m._sprite).length===0&&(m._sprite={__default:[0,m._duration*1e3]}),m._state!==\"loaded\"&&(m._state=\"loaded\",m._emit(\"load\"),m._loadQueue()),a._node.removeEventListener(t._canPlayEvent,a._loadFn,!1)},_endListener:function(){var a=this,m=a._parent;m._duration===1/0&&(m._duration=Math.ceil(a._node.duration*10)/10,m._sprite.__default[1]===1/0&&(m._sprite.__default[1]=m._duration*1e3),m._ended(a)),a._node.removeEventListener(\"ended\",a._endFn,!1)}};var n={},o=function(a){var m=a._src;if(n[m]){a._duration=n[m].duration,u(a);return}if(/^data:[^;]+;base64,/.test(m)){for(var y=atob(m.split(\",\")[1]),p=new Uint8Array(y.length),d=0;d<y.length;++d)p[d]=y.charCodeAt(d);l(p.buffer,a)}else{var g=new XMLHttpRequest;g.open(a._xhr.method,m,!0),g.withCredentials=a._xhr.withCredentials,g.responseType=\"arraybuffer\",a._xhr.headers&&Object.keys(a._xhr.headers).forEach(function(_){g.setRequestHeader(_,a._xhr.headers[_])}),g.onload=function(){var _=(g.status+\"\")[0];if(_!==\"0\"&&_!==\"2\"&&_!==\"3\"){a._emit(\"loaderror\",null,\"Failed loading audio file with status: \"+g.status+\".\");return}l(g.response,a)},g.onerror=function(){a._webAudio&&(a._html5=!0,a._webAudio=!1,a._sounds=[],delete n[m],a.load())},r(g)}},r=function(a){try{a.send()}catch{a.onerror()}},l=function(a,m){var y=function(){m._emit(\"loaderror\",null,\"Decoding audio data failed.\")},p=function(d){d&&m._sounds.length>0?(n[m._src]=d,u(m,d)):y()};typeof Promise<\"u\"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(a).then(p).catch(y):t.ctx.decodeAudioData(a,p,y)},u=function(a,m){m&&!a._duration&&(a._duration=m.duration),Object.keys(a._sprite).length===0&&(a._sprite={__default:[0,a._duration*1e3]}),a._state!==\"loaded\"&&(a._state=\"loaded\",a._emit(\"load\"),a._loadQueue())},c=function(){if(!!t.usingWebAudio){try{typeof AudioContext<\"u\"?t.ctx=new AudioContext:typeof webkitAudioContext<\"u\"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var a=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),m=t._navigator&&t._navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/),y=m?parseInt(m[1],10):null;if(a&&y&&y<9){var p=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!p&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>\"u\"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};typeof define==\"function\"&&define.amd&&define([],function(){return{Howler:t,Howl:i}}),typeof yt<\"u\"&&(yt.Howler=t,yt.Howl=i),typeof global<\"u\"?(global.HowlerGlobal=e,global.Howler=t,global.Howl=i,global.Sound=s):typeof window<\"u\"&&(window.HowlerGlobal=e,window.Howler=t,window.Howl=i,window.Sound=s)})();(function(){\"use strict\";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var i=this;if(!i.ctx||!i.ctx.listener)return i;for(var s=i._howls.length-1;s>=0;s--)i._howls[s].stereo(t);return i},HowlerGlobal.prototype.pos=function(t,i,s){var n=this;if(!n.ctx||!n.ctx.listener)return n;if(i=typeof i!=\"number\"?n._pos[1]:i,s=typeof s!=\"number\"?n._pos[2]:s,typeof t==\"number\")n._pos=[t,i,s],typeof n.ctx.listener.positionX<\"u\"?(n.ctx.listener.positionX.setTargetAtTime(n._pos[0],Howler.ctx.currentTime,.1),n.ctx.listener.positionY.setTargetAtTime(n._pos[1],Howler.ctx.currentTime,.1),n.ctx.listener.positionZ.setTargetAtTime(n._pos[2],Howler.ctx.currentTime,.1)):n.ctx.listener.setPosition(n._pos[0],n._pos[1],n._pos[2]);else return n._pos;return n},HowlerGlobal.prototype.orientation=function(t,i,s,n,o,r){var l=this;if(!l.ctx||!l.ctx.listener)return l;var u=l._orientation;if(i=typeof i!=\"number\"?u[1]:i,s=typeof s!=\"number\"?u[2]:s,n=typeof n!=\"number\"?u[3]:n,o=typeof o!=\"number\"?u[4]:o,r=typeof r!=\"number\"?u[5]:r,typeof t==\"number\")l._orientation=[t,i,s,n,o,r],typeof l.ctx.listener.forwardX<\"u\"?(l.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),l.ctx.listener.forwardY.setTargetAtTime(i,Howler.ctx.currentTime,.1),l.ctx.listener.forwardZ.setTargetAtTime(s,Howler.ctx.currentTime,.1),l.ctx.listener.upX.setTargetAtTime(n,Howler.ctx.currentTime,.1),l.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),l.ctx.listener.upZ.setTargetAtTime(r,Howler.ctx.currentTime,.1)):l.ctx.listener.setOrientation(t,i,s,n,o,r);else return u;return l},Howl.prototype.init=function(t){return function(i){var s=this;return s._orientation=i.orientation||[1,0,0],s._stereo=i.stereo||null,s._pos=i.pos||null,s._pannerAttr={coneInnerAngle:typeof i.coneInnerAngle<\"u\"?i.coneInnerAngle:360,coneOuterAngle:typeof i.coneOuterAngle<\"u\"?i.coneOuterAngle:360,coneOuterGain:typeof i.coneOuterGain<\"u\"?i.coneOuterGain:0,distanceModel:typeof i.distanceModel<\"u\"?i.distanceModel:\"inverse\",maxDistance:typeof i.maxDistance<\"u\"?i.maxDistance:1e4,panningModel:typeof i.panningModel<\"u\"?i.panningModel:\"HRTF\",refDistance:typeof i.refDistance<\"u\"?i.refDistance:1,rolloffFactor:typeof i.rolloffFactor<\"u\"?i.rolloffFactor:1},s._onstereo=i.onstereo?[{fn:i.onstereo}]:[],s._onpos=i.onpos?[{fn:i.onpos}]:[],s._onorientation=i.onorientation?[{fn:i.onorientation}]:[],t.call(this,i)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,i){var s=this;if(!s._webAudio)return s;if(s._state!==\"loaded\")return s._queue.push({event:\"stereo\",action:function(){s.stereo(t,i)}}),s;var n=typeof Howler.ctx.createStereoPanner>\"u\"?\"spatial\":\"stereo\";if(typeof i>\"u\")if(typeof t==\"number\")s._stereo=t,s._pos=[t,0,0];else return s._stereo;for(var o=s._getSoundIds(i),r=0;r<o.length;r++){var l=s._soundById(o[r]);if(l)if(typeof t==\"number\")l._stereo=t,l._pos=[t,0,0],l._node&&(l._pannerAttr.panningModel=\"equalpower\",(!l._panner||!l._panner.pan)&&e(l,n),n===\"spatial\"?typeof l._panner.positionX<\"u\"?(l._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(t,0,0):l._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),s._emit(\"stereo\",l._id);else return l._stereo}return s},Howl.prototype.pos=function(t,i,s,n){var o=this;if(!o._webAudio)return o;if(o._state!==\"loaded\")return o._queue.push({event:\"pos\",action:function(){o.pos(t,i,s,n)}}),o;if(i=typeof i!=\"number\"?0:i,s=typeof s!=\"number\"?-.5:s,typeof n>\"u\")if(typeof t==\"number\")o._pos=[t,i,s];else return o._pos;for(var r=o._getSoundIds(n),l=0;l<r.length;l++){var u=o._soundById(r[l]);if(u)if(typeof t==\"number\")u._pos=[t,i,s],u._node&&((!u._panner||u._panner.pan)&&e(u,\"spatial\"),typeof u._panner.positionX<\"u\"?(u._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(i,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(s,Howler.ctx.currentTime)):u._panner.setPosition(t,i,s)),o._emit(\"pos\",u._id);else return u._pos}return o},Howl.prototype.orientation=function(t,i,s,n){var o=this;if(!o._webAudio)return o;if(o._state!==\"loaded\")return o._queue.push({event:\"orientation\",action:function(){o.orientation(t,i,s,n)}}),o;if(i=typeof i!=\"number\"?o._orientation[1]:i,s=typeof s!=\"number\"?o._orientation[2]:s,typeof n>\"u\")if(typeof t==\"number\")o._orientation=[t,i,s];else return o._orientation;for(var r=o._getSoundIds(n),l=0;l<r.length;l++){var u=o._soundById(r[l]);if(u)if(typeof t==\"number\")u._orientation=[t,i,s],u._node&&(u._panner||(u._pos||(u._pos=o._pos||[0,0,-.5]),e(u,\"spatial\")),typeof u._panner.orientationX<\"u\"?(u._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(i,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(s,Howler.ctx.currentTime)):u._panner.setOrientation(t,i,s)),o._emit(\"orientation\",u._id);else return u._orientation}return o},Howl.prototype.pannerAttr=function(){var t=this,i=arguments,s,n,o;if(!t._webAudio)return t;if(i.length===0)return t._pannerAttr;if(i.length===1)if(typeof i[0]==\"object\")s=i[0],typeof n>\"u\"&&(s.pannerAttr||(s.pannerAttr={coneInnerAngle:s.coneInnerAngle,coneOuterAngle:s.coneOuterAngle,coneOuterGain:s.coneOuterGain,distanceModel:s.distanceModel,maxDistance:s.maxDistance,refDistance:s.refDistance,rolloffFactor:s.rolloffFactor,panningModel:s.panningModel}),t._pannerAttr={coneInnerAngle:typeof s.pannerAttr.coneInnerAngle<\"u\"?s.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof s.pannerAttr.coneOuterAngle<\"u\"?s.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof s.pannerAttr.coneOuterGain<\"u\"?s.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof s.pannerAttr.distanceModel<\"u\"?s.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof s.pannerAttr.maxDistance<\"u\"?s.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof s.pannerAttr.refDistance<\"u\"?s.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof s.pannerAttr.rolloffFactor<\"u\"?s.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof s.pannerAttr.panningModel<\"u\"?s.pannerAttr.panningModel:t._panningModel});else return o=t._soundById(parseInt(i[0],10)),o?o._pannerAttr:t._pannerAttr;else i.length===2&&(s=i[0],n=parseInt(i[1],10));for(var r=t._getSoundIds(n),l=0;l<r.length;l++)if(o=t._soundById(r[l]),o){var u=o._pannerAttr;u={coneInnerAngle:typeof s.coneInnerAngle<\"u\"?s.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:typeof s.coneOuterAngle<\"u\"?s.coneOuterAngle:u.coneOuterAngle,coneOuterGain:typeof s.coneOuterGain<\"u\"?s.coneOuterGain:u.coneOuterGain,distanceModel:typeof s.distanceModel<\"u\"?s.distanceModel:u.distanceModel,maxDistance:typeof s.maxDistance<\"u\"?s.maxDistance:u.maxDistance,refDistance:typeof s.refDistance<\"u\"?s.refDistance:u.refDistance,rolloffFactor:typeof s.rolloffFactor<\"u\"?s.rolloffFactor:u.rolloffFactor,panningModel:typeof s.panningModel<\"u\"?s.panningModel:u.panningModel};var c=o._panner;c?(c.coneInnerAngle=u.coneInnerAngle,c.coneOuterAngle=u.coneOuterAngle,c.coneOuterGain=u.coneOuterGain,c.distanceModel=u.distanceModel,c.maxDistance=u.maxDistance,c.refDistance=u.refDistance,c.rolloffFactor=u.rolloffFactor,c.panningModel=u.panningModel):(o._pos||(o._pos=t._pos||[0,0,-.5]),e(o,\"spatial\"))}return t},Sound.prototype.init=function(t){return function(){var i=this,s=i._parent;i._orientation=s._orientation,i._stereo=s._stereo,i._pos=s._pos,i._pannerAttr=s._pannerAttr,t.call(this),i._stereo?s.stereo(i._stereo):i._pos&&s.pos(i._pos[0],i._pos[1],i._pos[2],i._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var i=this,s=i._parent;return i._orientation=s._orientation,i._stereo=s._stereo,i._pos=s._pos,i._pannerAttr=s._pannerAttr,i._stereo?s.stereo(i._stereo):i._pos?s.pos(i._pos[0],i._pos[1],i._pos[2],i._id):i._panner&&(i._panner.disconnect(0),i._panner=void 0,s._refreshBuffer(i)),t.call(this)}}(Sound.prototype.reset);var e=function(t,i){i=i||\"spatial\",i===\"spatial\"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<\"u\"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<\"u\"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()});var ll={};var Ht,Ne=F(()=>{Ht=pt(ct());WL.registerComponent(\"pp-spatial-audio-listener\",{_myEnabled:{type:WL.Type.Enum,values:[\"always\",\"vr\",\"non vr\"],default:\"always\"}},{init:function(){this._myOrigin=new Float32Array(3),this._myForward=new Float32Array(3),this._myUp=new Float32Array(3)},update:function(){(this._myEnabled==0||this._myEnabled==1&&WL.xrSession||this._myEnabled==2&&!WL.xrSession)&&(this.object.pp_getPosition(this._myOrigin),this.object.pp_getForward(this._myForward),this.object.pp_getUp(this._myUp),Ht.Howler.pos(this._myOrigin[0],this._myOrigin[1],this._myOrigin[2]),Ht.Howler.orientation(this._myForward[0],this._myForward[1],this._myForward[2],this._myUp[0],this._myUp[1],this._myUp[2]))}})});var qe=C(()=>{WL.registerComponent(\"pp-audio-manager\",{},{init:function(){PP.myAudioManager=new PP.AudioManagerClass},start:function(){},update:function(e){}});PP.myAudioManager=null});var ml={};var ht,Ue=F(()=>{ht=pt(ct());PP.AudioManager=class{constructor(){this._myAudioSetupMap=new Map}createAudioPlayer(t){return this.getAudioSetup(t)!=null?new PP.AudioPlayer(this.getAudioSetup(t)):null}getAudioSetup(t){return this._myAudioSetupMap.get(t)}addAudioSetup(t,i,s=!0){this._myAudioSetupMap.set(t,i),s&&this.createAudioPlayer(t)}removeAudioSetup(t){this._myAudioSetupMap.delete(t)}setVolume(t){ht.Howler.volume(t)}setMute(t){ht.Howler.mute(t)}stop(){ht.Howler.stop()}}});var Ge=C(()=>{PP.AudioEvent={END:\"end\",STOP:\"stop\",LOAD:\"load\",LOAD_ERROR:\"loaderror\",PLAY:\"play\",PLAY_ERROR:\"playerror\",PAUSE:\"pause\",MUTE:\"mute\",VOLUME:\"volume\",RATE:\"rate\",SEEK:\"seek\",FADE:\"fade\",UNLOCK:\"unlock\"};PP.AudioPlayer=class{constructor(t){typeof t==\"string\"?this._myAudioSetup=new PP.AudioSetup(audioSetupOrAudioFile):this._myAudioSetup=t.clone(),this._myAudio=new Howl({src:[this._myAudioSetup.myAudioFilePath],loop:this._myAudioSetup.myLoop,volume:this._myAudioSetup.myVolume,autoplay:this._myAudioSetup.myAutoplay,rate:this._myAudioSetup.myRate,pool:this._myAudioSetup.myPool,preload:!0}),this._myAudio._pannerAttr.refDistance=this._myAudioSetup.myReferenceDistance,this._myLastAudioID=null,this._myCallbackMap=new Map;for(let i in PP.AudioEvent)this._myCallbackMap.set(PP.AudioEvent[i],new Map);this._addListeners()}play(){let t=this._myAudio.play();t!=null&&(this._myLastAudioID=t,this.updatePosition(this._myAudioSetup.myPosition,!0),this.updatePitch(this._myAudioSetup.myPitch,!0),this.updateVolume(this._myAudioSetup.myVolume,!0))}stop(){this._myAudio.stop()}pause(){this._myAudio.pause()}resume(){this._myAudio.play()}isPlaying(t=!1){let i=!1;return t?i=this._myAudio.playing(this._myLastAudioID):i=this._myAudio.playing(),i}isLoaded(){return this._myAudio.state()==\"loaded\"}fade(t,i,s,n=!1){this.setVolume(i),n?this._myAudio.fade(t,i,s*1e3,this._myLastAudioID):this._myAudio.fade(t,i,s*1e3)}updatePosition(t,i=!1){this.setPosition(t),this._myAudioSetup.mySpatial&&t&&(i?this._myAudio.pos(t[0],t[1],t[2],this._myLastAudioID):this._myAudio.pos(t[0],t[1],t[2]))}updatePitch(t,i=!1){this.updateRate(t,i)}updateRate(t,i=!1){this.setRate(t),t!=null&&(i?this._myAudio.rate(t,this._myLastAudioID):this._myAudio.rate(t))}updateVolume(t,i=!1){this.setVolume(t),t!=null&&(i?this._myAudio.volume(t,this._myLastAudioID):this._myAudio.volume(t))}setSpatial(t){this._myAudioSetup.mySpatial=t}setPosition(t){this._myAudioSetup.myPosition=t}setPitch(t){this._myAudioSetup.myPitch=t}setRate(t){this._myAudioSetup.myRate=t}setVolume(t){this._myAudioSetup.myVolume=t}getDuration(){return this._myAudio.duration()}getVolume(){return this._myAudioSetup.myVolume}getPitch(){return this._myAudioSetup.myPitch}getRate(){return this._myAudioSetup.myRate}registerAudioEventListener(t,i,s){this._myCallbackMap.get(t).set(i,s)}unregisterAudioEventListener(t,i){this._myCallbackMap.get(t).delete(i)}_addListeners(){for(let t in PP.AudioEvent){let i=PP.AudioEvent[t];this._myAudio.on(i,function(s){let n=this._myCallbackMap.get(i);for(let o of n.values())o(s)}.bind(this))}}}});var ze=C(()=>{PP.AudioSetup=class{constructor(t=null){this.myAudioFilePath=t?t.slice(0):null,this.myLoop=!1,this.myAutoplay=!1,this.myVolume=1,this._myRate=1,this.myPool=5,this.myPosition=null,this.mySpatial=!0,this.myReferenceDistance=1}clone(){let t=new PP.AudioSetup;return t.myAudioFilePath=this.myAudioFilePath.slice(0),t.myLoop=this.myLoop,t.myAutoplay=this.myAutoplay,t.myVolume=this.myVolume,t.myPitch=this.myPitch,t.myRate=this.myRate,t.myPool=this.myPool,t.myPosition=this.myPosition,t.mySpatial=this.mySpatial,t.myReferenceDistance=this.myReferenceDistance,t}get myPitch(){return this._myRate}get myRate(){return this._myRate}set myPitch(t){this._myRate=t}set myRate(t){this._myRate=t}}});var ul={};var Qe,Ke=F(()=>{Qe=pt(ct());WL.registerComponent(\"pp-mute-all\",{},{init:function(){},start:function(){Qe.Howler.mute(!0)},update:function(e){}})});var yl={};var Xe=F(()=>{J();WL.registerComponent(\"pp-benchmark-max-physx\",{_myStaticDomeSize:{type:WL.Type.Float,default:40},_myStaticPhysXCount:{type:WL.Type.Int,default:2e3},_myDynamicDomeSize:{type:WL.Type.Float,default:80},_myDynamicPhysXCount:{type:WL.Type.Int,default:250},_myKinematic:{type:WL.Type.Bool,default:!1},_myRaycastCount:{type:WL.Type.Int,default:500},_myVisualizeRaycast:{type:WL.Type.Bool,default:!1},_myVisualizeRaycastDelay:{type:WL.Type.Float,default:.5},_myUseConvexMesh:{type:WL.Type.Bool,default:!1},_myShapeIndex:{type:WL.Type.Int,default:0},_myShapeScaleMultiplier:{type:WL.Type.Float,default:1},_myEnableLog:{type:WL.Type.Bool,default:!0}},{start:function(){this._myRootObject=WL.scene.addObject(this.object),this._myRaycastSetup=new PP.RaycastSetup,this._myRaycastResult=new PP.RaycastResult,this._myStaticPhysXObjects=[],this._myStaticPhysXComponents=[],this._myDynamicPhysXObjects=[],this._myDynamicPhysXComponents=[],this._myStaticPhysXCollectors=[],this._myDynamicPhysXCollectors=[],this._spawnDome(!0),this._spawnDome(!1),this._myStartTimer=new PP.Timer(1),this._myTimer=new PP.Timer(0),this._myDebugTimer=new PP.Timer(this._myVisualizeRaycastDelay),this._myEnableLogTimer=new PP.Timer(1),this._myFPSHistory=[];for(let e=0;e<10;e++)this._myFPSHistory.push(0);this._myKinematicSetDelay=10},update:function(e){if(this._myStartTimer.update(e),this._myStartTimer.isDone()){if(this._myTimer.update(e),this._myDebugTimer.update(e),this._myEnableLogTimer.update(e),this._myTimer.isDone()){this._myTimer.start();let t=!1;this._myDebugTimer.isDone()&&(this._myDebugTimer.start(),t=!0),t=t&&this._myVisualizeRaycast,this._raycastTest(t)}if(this._myFPSHistory.pop(),this._myFPSHistory.unshift(Math.round(1/e)),this._myEnableLog&&this._myEnableLogTimer.isDone()){this._myEnableLogTimer.start(),console.clear(),console.log(\"Static PhysX Dome Size:\",this._myStaticPhysXObjects.length),console.log(\"Dynamic PhysX Dome Size:\",this._myDynamicPhysXObjects.length);let t=0;for(let o of this._myStaticPhysXCollectors)t+=o.getCollisions().length;let i=0;for(let o of this._myDynamicPhysXCollectors)i+=o.getCollisions().length;let s=(t+i)/2;console.log(\"Current Collisions Count:\",s),console.log(\"Raycast Count:\",this._myRaycastCount),console.log(\"FPS History:\");let n=\"\";for(let o of this._myFPSHistory)n=n.concat(o,`\n`);console.log(n)}}if(this._myKinematicSetDelay--,this._myKinematicSetDelay==0)for(let t of this._myDynamicPhysXComponents){t.kinematic=this._myKinematic;let i=2;t.linearVelocity=[Math.pp_random(-i,i),Math.pp_random(-i,i),Math.pp_random(-i,i)]}},_raycastTest(e){let t=this._myRaycastCount,i=1e4;for(let s=0;s<t;s++){let n=[Math.pp_random(1,2)*Math.pp_randomSign(),Math.pp_random(1,2)*Math.pp_randomSign(),Math.pp_random(1,2)*Math.pp_randomSign()],o=[Math.pp_random(-1,1),Math.pp_random(-1,1),Math.pp_random(-1,1)];o.vec3_normalize(o),this._myRaycastSetup.myOrigin.vec3_copy(n),this._myRaycastSetup.myDirection.vec3_copy(o),this._myRaycastSetup.myDistance=i,this._myRaycastSetup.myBlockLayerFlags.setMask(255);let r=PP.PhysicsUtils.raycast(this._myRaycastSetup,this._myRaycastResult);if(e){let l=new PP.DebugRaycastParams;l.myRaycastResult=r,l.myNormalLength=5,l.myThickness=.015,PP.myDebugManager.draw(l,this._myDebugTimer.getDuration())}}},_spawnDome(e){let t=this._myStaticPhysXCount,i=this._myStaticPhysXObjects,s=Math.ceil(Math.sqrt(this._myStaticPhysXCount));e||(s=Math.ceil(Math.sqrt(this._myDynamicPhysXCount)),t=this._myDynamicPhysXCount,i=this._myDynamicPhysXObjects);let n=Math.PI*2/s,o=Math.max(0,this._myStaticDomeSize-20),r=this._myStaticDomeSize+20;e||(o=Math.max(0,this._myDynamicDomeSize-20),r=this._myDynamicDomeSize+20);let l=0,u=Math.pp_toRadians(10),c=[0,1,0],a=[0,0,-1];for(let m=0;m<s/2;m++){let y=[0,1,0],p=[];h.cross(p,a,y),h.normalize(p,p);for(let d=0;d<s;d++){if(i.length<t){let g=Math.random()*(r-o)+o,_=(Math.random()*2-1)*(u-l)+l,P=(Math.random()*2-1)*(u-l)+l,T=y.slice(0);T.vec3_rotateAxisRadians(_,p,T),T.vec3_rotateAxisRadians(P,c,T),h.scale(T,T,g),this._addPhysX(T,e)}if(y.vec3_rotateAxisRadians(n/2,p,y),i.length<t){let g=Math.random()*(r-o)+o,_=(Math.random()*2-1)*(u-l)+l,P=(Math.random()*2-1)*(u-l)+l,T=y.slice(0);T.vec3_rotateAxisRadians(_,p,T),T.vec3_rotateAxisRadians(P,c,T),h.scale(T,T,g),this._addPhysX(T,e)}y.vec3_rotateAxisRadians(n/2,p,y)}a.vec3_rotateAxisRadians(n,c,a)}},_addPhysX(e,t){let i=e,s=Math.pp_random(1,10),n=Math.pp_randomPick(WL.Shape.Sphere,WL.Shape.Box);this._myUseConvexMesh&&(n=WL.Shape.ConvexMesh,s*=this._myShapeScaleMultiplier);let o=WL.scene.addObject(this._myRootObject);o.pp_setPosition(i);let r=o.pp_addComponent(\"physx\",{shape:n,shapeData:{index:this._myShapeIndex},extents:[s,s,s],static:t,kinematic:this._myKinematic,mass:1});if(!this._myKinematic&&!t){let l=10;r.linearVelocity=[Math.pp_random(-l,l),Math.pp_random(-l,l),Math.pp_random(-l,l)]}t?(this._myStaticPhysXObjects.push(o),this._myStaticPhysXComponents.push(r),this._myStaticPhysXCollectors.push(new PP.PhysXCollisionCollector(r))):(this._myDynamicPhysXObjects.push(o),this._myDynamicPhysXComponents.push(r),this._myDynamicPhysXCollectors.push(new PP.PhysXCollisionCollector(r)))}})});var Ye=C(()=>{WL.registerComponent(\"pp-benchmark-max-visible-triangles\",{_myTargetFrameRate:{type:WL.Type.Int,default:-1},_myTargetFrameRateThreshold:{type:WL.Type.Int,default:3},_myStartPlaneCount:{type:WL.Type.Int,default:1},_myPlaneTriangles:{type:WL.Type.Int,default:100},_mySecondsBeforeDoubling:{type:WL.Type.Float,default:.5},_myDTHistoryToIgnorePercentage:{type:WL.Type.Float,default:.25},_myCloneMaterial:{type:WL.Type.Bool,default:!1},_myCloneMesh:{type:WL.Type.Bool,default:!1},_myEnableLog:{type:WL.Type.Bool,default:!0},_myPlaneMaterial:{type:WL.Type.Material},_myBackgroundMaterial:{type:WL.Type.Material},_myTextMaterial:{type:WL.Type.Material,default:null}},{_start(){this._myBackgroundSize=4,this._myBackgroundObject.pp_setActive(!0),this._myBackgroundObject.pp_setScale(this._myBackgroundSize+.1),this._myBackgroundObject.pp_translate([0,0,-.001]),this._myDoubleTimer=new PP.Timer(this._mySecondsBeforeDoubling),this._myIsDone=!1,this._myCurrentPlanes=this._myStartPlaneCount,this._myDTHistory=[],this._myUpperLimit=-1,this._myLowerLimit=0,this._myPlanes=[],this._mySkipNextFrames=0,this._myMaxWaitFrames=0,this._myMaxPlanesReached=!1,this._myFirstTime=!0},_update(e){{if(e<1e-5)return;if(e>.5&&this._myMaxWaitFrames>0){this._myMaxWaitFrames--;return}if(this._myMaxWaitFrames=10,this._mySkipNextFrames>0){this._mySkipNextFrames--;return}}if(!this._myIsDone&&(this._myDoubleTimer.update(e),this._myDTHistory.push(e),this._myDoubleTimer.isDone())){this._myDoubleTimer.start();let t=this._computeAverageFrameRate(!1);if(this._myFirstTime)this._myFirstTime=!1;else{let i=!1;t<this._myStableFrameRate-this._myTargetFrameRateThreshold?(this._myUpperLimit=this._myCurrentPlanes,i=!0,this._myUpperLimit==1&&(this._myLowerLimit=1)):(this._myLowerLimit=this._myCurrentPlanes,this._myUpperLimit>0&&(this._myUpperLimit=Math.max(this._myUpperLimit,this._myLowerLimit))),this._myTriangleTextComponent.text=\"Triangles: \"+this._myCurrentPlanes*this._myRealTrianglesAmount,this._myPlaneTextComponent.text=\"Planes: \"+this._myCurrentPlanes,this._myFPSTextComponent.text=\"FPS: \"+t+\" / \"+this._myStableFrameRate,i?(this._myTriangleTextComponent.material.color=this._myLagColor,this._myPlaneTextComponent.material.color=this._myLagColor,this._myFPSTextComponent.material.color=this._myLagColor):(this._myTriangleTextComponent.material.color=this._myNormalColor,this._myPlaneTextComponent.material.color=this._myNormalColor,this._myFPSTextComponent.material.color=this._myNormalColor);let s=!1;(this._myUpperLimit>0&&!i&&this._myUpperLimit-this._myLowerLimit<=Math.max(2,1e3/this._myRealTrianglesAmount)||i&&this._myUpperLimit-this._myLowerLimit<=1||!i&&this._myMaxPlanesReached)&&(t<this._myStableFrameRate-this._myTargetFrameRateThreshold?(this._myLowerLimit=Math.max(1,Math.floor(this._myUpperLimit/2.5)),this._myUpperLimit=0,s=!0,this._myEnableLog&&console.log(\"Rst - Triangles:\",this._myCurrentPlanes*this._myRealTrianglesAmount,\"- Planes:\",this._myCurrentPlanes,\"- Frame Rate:\",t)):(this._myMaxPlanesReached?this._myEnableLog&&(console.log(\"Aborted - Max Planes Reached\"),this._myDoneTextComponent.text=\"Aborted - Max Planes Reached\"):(this._displayPlanes(this._myLowerLimit),this._myEnableLog&&(console.log(`\nEnd - Triangles:`,this._myLowerLimit*this._myRealTrianglesAmount,\"- Planes:\",this._myLowerLimit,\"- Frame Rate:\",t),console.log(\"Plane Triangles (Adjusted):\",this._myRealTrianglesAmount),console.log(\"Target Frame Rate:\",this._myStableFrameRate,\"- Threshold: \",this._myStableFrameRate-this._myTargetFrameRateThreshold)),this._myTriangleTextComponent.text=\"Triangles: \"+this._myLowerLimit*this._myRealTrianglesAmount,this._myPlaneTextComponent.text=\"Planes: \"+this._myLowerLimit,this._myFPSTextComponent.text=\"FPS: \"+t+\" / \"+this._myStableFrameRate,this._myDoneTextComponent.text=\"End\"),this._myIsDone=!0)),i&&!s&&this._myEnableLog&&console.log(\"Lag - Triangles:\",this._myCurrentPlanes*this._myRealTrianglesAmount,\"- Planes:\",this._myCurrentPlanes,\"- Frame Rate:\",t),this._myIsDone||(this._myUpperLimit>0?(this._myCurrentPlanes=Math.floor((this._myUpperLimit+this._myLowerLimit)/2),this._myCurrentPlanes=Math.max(this._myCurrentPlanes,1)):s?this._myCurrentPlanes=this._myLowerLimit:this._myCurrentPlanes=this._myLowerLimit*2,this._myCurrentPlanes>5e4?(this._myCurrentPlanes=5e4,this._myMaxPlanesReached=!0):this._myMaxPlanesReached=!1)}this._myIsDone||(this._displayPlanes(this._myCurrentPlanes),this._myElapsedTime=0,this._myFrameCount=0,this._mySkipNextFrames=30)}},_displayPlanes(e){for(;this._myPlanes.length>e;){let r=this._myPlanes.pop();this._myPlanePool.release(r)}for(;this._myPlanes.length<e;){let r=this._myPlanePool.get();this._myPlanes.push(r)}let t=1;for(;t*t<e;)t++;let i=.01,s=i*(t-1),n=(this._myBackgroundSize*2-s)/(t*2),o=e;for(let r=0;r<t&&o>0;r++)for(let l=0;l<t&&o>0;l++){let u=this._myPlanes[o-1];u.pp_setScale(n);let c=[-this._myBackgroundSize+n+l*n*2+l*i,this._myBackgroundSize-n-r*n*2-r*i,0];u.pp_setPositionLocal(c),u.pp_setActive(!0),o--}},start(){this._myLagColor=[.5,0,0,1],this._myNormalColor=[0,0,0,1],this._myRealTrianglesAmount=0,this._myTrianglesObject=WL.scene.addObject(this.object),this._myBackgroundObject=WL.scene.addObject(this._myTrianglesObject);{let t=this._myBackgroundObject.addComponent(\"mesh\");t.mesh=PP.MeshUtils.createPlaneMesh(),t.material=this._myBackgroundMaterial.clone()}this._myPlaneObject=WL.scene.addObject(this._myTrianglesObject);{let t=this._myPlaneObject.addComponent(\"mesh\");t.mesh=this._createPlaneMesh(this._myPlaneTriangles),this._myRealTrianglesAmount=t.mesh.indexData.length/3,t.material=this._myPlaneMaterial.clone()}let e=new PP.ObjectPoolParams;this._myCloneMesh?this._myRealTrianglesAmount<=4?e.myInitialPoolSize=15e3:this._myRealTrianglesAmount<=8?e.myInitialPoolSize=1e4:this._myRealTrianglesAmount<=64?e.myInitialPoolSize=7500:e.myInitialPoolSize=5e3:e.myInitialPoolSize=3e4,e.myPercentageToAddWhenEmpty=0,e.myAmountToAddWhenEmpty=1e4,e.myCloneParams=new PP.CloneParams,e.myCloneParams.myDeepCloneParams.setDeepCloneComponentVariable(\"mesh\",\"material\",this._myCloneMaterial),e.myCloneParams.myDeepCloneParams.setDeepCloneComponentVariable(\"mesh\",\"mesh\",this._myCloneMesh),this._myPlanePool=new PP.ObjectPool(this._myPlaneObject,e),this._myBackgroundObject.pp_setActive(!1),this._myPlaneObject.pp_setActive(!1),this._myStartTimer=new PP.Timer(this._mySecondsBeforeDoubling*2),this._mySessionStarted=!1,this._myTextsObject=WL.scene.addObject(this._myTrianglesObject),this._myTriangleTextObject=WL.scene.addObject(this._myTextsObject),this._myTriangleTextComponent=this._myTriangleTextObject.addComponent(\"text\"),this._myTriangleTextComponent.alignment=WL.Alignment.Left,this._myTriangleTextComponent.justification=WL.Justification.Line,this._myTriangleTextComponent.material=this._myTextMaterial.clone(),this._myTriangleTextComponent.material.color=this._myNormalColor,this._myTriangleTextComponent.text=\" \",this._myPlaneTextObject=WL.scene.addObject(this._myTextsObject),this._myPlaneTextComponent=this._myPlaneTextObject.addComponent(\"text\"),this._myPlaneTextComponent.alignment=WL.Alignment.Left,this._myPlaneTextComponent.justification=WL.Justification.Line,this._myPlaneTextComponent.material=this._myTextMaterial.clone(),this._myPlaneTextComponent.material.color=this._myNormalColor,this._myPlaneTextComponent.text=\" \",this._myFPSTextObject=WL.scene.addObject(this._myTextsObject),this._myFPSTextComponent=this._myFPSTextObject.addComponent(\"text\"),this._myFPSTextComponent.alignment=WL.Alignment.Left,this._myFPSTextComponent.justification=WL.Justification.Line,this._myFPSTextComponent.material=this._myTextMaterial.clone(),this._myFPSTextComponent.material.color=this._myNormalColor,this._myFPSTextComponent.text=\" \",this._myDoneTextObject=WL.scene.addObject(this._myTrianglesObject),this._myDoneTextComponent=this._myDoneTextObject.addComponent(\"text\"),this._myDoneTextComponent.alignment=WL.Alignment.Center,this._myDoneTextComponent.justification=WL.Justification.Line,this._myDoneTextComponent.material=this._myTextMaterial.clone(),this._myDoneTextComponent.material.color=this._myNormalColor,this._myDoneTextComponent.text=\" \",this._myTextsObject.pp_setPositionLocal([0,4.3,0]),this._myTextsObject.pp_setScale(2.75),this._myTriangleTextObject.pp_setPositionLocal([-1.4,0,0]),this._myPlaneTextObject.pp_setPositionLocal([.55,0,0]),this._myFPSTextObject.pp_setPositionLocal([-.315,0,0]),this._myDoneTextObject.pp_setPositionLocal([0,-4.6,0]),this._myDoneTextObject.pp_setScale(4),this._myDTHistory=[]},update(e){this._mySessionStarted?this._myStartTimer.isRunning()?(this._myStartTimer.update(e),this._myDTHistory.push(e),this._myStartTimer.isDone()&&(this._myStableFrameRate=this._computeAverageFrameRate(!0),this._myTargetFrameRate>0&&(this._myStableFrameRate=this._myTargetFrameRate),this._myEnableLog&&(console.log(`\nPlane Triangles (Adjusted):`,this._myRealTrianglesAmount),console.log(\"Target Frame Rate:\",this._myStableFrameRate,\"- Threshold: \",this._myStableFrameRate-this._myTargetFrameRateThreshold),console.log(\"\")),this._start())):this._update(e):this._mySessionStarted=WL.xrSession!=null},_computeAverageFrameRate(e){let t=0;this._myDTHistory.sort();let i=Math.floor(this._myDTHistory.length)*Math.min(.9,this._myDTHistoryToIgnorePercentage*(e?2:1));for(let n=0;n<i;n++)this._myDTHistory.pop();let s=0;for(let n of this._myDTHistory)s+=n;return s/=this._myDTHistory.length,t=Math.round(1/s),this._myDTHistory=[],t},_createPlaneMesh(e){let t=Math.ceil(e/2),i=1,s=1,n=1;for(;n*n<t;)n++;for(i=n,s=n;i>1&&s>1&&i*s>t&&(i-1)*s>=t;)i--;let o=new PP.MeshCreationParams;for(let l=0;l<i+1;l++)for(let u=0;u<s+1;u++){let c=2/s*u,a=2/i*l,m=new PP.MeshCreationVertexParams;m.myPosition=new PP.vec3_create,m.myPosition[0]=c-1,m.myPosition[1]=a-1,m.myPosition[2]=0,m.myTextureCoordinates=new PP.vec2_create,m.myTextureCoordinates[0]=c/2,m.myTextureCoordinates[1]=a/2,m.myNormal=new PP.vec3_create,m.myNormal[0]=0,m.myNormal[1]=0,m.myNormal[2]=1,o.myVertexes.push(m)}for(let l=0;l<i;l++)for(let u=0;u<s;u++){let c=new PP.MeshCreationTriangleParams;c.myIndexes[0]=l*(s+1)+u,c.myIndexes[1]=l*(s+1)+u+1,c.myIndexes[2]=(l+1)*(s+1)+u;let a=new PP.MeshCreationTriangleParams;a.myIndexes[0]=(l+1)*(s+1)+u,a.myIndexes[1]=l*(s+1)+u+1,a.myIndexes[2]=(l+1)*(s+1)+u+1,o.myTriangles.push(c),o.myTriangles.push(a)}return PP.MeshUtils.createMesh(o)}})});var Ze=C(()=>{Number.prototype.get=function(){return this.valueOf()};Object.defineProperty(Number.prototype,\"get\",{enumerable:!1});PP.NumberOverValue=class{constructor(t,i=null,s=0,n=0,o=PP.EasingFunction.linear,r=null){i==null&&(i=t),this._myStartNumber=t,this._myEndNumber=i,this._myStartInterpolationValue=s,this._myEndInterpolationValue=n,this._myEasingFunction=o,this._myRoundingFunction=r}get(t){let i=this._myEasingFunction(Math.pp_mapToRange(t,this._myStartInterpolationValue,this._myEndInterpolationValue,0,1)),s=Math.pp_lerp(this._myStartNumber,this._myEndNumber,i);return this._myRoundingFunction&&(s=this._myRoundingFunction(s,this._myStartNumber,this._myEndNumber)),s}getAverage(t){return this.get(t)}getRange(t){let i=this.get(t);return[i,i]}getMax(t){return this.get(t)}getMin(t){return this.get(t)}isInside(t,i){return this.get(i)==t}isInsideAngleRange(t,i){return this.isInsideAngleRangeDegrees(t,i)}isInsideAngleRangeDegrees(t,i){let s=this.get(i),n=Math.pp_angleClampDegrees(t),o=Math.pp_angleClampDegrees(s);return n==o}isInsideAngleRangeRadians(t,i){let s=this.get(i),n=Math.pp_angleClampRadians(t),o=Math.pp_angleClampRadians(s);return n==o}};PP.IntOverValue=class extends PP.NumberOverValue{constructor(t,i,s,n,o=PP.EasingFunction.linear,r=null){r==null&&(r=function(l,u,c){let a=null;return u<=c?a=Math.floor(l):a=Math.ceil(l),a}),super(t,i,s,n,o,r)}};PP.NumberRangeOverValue=class{constructor(t,i=null,s=0,n=0,o=PP.EasingFunction.linear,r=null){i==null&&(i=t),this._myStartNumberOverValue=new PP.NumberOverValue(t[0],i[0],s,n,o,r),this._myEndNumberOverValue=new PP.NumberOverValue(t[1],i[1],s,n,o,r),this._myRoundingFunction=r}get(t){let i=this._myStartNumberOverValue.get(t),s=this._myEndNumberOverValue.get(t),n=null;return this._myRoundingFunction?n=Math.pp_randomInt(i,s):n=Math.pp_random(i,s),n}getAverage(t){let i=this._myStartNumberOverValue.get(t),s=this._myEndNumberOverValue.get(t),n=(i+s)/2;return this._myRoundingFunction&&(n=this._myRoundingFunction(n,i,s)),n}getRange(t){let i=this._myStartNumberOverValue.get(t),s=this._myEndNumberOverValue.get(t);return[i,s]}getMax(t){let i=this._myStartNumberOverValue.get(t),s=this._myEndNumberOverValue.get(t);return Math.max(i,s)}getMin(t){let i=this._myStartNumberOverValue.get(t),s=this._myEndNumberOverValue.get(t);return Math.min(i,s)}isInside(t,i){let s=this._myStartNumberOverValue.get(i),n=this._myEndNumberOverValue.get(i),o=Math.min(s,n),r=Math.max(s,n);return t>=o&&t<=r}isInsideAngleRange(t,i){return this.isInsideAngleRangeDegrees(t,i)}isInsideAngleRangeDegrees(t,i){let s=this._myStartNumberOverValue.get(i),n=this._myEndNumberOverValue.get(i);return Math.pp_isInsideAngleRangeDegrees(t,s,n)}isInsideAngleRangeRadians(t,i){let s=this._myStartNumberOverValue.get(i),n=this._myEndNumberOverValue.get(i);return Math.pp_isInsideAngleRangeRadians(t,s,n)}};PP.IntRangeOverValue=class extends PP.NumberRangeOverValue{constructor(t,i,s,n,o=PP.EasingFunction.linear,r=null){r==null&&(r=function(l,u,c){let a=null;return u<=c?a=Math.floor(l):a=Math.ceil(l),a}),super(t,i,s,n,o,r)}}});var Je=C(()=>{PP.ObjectPoolManager=class{constructor(){this._myPoolMap=new Map}addPool(t,i,s=new PP.ObjectPoolParams){if(this._myPoolMap.has(t))console.error(\"Pool already created with this ID\");else{let n=new PP.ObjectPool(i,s);this._myPoolMap.set(t,n)}}increasePool(t,i){let s=this._myPoolMap.get(t);s&&s.increase(i)}increasePoolPercentage(t,i){let s=this._myPoolMap.get(t);s&&s.increasePercentage(i)}getPool(t){return this._myPoolMap.get(t)}hasPool(t){return this._myPoolMap.has(t)}getObject(t){return this._myPoolMap.has(t)?this._myPoolMap.get(t).get():null}releaseObject(t,i){this._myPoolMap.get(t).release(i)}};PP.ObjectPoolParams=class{constructor(){this.myInitialPoolSize=0,this.myAmountToAddWhenEmpty=1,this.myPercentageToAddWhenEmpty=.5,this.myCloneParams=void 0,this.myOptimizeObjectsAllocation=!0,this.myCloneCallback=void 0,this.mySetActiveCallback=void 0,this.myEqualCallback=void 0,this.myOptimizeObjectsAllocationCallback=void 0,this.myEnableDebugLog=!0}};PP.ObjectPool=class{constructor(t,i){this._myObjectPoolParams=i,this._myPrototype=this._clone(t),this._myAvailableObjects=[],this._myBusyObjects=[],this._addToPool(i.myInitialPoolSize,!1)}get(){let t=this._myAvailableObjects.shift();if(t==null){let i=Math.ceil(this._myBusyObjects.length*this._myObjectPoolParams.myPercentageToAddWhenEmpty);i+=this._myObjectPoolParams.myAmountToAddWhenEmpty,this._addToPool(i,this._myObjectPoolParams.myEnableDebugLog),t=this._myAvailableObjects.shift()}return t!=null&&this._myBusyObjects.push(t),t}release(t){let i=this._myBusyObjects.pp_remove(this._equals.bind(this,t));i&&(this._setActive(i,!1),this._myAvailableObjects.push(i))}increase(t){this._addToPool(t,!1)}increasePercentage(t){let i=Math.ceil(this.getSize()*t);this._addToPool(i,!1)}getSize(){return this._myBusyObjects.length+this._myAvailableObjects.length}getAvailableSize(){return this._myAvailableObjects.length}getBusySize(){return this._myAvailableObjects.length}_addToPool(t,i){if(!(t<=0)){this._myObjectPoolParams.myOptimizeObjectsAllocation&&(this._myObjectPoolParams.myOptimizeObjectsAllocationCallback?this._myObjectPoolParams.myOptimizeObjectsAllocationCallback(this._myPrototype,t):this._myPrototype.pp_reserveObjectsHierarchy!=null&&this._myPrototype.pp_reserveObjectsHierarchy(t));for(let s=0;s<t;s++)this._myAvailableObjects.push(this._clone(this._myPrototype));i&&console.warn(\"Added new elements to the pool:\",t)}}_clone(t){let i=null;return this._myObjectPoolParams.myCloneCallback!=null?i=this._myObjectPoolParams.myCloneCallback(t,this._myObjectPoolParams.myCloneParams):t.pp_clone!=null?i=t.pp_clone(this._myObjectPoolParams.myCloneParams):t.clone!=null&&(i=t.clone(this._myObjectPoolParams.myCloneParams)),i==null?console.error(\"Object not cloneable, pool will return null\"):this._setActive(i,!1),i}_setActive(t,i){this._myObjectPoolParams.mySetActiveCallback!=null?this._myObjectPoolParams.mySetActiveCallback(t,i):t.pp_setActive!=null?t.pp_setActive(i):t.setActive!=null&&t.setActive(i)}_equals(t,i){let s=!1;return this._myObjectPoolParams.myEqualCallback!=null?s=this._myObjectPoolParams.myEqualCallback(t,i):t.pp_equals!=null?s=t.pp_equals(i):t.equals!=null?s=t.equals(i):s=t==i,s}}});var $e=C(()=>{PP.PhysXCollisionCollector=class{constructor(t,i=!1){this._myPhysX=t,this._myIsTrigger=i,this._myCollisions=[],this._myCollisionsStart=[],this._myCollisionsEnd=[],this._myUpdateActive=!1,this._myCollisionsStartToProcess=[],this._myCollisionsEndToProcess=[],this._myCollisionCallbackID=null,this._myIsActive=!1,this.setActive(!0),this._myDebugActive=!1,this._myTriggerDesyncFixDelay=new PP.Timer(.1),this._myCollisionCallbacks=new Map,this._myCollisionStartCallbacks=new Map,this._myCollisionEndCallbacks=new Map}getPhysX(){return this._myPhysX}getCollisions(){return this._myCollisions}getCollisionsStart(){return this._myCollisionsStart}getCollisionsEnd(){return this._myCollisionsEnd}setActive(t){this._myIsActive!=t&&(this._myIsActive=t,this._myCollisions=[],this._myCollisionsStart=[],this._myCollisionsEnd=[],this._myUpdateActive=!1,this._myCollisionsStartToProcess=[],this._myCollisionsEndToProcess=[],this._myIsActive?this._myCollisionCallbackID=this._myPhysX.onCollision(this._onCollision.bind(this)):this._myCollisionCallbackID!=null&&(this._myPhysX.removeCollisionCallback(this._myCollisionCallbackID),this._myCollisionCallbackID=null))}setUpdateActive(t){this._myUpdateActive=t}update(t){!this._myIsActive||(this._myUpdateActive=!0,this._myCollisionsStart=this._myCollisionsStartToProcess,this._myCollisionsStartToProcess=[],this._myCollisionsEnd=this._myCollisionsEndToProcess,this._myCollisionsEndToProcess=[],this._myIsTrigger&&this._triggerDesyncFix(t))}destroy(){this._myCollisionCallbackID!=null&&(this._myPhysX.removeCollisionCallback(this._myCollisionCallbackID),this._myCollisionCallbackID=null)}setDebugActive(t){this._myDebugActive=t}registerCollisionEventListener(t,i){this._myCollisionCallbacks.set(t,i)}unregisterCollisionEventListener(t){this._myCollisionCallbacks.delete(t)}registerCollisionStartEventListener(t,i){this._myCollisionStartCallbacks.set(t,i)}unregisterCollisionStartEventListener(t){this._myCollisionStartCallbacks.delete(t)}registerCollisionEndEventListener(t,i){this._myCollisionEndCallbacks.set(t,i)}unregisterCollisionEndEventListener(t){this._myCollisionEndCallbacks.delete(t)}_onCollision(t,i){t==WL.CollisionEventType.Touch||t==WL.CollisionEventType.TriggerTouch?this._onCollisionStart(i):(t==WL.CollisionEventType.TouchLost||t==WL.CollisionEventType.TriggerTouchLost)&&this._onCollisionEnd(i),this._myCollisionCallbacks.size>0&&this._myCollisionCallbacks.forEach(function(s){s(this._myPhysX,i,t)})}_onCollisionStart(t){if(this._myDebugActive){let i=!1;for(let s of this._myCollisions)if(s.pp_equals(t.object)){i=!0;break}i&&console.error(\"Collision Start on object already collected\")}this._myCollisions.push(t.object),this._myUpdateActive&&(this._myCollisionsStartToProcess.push(t.object),this._myCollisionsEndToProcess.pp_removeAll(function(i){return i.pp_equals(t.object)})),this._myDebugActive&&console.log(\"Collision Start -\",this._myCollisions.length),this._myCollisionStartCallbacks.size>0&&this._myCollisionStartCallbacks.forEach(function(i){i(this._myPhysX,t,type)})}_onCollisionEnd(t){if(this._myDebugActive){let i=!1;for(let s of this._myCollisions)if(s.pp_equals(t.object)){i=!0;break}i||console.error(\"Collision End on object not collected\")}this._myCollisions.pp_removeAll(function(i){return i.pp_equals(t.object)}),this._myUpdateActive&&(this._myCollisionsEndToProcess.push(t.object),this._myCollisionsStartToProcess.pp_removeAll(function(i){return i.pp_equals(t.object)})),this._myDebugActive&&console.log(\"Collision End -\",this._myCollisions.length),this._myCollisionEndCallbacks.size>0&&this._myCollisionEndCallbacks.forEach(function(i){i(this._myPhysX,t,type)})}_triggerDesyncFix(t){if(this._myTriggerDesyncFixDelay.update(t),this._myTriggerDesyncFixDelay.isDone()){this._myTriggerDesyncFixDelay.start();let i=this._myCollisions.pp_findAll(function(s){let n=s.pp_getComponent(\"physx\");return n==null||!n.active});if(i.length>0)for(let s of i){let n=s.pp_getComponent(\"physx\");n?this._onCollisionEnd(n):console.error(\"NO PHYSX, HOW?\")}}}}});var ti=C(()=>{PP.SaveManager=class{constructor(){this._mySaveCache=new Map,this._myCommitSavesDelayTimer=new PP.Timer(0,!1),this._myDelaySavesCommit=!0,this._myIDsToCommit=[],this._myCacheDefaultValueOnFail=!0,WL.xrSession&&this._onXRSessionStart(WL.xrSession),WL.onXRSessionStart.push(this._onXRSessionStart.bind(this)),WL.onXRSessionEnd.push(this._onXRSessionEnd.bind(this)),this._myClearCallbacks=new Map,this._myDeleteCallbacks=new Map,this._myDeleteIDCallbacks=new Map,this._mySaveCallbacks=new Map,this._mySaveValueChangedCallbacks=new Map,this._mySaveIDCallbacks=new Map,this._mySaveValueChangedIDCallbacks=new Map,this._myCommitSaveCallbacks=new Map,this._myCommitSaveIDCallbacks=new Map,this._myCommitSavesCallbacks=new Map,this._myLoadCallbacks=new Map,this._myLoadIDCallbacks=new Map}setCommitSavesDelay(t){this._myCommitSavesDelayTimer.start(t)}setDelaySavesCommit(t){this._myDelaySavesCommit=t}setCacheDefaultValueOnFail(t){this._myCacheDefaultValueOnFail=t}update(t){this._myCommitSavesDelayTimer.isRunning()&&(this._myCommitSavesDelayTimer.update(t),this._myCommitSavesDelayTimer.isDone()&&this.commitSaves())}save(t,i,s=null){let n=!1;if(this._mySaveCache.has(t)&&(n=this._mySaveCache.get(t)===i),!n)if(this._mySaveCache.set(t,i),this._myDelaySavesCommit&&s==null||s!=null&&s)this._myIDsToCommit.pp_pushUnique(t),this._myCommitSavesDelayTimer.isRunning()||this._myCommitSavesDelayTimer.start();else{let o=this._commitSave(t,!1);if(this._myCommitSavesCallbacks.size>0){let r=!1;this._myCommitSavesCallbacks.forEach(function(l){l(r,o)})}}if(this._mySaveCallbacks.size>0&&this._mySaveCallbacks.forEach(function(o){o(t,i)}),this._mySaveIDCallbacks.size>0){let o=this._mySaveIDCallbacks.get(t);o?.forEach(function(r){r(t,i)})}if(!n&&(this._mySaveValueChangedCallbacks.size>0&&this._mySaveValueChangedCallbacks.forEach(function(o){o(t,i)}),this._mySaveValueChangedIDCallbacks.size>0)){let o=this._mySaveValueChangedIDCallbacks.get(t);o?.forEach(function(r){r(t,i)})}}commitSaves(){if(this._myIDsToCommit.length>0){let t=!1;for(let i of this._myIDsToCommit)if(this._mySaveCache.has(i)){let s=this._commitSave(i,!0);t=t||s}if(this._myIDsToCommit=[],this._myCommitSavesCallbacks.size>0){let i=!0;this._myCommitSavesCallbacks.forEach(function(s){s(i,t)})}}}has(t){return this._mySaveCache.has(t)||PP.SaveUtils.has(t)}delete(t){if(this._mySaveCache.delete(t),PP.SaveUtils.delete(t),this._myDeleteCallbacks.size>0&&this._myDeleteCallbacks.forEach(function(i){i(t)}),this._myDeleteIDCallbacks.size>0){let i=this._myDeleteIDCallbacks.get(t);i?.forEach(function(s){s(t)})}}clear(){this._mySaveCache.clear(),PP.SaveUtils.clear(),this._myClearCallbacks.size>0&&this._myClearCallbacks.forEach(function(t){t()})}load(t,i=null){return this._load(t,i,\"load\")}loadString(t,i=null){return this._load(t,i,\"loadString\")}loadNumber(t,i=null){return this._load(t,i,\"loadNumber\")}loadBool(t,i=null){return this._load(t,i,\"loadBool\")}getCommitSavesDelay(){return this._myCommitSavesDelayTimer.getDuration()}isDelaySavesCommit(){return this._myDelaySavesCommit}isCacheDefaultValueOnFail(){return this._myCacheDefaultValueOnFail}_commitSave(t,i){let s=this._mySaveCache.get(t),n=!1;try{PP.SaveUtils.save(t,s)}catch{n=!0}if(this._myCommitSaveCallbacks.size>0&&this._myCommitSaveCallbacks.forEach(function(o){o(t,s,i,n)}),this._myCommitSaveIDCallbacks.size>0){let o=this._myCommitSaveIDCallbacks.get(t);o?.forEach(function(r){r(t,s,i,n)})}return n}_load(t,i,s){let n=null,o=!1,r=!1;if(this._mySaveCache.has(t))n=this._mySaveCache.get(t),n==null&&i!=null&&(n=i,this._myCacheDefaultValueOnFail&&this._mySaveCache.set(t,n)),r=!0;else{let l=null;try{l=PP.SaveUtils[s](t,null)}catch{l=null,o=!0}l==null?n=i:n=l,l!=null||this._myCacheDefaultValueOnFail?this._mySaveCache.set(t,n):this._mySaveCache.set(t,null)}if(this._myLoadCallbacks.size>0&&this._myLoadCallbacks.forEach(function(l){l(t,n,r,o)}),this._myLoadIDCallbacks.size>0){let l=this._myLoadIDCallbacks.get(t);l?.forEach(function(u){u(t,n,r,o)})}return n}_onXRSessionStart(t){t.addEventListener(\"visibilitychange\",function(i){i.session.visibilityState!=\"visible\"&&this._onXRSessionInterrupt()}.bind(this))}_onXRSessionEnd(){this._onXRSessionInterrupt()}_onXRSessionInterrupt(){this.commitSaves()}registerClearEventListener(t,i){this._myClearCallbacks.set(t,i)}unregisterClearEventListener(t){this._myClearCallbacks.delete(t)}registerDeleteEventListener(t,i){this._myDeleteCallbacks.set(t,i)}unregisterDeleteEventListener(t){this._myDeleteCallbacks.delete(t)}registerDeleteIDEventListener(t,i,s){let n=this._myDeleteIDCallbacks.get(t);n==null&&(this._myDeleteIDCallbacks.set(t,new Map),n=this._myDeleteIDCallbacks.get(t)),n.set(i,s)}unregisterDeleteIDEventListener(t,i){let s=this._myDeleteIDCallbacks.get(t);s!=null&&(s.delete(i),s.size<=0&&this._myDeleteIDCallbacks.delete(t))}registerSaveEventListener(t,i){this._mySaveCallbacks.set(t,i)}unregisterSaveEventListener(t){this._mySaveCallbacks.delete(t)}registerSaveIDEventListener(t,i,s){let n=this._mySaveIDCallbacks.get(t);n==null&&(this._mySaveIDCallbacks.set(t,new Map),n=this._mySaveIDCallbacks.get(t)),n.set(i,s)}unregisterSaveIDEventListener(t,i){let s=this._mySaveIDCallbacks.get(t);s!=null&&(s.delete(i),s.size<=0&&this._mySaveIDCallbacks.delete(t))}registerSaveValueChangedEventListener(t,i){this._mySaveValueChangedCallbacks.set(t,i)}unregisterSaveValueChangedEventListener(t){this._mySaveValueChangedCallbacks.delete(t)}registerSaveValueChangedIDEventListener(t,i,s){let n=this._mySaveValueChangedIDCallbacks.get(t);n==null&&(this._mySaveValueChangedIDCallbacks.set(t,new Map),n=this._mySaveValueChangedIDCallbacks.get(t)),n.set(i,s)}unregisterSaveValueChangedIDEventListener(t,i){let s=this._mySaveValueChangedIDCallbacks.get(t);s!=null&&(s.delete(i),s.size<=0&&this._mySaveValueChangedIDCallbacks.delete(t))}registerCommitSavesEventListener(t,i){this._myCommitSavesCallbacks.set(t,i)}unregisterCommitSavesEventListener(t){this._myCommitSavesCallbacks.delete(t)}registerCommitSaveEventListener(t,i){this._myCommitSaveCallbacks.set(t,i)}unregisterCommitSaveEventListener(t){this._myCommitSaveCallbacks.delete(t)}registerCommitSaveIDEventListener(t,i,s){let n=this._myCommitSaveIDCallbacks.get(t);n==null&&(this._myCommitSaveIDCallbacks.set(t,new Map),n=this._myCommitSaveIDCallbacks.get(t)),n.set(i,s)}unregisterCommitSaveIDEventListener(t,i){let s=this._myCommitSaveIDCallbacks.get(t);s!=null&&(s.delete(i),s.size<=0&&this._myCommitSaveIDCallbacks.delete(t))}registerLoadEventListener(t,i){this._myLoadCallbacks.set(t,i)}unregisterLoadEventListener(t){this._myLoadCallbacks.delete(t)}registerLoadIDEventListener(t,i,s){let n=this._myLoadIDCallbacks.get(t);n==null&&(this._myLoadIDCallbacks.set(t,new Map),n=this._myLoadIDCallbacks.get(t)),n.set(i,s)}unregisterLoadIDEventListener(t,i){let s=this._myLoadIDCallbacks.get(t);s!=null&&(s.delete(i),s.size<=0&&this._myLoadIDCallbacks.delete(t))}}});var ei=C(()=>{PP.Timer=class{constructor(t,i=!0){this._myDuration=t,this._myOnEndCallbacks=new Map,this._myIsDone=!1,this._myStarted=!1,i?this.start():this.reset()}start(t=null){this.reset(t),this._myStarted=!0}end(){this._done()}reset(t=null){t!=null&&(this._myDuration=Math.max(0,t)),this._myTimer=this._myDuration,this._myIsDone=!1,this._myStarted=!1}update(t){this.isRunning()&&(this._myTimer=Math.max(0,this._myTimer-t),this._myTimer==0&&this._done())}isDone(){return this._myIsDone}isStarted(){return this._myStarted}isRunning(){return this.isStarted()&&!this.isDone()}getDuration(){return this._myDuration}setDuration(t){this._myDuration=Math.max(0,t)}getTimer(){return this._myTimer}getPercentage(){let t=1;return this._myTimer>0&&(t=(this._myDuration-this._myTimer)/this._myDuration),Math.pp_clamp(t,0,1)}onEnd(t,i=null){this._myOnEndCallbacks.set(i,t)}unregisterOnEnd(t=null){this._myOnEndCallbacks.delete(t)}_done(){if(this._myTimer=0,this._myIsDone=!0,this._myOnEndCallbacks.size>0)for(let t of this._myOnEndCallbacks.values())t()}}});var ii=C(()=>{WL.registerComponent(\"pp-clear-console-on-session\",{},{init:function(){},start:function(){this._myFirstTime=!0,WL.onXRSessionStart.push(function(){this._myFirstTime&&(this._myFirstTime=!1,console.clear())}.bind(this))},update:function(e){}})});var si=C(()=>{WL.registerComponent(\"pp-set-active\",{_myActive:{type:WL.Type.Bool,default:!0},_mySetActiveOn:{type:WL.Type.Enum,values:[\"self\",\"children\",\"descendants\",\"hierarchy\"],default:\"hierarchy\"},_mySetActiveWhen:{type:WL.Type.Enum,values:[\"init\",\"start\",\"first_update\"],default:\"init\"}},{init:function(){this.active&&this._mySetActiveWhen==0&&this._setActive()},start:function(){this._mySetActiveWhen==1&&this._setActive(),this._myFirst=!0},update:function(e){this._mySetActiveWhen==2&&this._myFirst&&(this._myFirst=!1,this._setActive())},_setActive(){this._mySetActiveOn==0?this.object.pp_setActiveSelf(this._myActive):this._mySetActiveOn==1?this.object.pp_setActiveChildren(this._myActive):this._mySetActiveOn==2?this.object.pp_setActiveDescendants(this._myActive):this.object.pp_setActiveHierarchy(this._myActive)}})});var ni=C(()=>{WL.registerComponent(\"pp-adjust-hierarchy-physx-scale\",{_myWhen:{type:WL.Type.Enum,values:[\"init\",\"start\",\"first_update\"],default:\"start\"}},{init:function(){this.active&&this._myWhen==0&&this._adjustScale()},start:function(){this._myWhen==1&&this._adjustScale(),this._myFirst=!0},update:function(e){this._myWhen==2&&this._myFirst&&(this._myFirst=!1,this._adjustScale())},_adjustScale(){let e=this.object.pp_getScale(),t=this.object.pp_getComponentsHierarchy(\"physx\");for(let i of t)i.extents[0]=i.extents[0]*e[0],i.extents[1]=i.extents[1]*e[1],i.extents[2]=i.extents[2]*e[2],i.active&&(i.active=!1,i.active=!0)}})});var oi=C(()=>{WL.registerComponent(\"pp-get-player-objects\",{_myPlayer:{type:WL.Type.Object},_myPlayerPivot:{type:WL.Type.Object},_myNonVRCamera:{type:WL.Type.Object},_myEyeLeft:{type:WL.Type.Object},_myEyeRight:{type:WL.Type.Object},_myHead:{type:WL.Type.Object},_myNonVRHead:{type:WL.Type.Object},_myVRHead:{type:WL.Type.Object},_myHandLeft:{type:WL.Type.Object},_myHandRight:{type:WL.Type.Object}},{init:function(){PP.myPlayerObjects.myPlayer=this._myPlayer,PP.myPlayerObjects.myPlayerPivot=this._myPlayerPivot,PP.myPlayerObjects.myNonVRCamera=this._myNonVRCamera,PP.myPlayerObjects.myNonVRHead=this._myNonVRHead,PP.myPlayerObjects.myVRHead=this._myVRHead,PP.myPlayerObjects.myEyeLeft=this._myEyeLeft,PP.myPlayerObjects.myEyeRight=this._myEyeRight,PP.myPlayerObjects.myHandLeft=this._myHandLeft,PP.myPlayerObjects.myHandRight=this._myHandRight,PP.myPlayerObjects.myEyes=[],PP.myPlayerObjects.myEyes[PP.Handedness.LEFT]=this._myEyeLeft,PP.myPlayerObjects.myEyes[PP.Handedness.RIGHT]=this._myEyeRight,PP.myPlayerObjects.myHands=[],PP.myPlayerObjects.myHands[PP.Handedness.LEFT]=this._myHandLeft,PP.myPlayerObjects.myHands[PP.Handedness.RIGHT]=this._myHandRight,PP.myPlayerObjects.myPlayerPivot==null&&(PP.myPlayerObjects.myPlayerPivot=PP.myPlayerObjects.myPlayer),PP.myPlayerObjects.myHead=this._myNonVRHead,WL.xrSession&&this._onXRSessionStart(WL.xrSession),WL.onXRSessionStart.push(this._onXRSessionStart.bind(this)),WL.onXRSessionEnd.push(this._onXRSessionEnd.bind(this))},_onXRSessionStart(e){PP.myPlayerObjects.myHead=PP.myPlayerObjects.myVRHead},_onXRSessionEnd(){PP.myPlayerObjects.myHead=PP.myPlayerObjects.myNonVRHead}});PP.myPlayerObjects={myPlayer:null,myPlayerPivot:null,myNonVRCamera:null,myNonVRHead:null,myVRHead:null,myHead:null,myEyeLeft:null,myEyeRight:null,myEyes:[],myHandLeft:null,myHandRight:null,myHands:[]}});var ai=C(()=>{WL.registerComponent(\"pp-get-default-resources\",{_myPlane:{type:WL.Type.Mesh},_myCube:{type:WL.Type.Mesh},_mySphere:{type:WL.Type.Mesh},_myCone:{type:WL.Type.Mesh},_myCylinder:{type:WL.Type.Mesh},_myCircle:{type:WL.Type.Mesh},_myFlatOpaque:{type:WL.Type.Material},_myPhongOpaque:{type:WL.Type.Material},_myText:{type:WL.Type.Material}},{init(){PP.myDefaultResources.myMeshes.myPlane=PP.MeshUtils.cloneMesh(this._myPlane),PP.myDefaultResources.myMeshes.myCube=PP.MeshUtils.cloneMesh(this._myCube),PP.myDefaultResources.myMeshes.mySphere=PP.MeshUtils.cloneMesh(this._mySphere),PP.myDefaultResources.myMeshes.myCone=PP.MeshUtils.cloneMesh(this._myCone),PP.myDefaultResources.myMeshes.myCylinder=PP.MeshUtils.cloneMesh(this._myCylinder),PP.myDefaultResources.myMeshes.myCircle=PP.MeshUtils.cloneMesh(this._myCircle),PP.myDefaultResources.myMaterials.myFlatOpaque=this._myFlatOpaque.clone(),PP.myDefaultResources.myMaterials.myPhongOpaque=this._myPhongOpaque.clone(),PP.myDefaultResources.myMaterials.myText=this._myText.clone()}});PP.myDefaultResources={myMeshes:{myPlane:null,myCube:null,mySphere:null,myCone:null,myCylinder:null,myCircle:null},myMaterials:{myFlatOpaque:null,myPhongOpaque:null,myText:null}}});var ri=C(()=>{PP.StateData=class{constructor(t,i){this.myID=t,this.myObject=i}};PP.TransitionData=class{constructor(t,i,s,n,o){this.myID=t,this.myFromState=i,this.myToState=s,this.myObject=n,this.mySkipStateFunction=o}};PP.PendingPerform=class{constructor(t,...i){this.myID=t,this.myArgs=i}};PP.PerformType={IMMEDIATE:0,DELAYED:1};PP.PerformDelayedType={QUEUE:0,KEEP_FIRST:1,KEEP_LAST:2};PP.SkipStateFunction={NONE:0,END:1,START:2,BOTH:3};PP.FSM=class{constructor(t=PP.PerformType.IMMEDIATE,i=PP.PerformDelayedType.QUEUE){this._myCurrentStateData=null,this._myStateMap=new Map,this._myTransitionMap=new Map,this._myDebugLogActive=!1,this._myDebugShowDelayedInfo=!1,this._myDebugLogName=\"FSM\",this._myPerformType=t,this._myPerformDelayedType=i,this._myPendingPerforms=[],this._myInitCallbacks=new Map,this._myInitIDCallbacks=new Map,this._myTransitionCallbacks=new Map,this._myTransitionIDCallbacks=[]}addState(t,i=null){let s=null;!i||typeof i==\"function\"?(s={},typeof i==\"function\"?s.update=i:s.update=null,s.clone=function(){let o={};return o.update=this.update,o.clone=this.clone,o}):s=i;let n=new PP.StateData(t,s);this._myStateMap.set(t,n),this._myTransitionMap.set(t,new Map)}addTransition(t,i,s,n=null,o=PP.SkipStateFunction.NONE){let r=null;if(!n||typeof n==\"function\"?(r={},typeof n==\"function\"?r.perform=n:r.perform=null,r.clone=function(){let l={};return l.perform=this.perform,l.clone=this.clone,l}):r=n,this.hasState(t)&&this.hasState(i)){let l=this._getTransitionMapFromState(t),u=new PP.TransitionData(s,this.getState(t),this.getState(i),r,o);l.set(s,u)}else!this.hasState(t)&&!this.hasState(i)?console.error(\"Can't add transition:\",s,\"- from state not found:\",t,\"- to state not found:\",i):this.hasState(t)?this.hasState(i)||console.error(\"Can't add transition:\",s,\"- to state not found:\",i):console.error(\"Can't add transition:\",s,\"- from state not found:\",t)}init(t,i=null,...s){let n=i;if(i&&typeof i==\"function\"&&(n={},n.performInit=i),this.hasState(t)){let o=this._myStateMap.get(t);if(this._myDebugLogActive&&console.log(this._myDebugLogName,\"- Init:\",t),n&&n.performInit?n.performInit(this,o,...s):o.myObject&&o.myObject.init&&o.myObject.init(this,o,...s),this._myCurrentStateData=o,this._myInitCallbacks.size>0&&this._myInitCallbacks.forEach(function(r){r(this,o,n,...s)}.bind(this)),this._myInitIDCallbacks.size>0){let r=this._myInitIDCallbacks.get(t);r?.forEach(function(l){l(this,o,n,...s)}.bind(this))}}else this._myDebugLogActive&&console.warn(this._myDebugLogName,\"- Init state not found:\",t)}update(t,...i){if(this._myPendingPerforms.length>0){for(let s=0;s<this._myPendingPerforms.length;s++)this._perform(this._myPendingPerforms[s].myID,PP.PerformType.DELAYED,...this._myPendingPerforms[s].myArgs);this._myPendingPerforms=[]}this._myCurrentStateData&&this._myCurrentStateData.myObject&&this._myCurrentStateData.myObject.update&&this._myCurrentStateData.myObject.update(t,this,...i)}perform(t,...i){this._myPerformType==PP.PerformType.DELAYED?this.performDelayed(t,...i):this.performImmediate(t,...i)}performDelayed(t,...i){let s=!1;switch(this._myPerformDelayedType){case PP.PerformDelayedType.QUEUE:this._myPendingPerforms.push(new PP.PendingPerform(t,...i)),s=!0;break;case PP.PerformDelayedType.KEEP_FIRST:this.hasPendingPerforms()||(this._myPendingPerforms.push(new PP.PendingPerform(t,...i)),s=!0);break;case PP.PerformDelayedType.KEEP_LAST:this.resetPendingPerforms(),this._myPendingPerforms.push(new PP.PendingPerform(t,...i)),s=!0;break}return s}performImmediate(t,...i){return this._perform(t,PP.PerformType.IMMEDIATE,...i)}canPerform(t){return this.hasTransitionFromState(this._myCurrentStateData.myID,t)}canGoTo(t,i=null){return this.hasTransitionFromStateToState(this._myCurrentStateData.myID,t,i)}isInState(t){return this._myCurrentStateData!=null&&this._myCurrentStateData.myID==t}hasBeenInit(){return this._myCurrentStateData!=null}reset(){this.resetState(),this.resetPendingPerforms()}resetState(){this._myCurrentStateData=null}resetPendingPerforms(){this._myPendingPerforms=[]}getCurrentState(){return this._myCurrentStateData}getCurrentTransitions(){return this.getTransitionsFromState(this._myCurrentStateData.myID)}getCurrentTransitionsToState(t){return this.getTransitionsFromStateToState(this._myCurrentStateData.myID,t)}getState(t){return this._myStateMap.get(t)}getStates(){return this._myStateMap.values()}getTransitions(){let t=[];for(let i of this._myTransitionMap.values())for(let s of i.values())t.push(s);return t}getTransitionsFromState(t){let i=this._getTransitionMapFromState(t);return Array.from(i.values())}getTransitionsFromStateToState(t,i){let s=this._getTransitionMapFromState(t),n=[];for(let o of s.values())o.myToState.myID==i&&n.push(o);return n}removeState(t){if(this.hasState(t)){this._myStateMap.delete(t),this._myTransitionMap.delete(t);for(let i of this._myTransitionMap.values()){let s=[];for(let[n,o]of i.entries())o.myToState.myID==t&&s.push(n);for(let n of s)i.delete(n)}return!0}return!1}removeTransitionFromState(t,i){let s=this._getTransitionMapFromState(t);return s?s.delete(i):!1}hasState(t){return this._myStateMap.has(t)}hasTransitionFromState(t,i){return this.getTransitionsFromState(t).findIndex(function(o){return o.myID==i})>=0}hasTransitionFromStateToState(t,i,s=null){let n=this.getTransitionsFromStateToState(t,i),o=!1;return s?o=n.findIndex(function(l){return l.myID==s})>=0:o=n.length>0,o}setPerformType(t){this._myPerformType=t}getPerformType(){return this._myPerformType}setPerformDelayedType(t){this._myPerformDelayedType=t}getPerformDelayedType(){return this._myPerformDelayedType}hasPendingPerforms(){return this._myPendingPerforms.length>0}getPendingPerforms(){return this._myPendingPerforms.slice(0)}clone(t=!1){if(!this.isCloneable(t))return null;let i=new PP.FSM;i._myDebugLogActive=this._myDebugLogActive,i._myDebugShowDelayedInfo=this._myDebugShowDelayedInfo,i._myDebugLogName=this._myDebugLogName.slice(0),i._myPerformType=this._myPerformType,i._myPerformDelayedType=this._myPerformDelayedType,i._myPendingPerforms=this._myPendingPerforms.slice(0);for(let s of this._myStateMap.entries()){let n=null;t?n=new PP.StateData(s[1].myID,s[1].myObject.clone()):n=new PP.StateData(s[1].myID,s[1].myObject),i._myStateMap.set(n.myID,n)}for(let s of this._myTransitionMap.entries()){let n=new Map;i._myTransitionMap.set(s[0],n);for(let o of s[1].entries()){let r=null,l=i.getState(o[1].myFromState.myID),u=i.getState(o[1].myToState.myID);t?r=new PP.TransitionData(o[1].myID,l,u,o[1].myObject.clone(),o[1].mySkipStateFunction):r=new PP.TransitionData(o[1].myID,l,u,o[1].myObject,o[1].mySkipStateFunction),n.set(r.myID,r)}}return this._myCurrentStateData&&(i._myCurrentStateData=i.getState(this._myCurrentStateData.myID)),i}isCloneable(t=!1){if(!t)return!0;let i=!0;for(let s of this._myStateMap.entries())i=i&&s[1].myObject.clone!=null;for(let s of this._myTransitionMap.entries())for(let n of s[1].entries())i=i&&n[1].myObject.clone!=null;return i}setDebugLogActive(t,i=null,s=!1){this._myDebugLogActive=t,this._myDebugShowDelayedInfo=s,i&&(this._myDebugLogName=\"FSM: \".concat(i))}registerInitEventListener(t,i){this._myInitCallbacks.set(t,i)}unregisterInitEventListener(t){this._myInitCallbacks.delete(t)}registerInitIDEventListener(t,i,s){let n=this._myInitIDCallbacks.get(t);n==null&&(this._myInitIDCallbacks.set(t,new Map),n=this._myInitIDCallbacks.get(t)),n.set(i,s)}unregisterInitIDEventListener(t,i){let s=this._myInitIDCallbacks.get(t);s!=null&&(s.delete(i),s.size<=0&&this._myInitIDCallbacks.delete(t))}registerTransitionEventListener(t,i){this._myTransitionCallbacks.set(t,i)}unregisterTransitionEventListener(t){this._myTransitionCallbacks.delete(t)}registerTransitionIDEventListener(t,i,s,n,o){let r=null;for(let l of this._myTransitionIDCallbacks)if(l[0]==t&&l[1]==i&&l[2]==s){r=l[3];break}if(r==null){let l=[];l[0]=t,l[1]=i,l[2]=s,l[3]=new Map,r=l[3],this._myTransitionIDCallbacks.push(l)}r.set(n,o)}unregisterTransitionIDEventListener(t,i,s,n){let o=null;for(let r of this._myTransitionIDCallbacks)if(r[0]==t&&r[1]==i&&r[2]==s){o=r[3];break}o!=null&&(o.delete(n),o.size<=0&&this._myTransitionIDCallbacks.pp_remove(r=>r[0]==t&&r[1]==i&&r[2]==s))}_perform(t,i,...s){if(this._myCurrentStateData){if(this.canPerform(t)){let o=this._myTransitionMap.get(this._myCurrentStateData.myID).get(t),r=this._myCurrentStateData,l=this._myStateMap.get(o.myToState.myID);if(this._myDebugLogActive){let u=[this._myDebugLogName,\"- From:\",r.myID,\"- To:\",l.myID,\"- With:\",t];this._myDebugShowDelayedInfo&&u.push(i==PP.PerformType.DELAYED?\"- Delayed\":\"- Immediate\"),console.log(...u)}if(o.mySkipStateFunction!=PP.SkipStateFunction.END&&o.mySkipStateFunction!=PP.SkipStateFunction.BOTH&&r.myObject&&r.myObject.end&&r.myObject.end(this,o,...s),o.myObject&&o.myObject.perform&&o.myObject.perform(this,o,...s),o.mySkipStateFunction!=PP.SkipStateFunction.START&&o.mySkipStateFunction!=PP.SkipStateFunction.BOTH&&l.myObject&&l.myObject.start&&l.myObject.start(this,o,...s),this._myCurrentStateData=o.myToState,this._myTransitionCallbacks.size>0&&this._myTransitionCallbacks.forEach(function(u){u(this,r,l,o,i,...s)}.bind(this)),this._myTransitionIDCallbacks.length>0){let u=[];for(let c of this._myTransitionIDCallbacks)(c[0]==null||c[0]==r.myID)&&(c[1]==null||c[1]==l.myID)&&(c[2]==null||c[2]==o.myID)&&u.push(c[3]);for(let c of this.transitionIDMaps)c.forEach(function(a){a(this,r,l,o,i,...s)}.bind(this))}return!0}else if(this._myDebugLogActive){let n=[this._myDebugLogName,\"- No Transition:\",t,\"- From:\",this._myCurrentStateData.myID];this._myDebugShowDelayedInfo&&n.push(i==PP.PerformType.DELAYED?\"- Delayed\":\"- Immediate\"),console.warn(...n)}}else if(this._myDebugLogActive){let n=[this._myDebugLogName,\"- FSM not initialized yet\"];this._myDebugShowDelayedInfo&&n.push(i==PP.PerformType.DELAYED?\"- Delayed\":\"- Immediate\"),console.warn(...n)}return!1}_getTransitionMapFromState(t){return this._myTransitionMap.get(t)}}});var li=C(()=>{PP.State=class{update(t,i,...s){}init(t,i,...s){}start(t,i,...s){}end(t,i,...s){}}});var mi=C(()=>{PP.Transition=class{performInit(t,i,...s){}perform(t,i,...s){}}});var ui=C(()=>{PP.TimerState=class extends PP.State{constructor(t=0,i=null,...s){super(),this._myTransitionToPerformOnEnd=i,this._myTransitionArgs=s,this._myTimer=new PP.Timer(t,!1)}setDuration(t){this._myTimer.setDuration(t)}setTransitionToPerformOnEnd(t,...i){this._myTransitionToPerformOnEnd=t,this._myTransitionArgs=i}onEnd(t,i=null){this._myTimer.onEnd(t,i)}unregisterOnEnd(t=null){this._myTimer.unregisterOnEnd(t)}update(t,i){this._myTimer.update(t),this._myTimer.isDone()&&this._myTransitionToPerformOnEnd!=null&&i.perform(this._myTransitionToPerformOnEnd,...this._myTransitionArgs)}start(t,i,s=null,n=null,...o){this._myTimer.start(s),n!=null&&(this._myTransitionToPerformOnEnd=n,this._myTransitionArgs=o)}init(t,i,s=null,n=null,...o){this._myTimer.start(s),n!=null&&(this._myTransitionToPerformOnEnd=n,this._myTransitionArgs=o)}}});var yi=C(()=>{PP.CAUtils={_myDummyServer:null,_myUseDummyServerOnSDKMissing:!1,_myUseDummyServerOnError:!1,setUseDummyServerOnSDKMissing:function(e){PP.CAUtils._myUseDummyServerOnSDKMissing=e},setUseDummyServerOnError:function(e){PP.CAUtils._myUseDummyServerOnError=e},setDummyServer:function(e){PP.CAUtils._myDummyServer=e},isUseDummyServerOnSDKMissing:function(){return PP.CAUtils._myUseDummyServerOnSDKMissing},isUseDummyServerOnError:function(){return PP.CAUtils._myUseDummyServerOnError},getDummyServer:function(){return PP.CAUtils._myDummyServer},isSDKAvailable:function(){return\"casdk\"in window},getLeaderboard:function(e,t,i,s,n,o,r=null){if(PP.CAUtils.isSDKAvailable())i?PP.CAUtils.getUser(function(l){let u=l.displayName;casdk.getLeaderboard(e,t,i,s).then(function(c){if(c.leaderboard){let a=!1;for(let m of c.leaderboard)if(m.displayName==u&&m.score!=0){a=!0;break}if(a)n&&n(c.leaderboard);else if(PP.CAUtils._myUseDummyServerOnError&&r==null||r!=null&&r)PP.CAUtils.getLeaderboardDummy(e,t,i,s,n,o);else if(o){let m={};m.reason=\"Searching for around player but the user has not submitted a score yet\",m.type=PP.CAUtils.ErrorType.USER_HAS_NO_SCORE,o(m,c)}}else if(PP.CAUtils._myUseDummyServerOnError&&r==null||r!=null&&r)PP.CAUtils.getLeaderboardDummy(e,t,i,s,n,o);else if(o){let a={};a.reason=\"Get leaderboard failed\",a.type=PP.CAUtils.ErrorType.GET_LEADERBOARD_FAILED,o(a,c)}})},function(){if(PP.CAUtils._myUseDummyServerOnError&&r==null||r!=null&&r)PP.CAUtils.getLeaderboardDummy(e,t,i,s,n,o);else if(o){let l={};l.reason=\"Searching for around player but the user can't be retrieved\",l.type=PP.CAUtils.ErrorType.GET_USER_FAILED,o(l,result)}},!1):casdk.getLeaderboard(e,t,i,s).then(function(l){if(l.leaderboard)n&&n(l.leaderboard);else if(PP.CAUtils._myUseDummyServerOnError&&r==null||r!=null&&r)PP.CAUtils.getLeaderboardDummy(e,t,i,s,n,o);else if(o){let u={};u.reason=\"Get leaderboard failed\",u.type=PP.CAUtils.ErrorType.GET_LEADERBOARD_FAILED,o(u,l)}});else if(PP.CAUtils._myUseDummyServerOnSDKMissing&&r==null||r!=null&&r)PP.CAUtils.getLeaderboardDummy(e,t,i,s,n,o);else if(o){let l={};l.reason=\"Construct Arcade SDK missing\",l.type=PP.CAUtils.ErrorType.CA_SDK_MISSING,o(l,null)}},getLeaderboardDummy(e,t,i,s,n,o){if(PP.CAUtils._myDummyServer)PP.CAUtils._myDummyServer.getLeaderboard(e,t,i,s,n,o);else if(o){let r={};r.reason=\"Dummy server not initialized\",r.type=PP.CAUtils.ErrorType.DUMMY_NOT_INITIALIZED,o(r)}},submitScore:function(e,t,i,s,n=null){if(PP.CAUtils.isSDKAvailable())casdk.submitScore(e,t).then(function(o){if(o.error){if(PP.CAUtils._myUseDummyServerOnError&&n==null||n!=null&&n)PP.CAUtils.submitScoreDummy(e,t,i,s);else if(s){let r={};r.reason=\"Submit score failed\",r.type=PP.CAUtils.ErrorType.SUBMIT_SCORE_FAILED,s(r,o)}}else i()});else if(PP.CAUtils._myUseDummyServerOnSDKMissing&&n==null||n!=null&&n)PP.CAUtils.submitScoreDummy(e,t,i,s);else if(s){let o={};o.reason=\"Construct Arcade SDK missing\",o.type=PP.CAUtils.ErrorType.CA_SDK_MISSING,s(o,null)}},submitScoreDummy(e,t,i,s){if(PP.CAUtils._myDummyServer)PP.CAUtils._myDummyServer.submitScore(e,t,i,s);else if(s){let n={};n.reason=\"Dummy server not initialized\",n.type=PP.CAUtils.ErrorType.DUMMY_NOT_INITIALIZED,s(n)}},getUser:function(e,t,i=null){if(PP.CAUtils.isSDKAvailable())casdk.getUser().then(function(s){if(s.user)e&&e(s.user);else if(PP.CAUtils._myUseDummyServerOnError&&i==null||i!=null&&i)PP.CAUtils.getUserDummy(e,t);else if(t){let n={};n.reason=\"Get user failed\",n.type=PP.CAUtils.ErrorType.GET_USER_FAILED,t(n,s)}});else if(PP.CAUtils._myUseDummyServerOnSDKMissing&&i==null||i!=null&&i)PP.CAUtils.getUserDummy(e,t);else if(t){let s={};s.reason=\"Construct Arcade SDK missing\",s.type=PP.CAUtils.ErrorType.CA_SDK_MISSING,t(s,null)}},getUserDummy(e,t){if(PP.CAUtils._myDummyServer)PP.CAUtils._myDummyServer.getUser(e,t);else if(t){let i={};i.reason=\"Dummy server not initialized\",i.type=PP.CAUtils.ErrorType.DUMMY_NOT_INITIALIZED,t(i)}},ErrorType:{DUMMY_NOT_INITIALIZED:0,CA_SDK_MISSING:1,SUBMIT_SCORE_FAILED:2,GET_LEADERBOARD_FAILED:3,GET_USER_FAILED:4,USER_HAS_NO_SCORE:5}};PP.CADummyServer=class{constructor(){}getLeaderboard(t,i,s,n,o,r){let l=null;for(s?l=[{rank:7,displayName:\"Player 1\",score:1e6},{rank:8,displayName:\"Player 2\",score:1e6},{rank:9,displayName:\"Player 3\",score:9e5},{rank:10,displayName:\"Player 4\",score:8e5},{rank:11111,displayName:\"Player 5\",score:7e7},{rank:22222,displayName:\"VeryLongName_06\",score:6e5},{rank:33333,displayName:\"Player 7\",score:5e5},{rank:44444,displayName:\"Player 8\",score:4e5},{rank:55555,displayName:\"Player 9\",score:3e5},{rank:66666,displayName:\"Player 10\",score:2e5}]:l=[{rank:0,displayName:\"Player 1\",score:1e6},{rank:1,displayName:\"Player 2\",score:1e6},{rank:2,displayName:\"Player 3\",score:9e5},{rank:3,displayName:\"Player 4\",score:8e5},{rank:4,displayName:\"Player 5\",score:7e5},{rank:5,displayName:\"Player 6\",score:6e5},{rank:6,displayName:\"Player 7\",score:5e5},{rank:7,displayName:\"Player 8\",score:4e5},{rank:8,displayName:\"Player 9\",score:3e5},{rank:9,displayName:\"Player 10\",score:2e5}];l.length>n;)l.pop();o&&o(l)}submitScore(t,i,s,n){s&&s()}getUser(t,i){let s={};s.displayName=\"Jonathan\",t&&t(s)}}});var ci=C(()=>{PP.ColorUtils={rgbToHsv:function(e){let t=e.pp_clone(),i=e[0],s=e[1],n=e[2];var o=Math.max(i,s,n),r=Math.min(i,s,n),l=o-r,u,c=o===0?0:l/o,a=o;switch(o){case r:u=0;break;case i:u=s-n+l*(s<n?6:0),u/=6*l;break;case s:u=n-i+l*2,u/=6*l;break;case n:u=i-s+l*4,u/=6*l;break}return t[0]=u,t[1]=c,t[2]=a,t},hsvToRgb:function(e){let t=e.pp_clone(),i=e[0],s=e[1],n=e[2],o,r,l,u,c,a,m,y;switch(u=Math.floor(i*6),c=i*6-u,a=n*(1-s),m=n*(1-c*s),y=n*(1-(1-c)*s),u%6){case 0:o=n,r=y,l=a;break;case 1:o=m,r=n,l=a;break;case 2:o=a,r=n,l=y;break;case 3:o=a,r=m,l=n;break;case 4:o=y,r=a,l=n;break;case 5:o=n,r=a,l=m;break}return t[0]=o,t[1]=r,t[2]=l,t},rgbCodeToHuman(e){return PP.ColorUtils.color1To255(e)},rgbHumanToCode(e){return PP.ColorUtils.color255To1(e)},hsvCodeToHuman(e){return PP.ColorUtils.color1To255(e)},hsvHumanToCode(e){return PP.ColorUtils.color255To1(e)},color255To1(e){let t=e.pp_clone();for(let i=0;i<t.length;i++)t[i]/=255,t[i]=Math.pp_clamp(t[i],0,1);return t},color1To255(e){let t=e.pp_clone();for(let i=0;i<t.length;i++)t[i]=Math.round(t[i]*255),t[i]=Math.pp_clamp(t[i],0,255);return t}}});var hi=C(()=>{PP.MeshCreationVertexParams=class{constructor(){this.myPosition=null,this.myTextureCoordinates=null,this.myNormal=null,this.myColor=null}};PP.MeshCreationTriangleParams=class{constructor(){this.myIndexes=new Uint32Array(3)}};PP.MeshCreationParams=class{constructor(){this.myVertexes=[],this.myTriangles=[]}};PP.MeshUtils={createPlaneMesh:function(){let e=4,t=new PP.MeshCreationParams;for(let o=0;o<e;++o){let r=new PP.MeshCreationVertexParams;r.myPosition=new PP.vec3_create,r.myPosition[0]=-1+(o&1)*2,r.myPosition[1]=-1+((o&2)>>1)*2,r.myPosition[2]=0,r.myTextureCoordinates=new PP.vec2_create,r.myTextureCoordinates[0]=o&1,r.myTextureCoordinates[1]=(o&2)>>1,r.myNormal=new PP.vec3_create,r.myNormal[0]=0,r.myNormal[1]=0,r.myNormal[2]=1,t.myVertexes.push(r)}let i=new PP.MeshCreationTriangleParams;i.myIndexes[0]=0,i.myIndexes[1]=1,i.myIndexes[2]=2;let s=new PP.MeshCreationTriangleParams;return s.myIndexes[0]=2,s.myIndexes[1]=1,s.myIndexes[2]=3,t.myTriangles.push(i),t.myTriangles.push(s),PP.MeshUtils.createMesh(t)},createMesh:function(e){let t=[];for(let c of e.myTriangles)t.push(c.myIndexes[0]),t.push(c.myIndexes[1]),t.push(c.myIndexes[2]);let i=new Uint32Array(t.length);i.pp_copy(t);let s=e.myVertexes.length,n=new WL.Mesh({vertexCount:s,indexData:i,indexType:WL.MeshIndexType.UnsignedInt}),o=null,r=null,l=null,u=null;try{o=n.attribute(WL.MeshAttribute.Position)}catch{o=null}try{r=n.attribute(WL.MeshAttribute.TextureCoordinate)}catch{r=null}try{l=n.attribute(WL.MeshAttribute.Normal)}catch{l=null}try{u=n.attribute(WL.MeshAttribute.Color)}catch{u=null}for(let c=0;c<e.myVertexes.length;c++){let a=e.myVertexes[c];o!=null&&a.myPosition&&o.set(c,a.myPosition),r!=null&&a.myTextureCoordinates&&r.set(c,a.myTextureCoordinates),l!=null&&a.myNormal&&l.set(c,a.myNormal),u!=null&&a.myColor&&u.set(c,a.myColor)}return n},cloneMesh:function(){let e=PP.vec3_create(),t=PP.vec2_create(),i=PP.vec3_create(),s=PP.vec4_create();return function(o){let r=new Uint32Array(o.indexData.length);for(let _=0;_<o.indexData.length;_++)r[_]=o.indexData[_];let l=new WL.Mesh({vertexCount:o.vertexCount,indexData:r,indexType:WL.MeshIndexType.UnsignedInt}),u=null,c=null,a=null,m=null,y=null,p=null,d=null,g=null;try{u=o.attribute(WL.MeshAttribute.Position),y=l.attribute(WL.MeshAttribute.Position)}catch{u=null,y=null}try{c=o.attribute(WL.MeshAttribute.TextureCoordinate),p=l.attribute(WL.MeshAttribute.TextureCoordinate)}catch{c=null,p=null}try{a=o.attribute(WL.MeshAttribute.Normal),d=l.attribute(WL.MeshAttribute.Normal)}catch{a=null,d=null}try{m=o.attribute(WL.MeshAttribute.Color),g=l.attribute(WL.MeshAttribute.Color)}catch{m=null,g=null}for(let _=0;_<o.vertexCount;_++)u!=null&&y!=null&&y.set(_,u.get(_,e)),c!=null&&p!=null&&p.set(_,c.get(_,t)),a!=null&&d!=null&&d.set(_,a.get(_,i)),m!=null&&g!=null&&g.set(_,m.get(_,s));return l}}(),setAlpha:function(e,t){let i=e.pp_getComponentsHierarchy(\"mesh\");for(let s of i){if(s.material.color!=null){let n=s.material.color;n[3]=t,s.material.color=n}if(s.material.diffuseColor!=null){let n=s.material.diffuseColor;n[3]=t,s.material.diffuseColor=n}if(s.material.ambientColor!=null){let n=s.material.ambientColor;n[3]=t,s.material.ambientColor=n}}},setMaterial:function(e,t,i=!1){let s=e.pp_getComponentsHierarchy(\"mesh\");for(let n of s)i?n.material=t.clone():n.material=t},setClonedMaterials:function(e){let t=e.pp_getComponentsHierarchy(\"mesh\");for(let i of t)i.material=i.material.clone()},setSpecularColor:function(e,t){let i=e.pp_getComponentsHierarchy(\"mesh\");for(let s of i)s.material.specularColor!=null&&(s.material.specularColor=t)},setFogColor:function(e,t){let i=e.pp_getComponentsHierarchy(\"mesh\");for(let s of i)s.material.fogColor!=null&&(s.material.fogColor=t)}}});var pi=C(()=>{PP.SaveUtils={save:function(e,t){t!=null&&localStorage.setItem(e,t)},has:function(e){return PP.SaveUtils.loadString(e,null)!=null},delete:function(e){return localStorage.removeItem(e)},clear:function(){return localStorage.clear()},load:function(e,t=null){return PP.SaveUtils.loadString(e,t)},loadString:function(e,t=null){let i=localStorage.getItem(e);return i==null&&(i=t),i},loadNumber:function(e,t=null){let i=PP.SaveUtils.loadString(e);return i!=null?Number(i):t},loadBool:function(e,t=null){let i=PP.SaveUtils.loadString(e);return i==\"true\"?!0:i==\"false\"?!1:t}}});var _i=C(()=>{PP.TextUtils={setClonedMaterials:function(e){let t=e.pp_getComponentsHierarchy(\"text\");for(let i of t)i.material=i.material.clone()}}});var di=C(()=>{PP.XRUtils={isDeviceEmulated:function(){return\"CustomWebXRPolyfill\"in window},isXRSessionActive:function(){return WL.xrSession!=null},isReferenceSpaceLocalFloor:function(){return![\"local\",\"viewer\"].includes(WebXR.refSpace)}}});var gi=C(()=>{PP.PhysicsUtils={_myLayerFlagAmount:8,_myLayerFlagNames:[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\"],setLayerFlagAmount:function(e){PP.PhysicsUtils._myLayerFlagAmount=e},setLayerFlagNames:function(e){PP.PhysicsUtils._myLayerFlagNames=e},getLayerFlagAmount:function(){return PP.PhysicsUtils._myLayerFlagAmount},getLayerFlagNames:function(){return PP.PhysicsUtils._myLayerFlagNames},raycast:function(){let e=(t,i)=>t.pp_equals(i);return function(i,s=new PP.RaycastResult){let n=WL.physics.rayCast(i.myOrigin,i.myDirection,i.myBlockLayerFlags.getMask(),i.myDistance);s.myRaycastSetup=i;let o=0,r=0;for(let l=0;l<n.hitCount;l++){let u=!0;u=u&&(i.myObjectsToIgnore.length==0||!i.myObjectsToIgnore.pp_hasEqual(n.objects[l],e));let c=u&&n.distances[l]==0&&i.myOrigin.vec3_distance(n.locations[l])<1e-5&&Math.abs(i.myDirection.vec3_angle(n.normals[l])-180)<1e-5;if(u=u&&(!i.myIgnoreHitsInsideCollision||!c),u){let a=null;o<s.myHits.length?a=s.myHits[o]:s._myUnusedHits!=null&&s._myUnusedHits.length>0?(a=s._myUnusedHits.pop(),s.myHits.push(a)):(a=new PP.RaycastHit,s.myHits.push(a)),a.myPosition.vec3_copy(n.locations[l]),a.myNormal.vec3_copy(n.normals[l]),a.myDistance=n.distances[l],a.myObject=n.objects[l],a.myIsInsideCollision=c,r++,o++}}if(s.myHits.length>r){s._myUnusedHits==null&&(s._myUnusedHits=[]);let l=s.myHits.length-r;for(let u=0;u<l;u++)s._myUnusedHits.push(s.myHits.pop())}return s}}()}});var Pi=C(()=>{PP.RaycastSetup=class{constructor(){this.myOrigin=[0,0,0],this.myDirection=[0,0,0],this.myDistance=0,this.myBlockLayerFlags=new PP.PhysicsLayerFlags,this.myObjectsToIgnore=[],this.myIgnoreHitsInsideCollision=!1}copy(t){this.myOrigin.vec3_copy(t.myOrigin),this.myDirection.vec3_copy(t.myDirection),this.myDistance=t.myDistance,this.myBlockLayerFlags.copy(t.myBlockLayerFlags),this.myObjectsToIgnore.pp_copy(t.myObjectsToIgnore),this.myIgnoreHitsInsideCollision=t.myIgnoreHitsInsideCollision}};PP.RaycastResult=class{constructor(){this.myRaycastSetup=null,this.myHits=[],this._myUnusedHits=null}isColliding(t=!1){return t?this.getFirstHitOutsideCollision()!=null:this.myHits.length>0}getFirstHitInsideCollision(){let t=null;for(let i of this.myHits)if(i.myIsInsideCollision){t=i;break}return t}getFirstHitOutsideCollision(){let t=null;for(let i of this.myHits)if(!i.myIsInsideCollision){t=i;break}return t}getHitsInsideCollision(){let t=[];for(let i of this.myHits)i.myIsInsideCollision&&t.push(i);return t}getHitsOutsideCollision(){let t=[];for(let i of this.myHits)i.myIsInsideCollision||t.push(i);return t}removeHit(t){let i=this.myHits.pp_removeIndex(t);return i!=null&&(this._myUnusedHits==null&&(this._myUnusedHits=[]),this._myUnusedHits.push(i)),i}copy(t){}};PP.RaycastResult.prototype.copy=function(){let e=function(t,i){return t==null&&(t=new PP.RaycastHit),t.copy(i),t};return function(i){if(i.myRaycastSetup==null?this.myRaycastSetup=null:(this.myRaycastSetup==null&&(this.myRaycastSetup=new PP.RaycastSetup),this.myRaycastSetup.copy(i.myRaycastSetup)),this.myHits.length>i.myHits.length){this._myUnusedHits==null&&(this._myUnusedHits=[]);for(let s=0;s<this.myHits.length-i.myHits.length;s++)this._myUnusedHits.push(this.myHits.pop())}else if(this.myHits.length<i.myHits.length&&this._myUnusedHits!=null){let s=Math.min(this._myUnusedHits.length,i.myHits.length-this.myHits.length);for(let n=0;n<s;n++)this.myHits.push(this._myUnusedHits.pop())}this.myHits.pp_copy(i.myHits,e)}}();PP.RaycastHit=class{constructor(){this.myPosition=[0,0,0],this.myNormal=[0,0,0],this.myDistance=0,this.myObject=null,this.myIsInsideCollision=!1}isValid(){return this.myObject!=null}copy(t){this.myPosition.vec3_copy(t.myPosition),this.myNormal.vec3_copy(t.myNormal),this.myDistance=t.myDistance,this.myObject=t.myObject,this.myIsInsideCollision=t.myIsInsideCollision}reset(){this.myPosition.vec3_zero(),this.myNormal.vec3_zero(),this.myDistance=0,this.myObject=null,this.myIsInsideCollision=!1}};Object.defineProperty(PP.RaycastResult.prototype,\"copy\",{enumerable:!1})});var fi=C(()=>{PP.PhysicsLayerFlags=class{constructor(){this._myLayerMask=0}setFlagActive(t,i){let s=t;if(isNaN(t)&&(s=PP.PhysicsUtils.getLayerFlagNames().pp_findIndexEqual(t)),s>=0&&s<PP.PhysicsUtils.getLayerFlagAmount()){let n=1<<s;i?this._myLayerMask=this._myLayerMask|n:this._myLayerMask=this._myLayerMask&~n}}isFlagActive(t){let i=t;isNaN(t)&&(i=PP.PhysicsUtils.getLayerFlagNames().pp_findIndexEqual(t));let s=!1;if(i>=0&&i<PP.PhysicsUtils.getLayerFlagAmount()){let n=1<<i;s=!!(this._myLayerMask&n)}return s}setAllFlagsActive(t){t?this._myLayerMask=Math.pow(2,PP.PhysicsUtils.getLayerFlagAmount())-1:this._myLayerMask=0}getMask(){return this._myLayerMask}setMask(t){this._myLayerMask=t}copy(t){this._myLayerMask=t._myLayerMask}}});var Ti=C(()=>{PP.DebugDrawObjectType={LINE:0,TRANSFORM:1,ARROW:2,POINT:3,RAYCAST:4,TEXT:5};PP.DebugManager=class{constructor(){this._myDebugDrawObjectTypeMap=new Map,this._myDebugDrawLastID=0,this._myDebugDrawPool=new PP.ObjectPoolManager,this._myDebugDrawObjectToShow=[]}update(t){this._updateDraw(t)}draw(t,i=0,s=null){let n=null,o=!1;if(s!=null&&this._myDebugDrawObjectTypeMap.has(t.myType)){let u=this._myDebugDrawObjectTypeMap.get(t.myType);u.has(s)&&(n=u.get(s)[0],n.setParams(t),n.setVisible(!1),o=!0)}if(n==null&&(n=this._createDebugDrawObject(t)),n==null)return console.error(\"Couldn't create the requested debug draw object\"),null;this._myDebugDrawObjectTypeMap.has(t.myType)||this._myDebugDrawObjectTypeMap.set(t.myType,new Map);let r=this._myDebugDrawObjectTypeMap.get(t.myType),l=null;if(!o)l=this._myDebugDrawLastID+1,this._myDebugDrawLastID=l,r.set(l,[n,new PP.Timer(i,i!=null)]);else{l=s;let u=r.get(l);u[0]=n,u[1].reset(i),i!=null&&u[1].start()}return this._myDebugDrawObjectToShow.push(n),l}clearDraw(t=null){if(t==null){for(let i of this._myDebugDrawObjectTypeMap.values())for(let s of i.values())this._myDebugDrawPool.releaseObject(s[0].getParams().myType,s[0]);this._myDebugDrawObjectTypeMap=new Map,this._myDebugDrawLastID=0}else{let i=null;for(let s of this._myDebugDrawObjectTypeMap.values())if(s.has(t)){i=s.get(t),this._myDebugDrawPool.releaseObject(i[0].getParams().myType,i[0]),s.delete(t);break}}}allocateDraw(t,i){this._myDebugDrawPool.hasPool(t)||this._addDebugDrawObjectTypeToPool(t);let s=this._myDebugDrawPool.getPool(t),n=s.getAvailableSize()-i;n<0&&s.increase(-n)}_updateDraw(t){for(let i of this._myDebugDrawObjectToShow)i.setVisible(!0);this._myDebugDrawObjectToShow=[];for(let i of this._myDebugDrawObjectTypeMap.values()){let s=[];for(let n of i.entries()){let o=n[1];o[1].isDone()&&(this._myDebugDrawPool.releaseObject(o[0].getParams().myType,o[0]),s.push(n[0])),o[1].update(t)}for(let n of s)i.delete(n)}}_createDebugDrawObject(t){let i=null;return this._myDebugDrawPool.hasPool(t.myType)||this._addDebugDrawObjectTypeToPool(t.myType),i=this._myDebugDrawPool.getObject(t.myType),i?.setParams(t),i}_addDebugDrawObjectTypeToPool(t){let i=new PP.ObjectPoolParams;i.myInitialPoolSize=10,i.myPercentageToAddWhenEmpty=1,i.myEnableDebugLog=!1,i.mySetActiveCallback=function(n,o){n.setVisible(o)};let s=null;switch(t){case PP.DebugDrawObjectType.LINE:s=new PP.DebugLine;break;case PP.DebugDrawObjectType.TRANSFORM:s=new PP.DebugTransform;break;case PP.DebugDrawObjectType.ARROW:s=new PP.DebugArrow;break;case PP.DebugDrawObjectType.POINT:s=new PP.DebugPoint;break;case PP.DebugDrawObjectType.RAYCAST:s=new PP.DebugRaycast;break;case PP.DebugDrawObjectType.TEXT:s=new PP.DebugText;break}s!=null?this._myDebugDrawPool.addPool(t,s,i):console.error(\"Debug draw object type not supported\")}}});var Ci=C(()=>{PP.DebugTransformParams=class{constructor(){this.myTransform=PP.mat4_create(),this.myLength=.1,this.myThickness=.005,this.myPositionOffset=PP.vec3_create(),this.myType=PP.DebugDrawObjectType.TRANSFORM}};PP.DebugTransform=class{constructor(t=new PP.DebugTransformParams){this._myParams=t,this._myDebugRight=new PP.DebugArrow,this._myDebugUp=new PP.DebugArrow,this._myDebugForward=new PP.DebugArrow,this._myDebugRight.setColor([1,0,0,1]),this._myDebugUp.setColor([0,1,0,1]),this._myDebugForward.setColor([0,0,1,1]),this._myVisible=!0,this._myDirty=!1,this._myAutoRefresh=!0,this._myDebugRight.setAutoRefresh(!1),this._myDebugUp.setAutoRefresh(!1),this._myDebugForward.setAutoRefresh(!1),this._refresh(),this.setVisible(!1)}setVisible(t){this._myVisible=t,this._myDebugRight.setVisible(t),this._myDebugUp.setVisible(t),this._myDebugForward.setVisible(t)}setAutoRefresh(t){this._myAutoRefresh=t,this._myDebugRight.setAutoRefresh(t),this._myDebugUp.setAutoRefresh(t),this._myDebugForward.setAutoRefresh(t)}getParams(){return this._myParams}setParams(t){this._myParams=t,this._markDirty()}setTransform(t){t.length==8?t.quat2_toMatrix(this._myParams.myTransform):this._myParams.myTransform.mat4_copy(t),this._markDirty()}setLength(t){this._myParams.myLength=t,this._markDirty()}setThickness(t){this._myParams.myThickness=t,this._markDirty()}setPositionOffset(t){this._myPositionOffset.vec3_copy(t),this._markDirty()}refresh(){this.update(0)}update(t){this._myDirty&&(this._refresh(),this._myDirty=!1),this._myDebugForward.update(t),this._myDebugUp.update(t),this._myDebugRight.update(t)}_refresh(){let t=this._myParams.myTransform.mat4_getAxes(),i=this._myParams.myTransform.mat4_getScale(),s=0;for(let o of i)s=Math.max(o,s);s==0?(i[0]=1,i[1]=1,i[2]=1):(i[0]=i[0]/s,i[1]=i[1]/s,i[2]=i[2]/s);let n=this._myParams.myTransform.mat4_getPosition();n.vec3_add(this._myParams.myPositionOffset,n),this._myDebugRight.setStartDirectionLength(n,t[0].vec3_negate(),Math.max(this._myParams.myLength*i[0],.001)),this._myDebugUp.setStartDirectionLength(n,t[1],Math.max(this._myParams.myLength*i[1],.001)),this._myDebugForward.setStartDirectionLength(n,t[2],Math.max(this._myParams.myLength*i[2],.001)),this._myDebugRight.setThickness(this._myParams.myThickness),this._myDebugUp.setThickness(this._myParams.myThickness),this._myDebugForward.setThickness(this._myParams.myThickness)}_markDirty(){this._myDirty=!0,this._myAutoRefresh&&this.update(0)}clone(){let t=new PP.DebugTransformParams;t.myTransform.pp_copy(this._myParams.myTransform),t.myPositionOffset.pp_copy(this._myParams.myPositionOffset),t.myLength=this._myParams.myLength,t.myThickness=this._myParams.myThickness;let i=new PP.DebugTransform(t);return i.setAutoRefresh(this._myAutoRefresh),i.setVisible(this._myVisible),i._myDirty=this._myDirty,i}}});var bi=C(()=>{PP.DebugLineParams=class{constructor(){this.myStart=[0,0,0],this.myDirection=[0,0,1],this.myLength=0,this.myThickness=.005,this.myColor=[0,1,0,1],this.myType=PP.DebugDrawObjectType.LINE}setStartEnd(t,i){return i.vec3_sub(t,this.myDirection),this.myLength=this.myDirection.vec3_length(),this.myDirection.vec3_normalize(this.myDirection),this.myStart.vec3_copy(t),this}};PP.DebugLine=class{constructor(t=new PP.DebugLineParams){this._myParams=t,this._myParams.myDirection.vec3_normalize(this._myParams.myDirection),this._myLineRootObject=null,this._myVisible=!0,this._myDirty=!1,this._myAutoRefresh=!0,this._build(),this._refresh(),this.setVisible(!1)}setVisible(t){this._myVisible!=t&&(this._myVisible=t,this._myLineRootObject.pp_setActive(t))}setAutoRefresh(t){this._myAutoRefresh=t}getParams(){return this._myParams}setParams(t){this._myParams=t,this._myParams.myDirection.vec3_normalize(this._myParams.myDirection),this._markDirty()}setStartEnd(t,i){this._myParams.setStartEnd(t,i),this._markDirty()}setStartDirectionLength(t,i,s){this._myParams.myStart.vec3_copy(t),this._myParams.myDirection.vec3_copy(i),this._myParams.myDirection.vec3_normalize(this._myParams.myDirection),this._myParams.myLength=s,this._markDirty()}setColor(t){this._myParams.myColor=t,this._markDirty()}setThickness(t){this._myParams.myThickness=t,this._markDirty()}refresh(){this.update(0)}update(t){this._myDirty&&(this._refresh(),this._myDirty=!1)}_refresh(){this._myLineRootObject.pp_setPosition(this._myParams.myStart),this._myLineObject.pp_resetPositionLocal(),this._myLineObject.pp_resetScaleLocal(),this._myLineObject.pp_scaleObject([this._myParams.myThickness/2,this._myParams.myLength/2,this._myParams.myThickness/2]),this._myLineObject.pp_setUp(this._myParams.myDirection),this._myLineObject.pp_translateObject([0,this._myParams.myLength/2,0]),this._myLineMesh.material.color=this._myParams.myColor}_build(){this._myLineRootObject=WL.scene.addObject(PP.myDebugData.myRootObject),this._myLineObject=WL.scene.addObject(this._myLineRootObject),this._myLineMesh=this._myLineObject.addComponent(\"mesh\"),this._myLineMesh.mesh=PP.myDefaultResources.myMeshes.myCylinder,this._myLineMesh.material=PP.myDefaultResources.myMaterials.myFlatOpaque.clone()}_markDirty(){this._myDirty=!0,this._myAutoRefresh&&this.update(0)}clone(){let t=new PP.DebugLineParams;t.myStart.pp_copy(this._myParams.myStart),t.myDirection.pp_copy(this._myParams.myDirection),t.myLength=this._myParams.myLength,t.myThickness=this._myParams.myThickness,t.myColor.pp_copy(this._myParams.myColor);let i=new PP.DebugLine(t);return i.setAutoRefresh(this._myAutoRefresh),i.setVisible(this._myVisible),i._myDirty=this._myDirty,i}}});var Si=C(()=>{PP.DebugArrowParams=class extends PP.DebugLineParams{constructor(){super(),this.myType=PP.DebugDrawObjectType.ARROW}};PP.DebugArrow=class{constructor(t=new PP.DebugArrowParams){this._myParams=t,this._myParams.myDirection.vec3_normalize(this._myParams.myDirection),this._myDebugLine=new PP.DebugLine,this._myDebugLine.setAutoRefresh(!1),this._myArrowRootObject=null,this._myVisible=!0,this._myDirty=!1,this._myAutoRefresh=!0,this._myEnd=[0,0,0],this._build(),this._refresh(),this.setVisible(!1)}setVisible(t){this._myVisible!=t&&(this._myVisible=t,this._myDebugLine.setVisible(t),this._myArrowRootObject.pp_setActive(t))}setAutoRefresh(t){this._myAutoRefresh=t}getParams(){return this._myParams}setParams(t){this._myParams=t,this._myParams.myDirection.vec3_normalize(this._myParams.myDirection),this._markDirty()}setStartEnd(t,i){this._myParams.setStartEnd(t,i),this._markDirty()}setStartDirectionLength(t,i,s){this._myParams.myStart.vec3_copy(t),this._myParams.myDirection.vec3_copy(i),this._myParams.myDirection.vec3_normalize(this._myParams.myDirection),this._myParams.myLength=s,this._markDirty()}setColor(t){this._myParams.myColor.vec4_copy(t),this._markDirty()}setThickness(t){this._myParams.myThickness=t,this._markDirty()}refresh(){this.update(0)}update(t){this._myDirty&&(this._refresh(),this._myDirty=!1),this._myDebugLine.update(t)}_refresh(){this._myParams.myDirection.vec3_scale(Math.max(.001,this._myParams.myLength-this._myParams.myThickness*4),this._myEnd),this._myEnd.vec3_add(this._myParams.myStart,this._myEnd),this._myArrowRootObject.pp_setPosition(this._myEnd),this._myArrowRootObject.pp_lookTo(this._myParams.myDirection),this._myArrowRootObject.pp_translateObject([0,0,this._myParams.myThickness*2-1e-5]),this._myArrowObject.pp_resetScaleLocal(),this._myArrowObject.pp_scaleObject([this._myParams.myThickness*1.25,this._myParams.myThickness*2,this._myParams.myThickness*1.25]),this._myArrowMesh.material.color=this._myParams.myColor;let t=this._myEnd.vec3_sub(this._myParams.myStart);this._myDebugLine.setStartDirectionLength(this._myParams.myStart,t.vec3_normalize(),t.vec3_length()),this._myDebugLine.setColor(this._myParams.myColor),this._myDebugLine.setThickness(this._myParams.myThickness)}_build(){this._myArrowRootObject=WL.scene.addObject(PP.myDebugData.myRootObject),this._myArrowPivotObject=WL.scene.addObject(this._myArrowRootObject),this._myArrowPivotObject.pp_rotate([90,0,0]),this._myArrowObject=WL.scene.addObject(this._myArrowPivotObject),this._myArrowObject.scale([.01,.01,.01]),this._myArrowMesh=this._myArrowObject.addComponent(\"mesh\"),this._myArrowMesh.mesh=PP.myDefaultResources.myMeshes.myCone,this._myArrowMesh.material=PP.myDefaultResources.myMaterials.myFlatOpaque.clone()}_markDirty(){this._myDirty=!0,this._myAutoRefresh&&this.update(0)}clone(){let t=new PP.DebugArrowParams;t.myStart.pp_copy(this._myParams.myStart),t.myDirection.pp_copy(this._myParams.myDirection),t.myLength=this._myParams.myLength,t.myThickness=this._myParams.myThickness,t.myColor.pp_copy(this._myParams.myColor);let i=new PP.DebugArrow(t);return i.setAutoRefresh(this._myAutoRefresh),i.setVisible(this._myVisible),i._myDirty=this._myDirty,i}}});var vi=C(()=>{PP.DebugPointParams=class{constructor(){this.myPosition=[0,0,0],this.myRadius=0,this.myColor=[0,1,0,1],this.myType=PP.DebugDrawObjectType.POINT}};PP.DebugPoint=class{constructor(t=new PP.DebugPointParams){this._myParams=t,this._myRootObject=null,this._myVisible=!0,this._myDirty=!1,this._myAutoRefresh=!0,this._build(),this._refresh(),this.setVisible(!1)}setVisible(t){this._myVisible!=t&&(this._myVisible=t,this._myRootObject.pp_setActive(t))}setAutoRefresh(t){this._myAutoRefresh=t}getParams(){return this._myParams}setParams(t){this._myParams=t,this._markDirty()}setPosition(t){this._myParams.myPosition=t,this._markDirty()}setRadius(t){this._myParams.myRadius=t,this._markDirty()}setColor(t){this._myParams.myColor.vec4_copy(t),this._markDirty()}refresh(){this.update(0)}update(t){this._myDirty&&(this._refresh(),this._myDirty=!1)}_refresh(){this._myRootObject.pp_setPosition(this._myParams.myPosition),this._myPointObject.pp_setScale(this._myParams.myRadius),this._myPointMesh.material.color=this._myParams.myColor}_build(){this._myRootObject=WL.scene.addObject(PP.myDebugData.myRootObject),this._myPointObject=WL.scene.addObject(this._myRootObject),this._myPointMesh=this._myPointObject.addComponent(\"mesh\"),this._myPointMesh.mesh=PP.myDefaultResources.myMeshes.mySphere,this._myPointMesh.material=PP.myDefaultResources.myMaterials.myFlatOpaque.clone()}_markDirty(){this._myDirty=!0,this._myAutoRefresh&&this.update(0)}clone(){let t=new PP.DebugPointParams;t.myPosition.pp_copy(this._myParams.myPosition),t.myRadius=this._myParams.myRadius,t.myColor.pp_copy(this._myParams.myColor);let i=new PP.DebugPoint(t);return i.setAutoRefresh(this._myAutoRefresh),i.setVisible(this._myVisible),i._myDirty=this._myDirty,i}}});var xi=C(()=>{PP.DebugRaycastParams=class{constructor(){this._myRaycastResult=new PP.RaycastResult,this.myNormalLength=.1,this.myThickness=.005,this.myShowOnlyFirstHit=!0,this.myType=PP.DebugDrawObjectType.RAYCAST}get myRaycastResult(){return this._myRaycastResult}set myRaycastResult(t){this._myRaycastResult.copy(t)}};PP.DebugRaycast=class{constructor(t=new PP.DebugRaycastParams){this._myParams=t,this._myDebugRaycast=new PP.DebugArrow,this._myDebugRaycast.setColor([0,1,0,1]),this._myDebugRaycast.setAutoRefresh(!1),this._myDebugRaycastHitList=[],this._addDebugRaycastHit(),this._myVisible=!0,this._myDirty=!1,this._myAutoRefresh=!0,this._refresh(),this.setVisible(!1)}setVisible(t){if(this._myVisible!=t)if(this._myVisible=t,this._myParams.myRaycastResult.myRaycastSetup!=null?this._myDebugRaycast.setVisible(t):this._myDebugRaycast.setVisible(!1),this._myParams.myRaycastResult.myHits.length>0)for(let i of this._myDebugRaycastHitList)i.setVisible(t);else for(let i of this._myDebugRaycastHitList)i.setVisible(!1)}setAutoRefresh(t){this._myAutoRefresh=t}getParams(){return this._myParams}setParams(t){this._myParams=t,this._markDirty()}setRaycastResult(t){this._myParams.myRaycastResult=t,this._markDirty()}setThickness(t){this._myParams.myThickness=t,this._markDirty()}refresh(){this.update(0)}update(t){this._myDirty&&(this._refresh(),this._myDirty=!1),this._myDebugRaycast.update(t);for(let i of this._myDebugRaycastHitList)i.update(t)}_refresh(){for(let t of this._myDebugRaycastHitList)t.setVisible(!1);if(this._myParams.myRaycastResult.myHits.length>0){let t=this._myParams.myShowOnlyFirstHit?this._myParams.myRaycastResult.myHits.pp_first().myDistance:this._myParams.myRaycastResult.myHits.pp_last().myDistance;this._myDebugRaycast.setStartDirectionLength(this._myParams.myRaycastResult.myRaycastSetup.myOrigin,this._myParams.myRaycastResult.myRaycastSetup.myDirection,t);let i=this._myParams.myShowOnlyFirstHit?1:this._myParams.myRaycastResult.myHits.length;for(;i>this._myDebugRaycastHitList.length;)this._addDebugRaycastHit();for(let s=0;s<i;s++){let n=this._myDebugRaycastHitList[s];n.setStartDirectionLength(this._myParams.myRaycastResult.myHits[s].myPosition,this._myParams.myRaycastResult.myHits[s].myNormal,this._myParams.myNormalLength),n.setThickness(this._myParams.myThickness),n.setVisible(this._myVisible)}}else this._myParams.myRaycastResult.myRaycastSetup!=null?this._myDebugRaycast.setStartDirectionLength(this._myParams.myRaycastResult.myRaycastSetup.myOrigin,this._myParams.myRaycastResult.myRaycastSetup.myDirection,this._myParams.myRaycastResult.myRaycastSetup.myDistance):this._myDebugRaycast.setVisible(!1);this._myDebugRaycast.setThickness(this._myParams.myThickness)}_markDirty(){this._myDirty=!0,this._myAutoRefresh&&this.update(0)}clone(){let t=new PP.DebugRaycastParams;t.myRaycastResult=this._myParams.myRaycastResult,t.myNormalLength=this._myParams.myNormalLength,t.myThickness=this._myParams.myThickness;let i=new PP.DebugRaycast(t);return i.setAutoRefresh(this._myAutoRefresh),i.setVisible(this._myVisible),i._myDirty=this._myDirty,i}_addDebugRaycastHit(){let t=new PP.DebugArrow;t.setColor([1,0,0,1]),t.setAutoRefresh(!1),this._myDebugRaycastHitList.push(t)}}});var Bi=C(()=>{PP.DebugTextParams=class{constructor(){this.myText=\"\",this.myAlignment=WL.Alignment.Center,this.myJustification=WL.Justification.Middle,this.myColor=[0,1,0,1],this.myPosition=[0,0,0],this.myForward=[0,0,1],this.myUp=[0,1,0],this.myScale=[1,1,1],this.myType=PP.DebugDrawObjectType.TEXT}};PP.DebugText=class{constructor(t=new PP.DebugTextParams){this._myParams=t,this._myTextObject=null,this._myVisible=!0,this._myDirty=!1,this._myAutoRefresh=!0,this._build(),this._refresh(),this.setVisible(!1)}setVisible(t){this._myVisible!=t&&(this._myVisible=t,this._myTextObject.pp_setActive(t))}setAutoRefresh(t){this._myAutoRefresh=t}getParams(){return this._myParams}setParams(t){this._myParams=t,this._markDirty()}setText(t){this._myParams.myText=t,this._markDirty()}setAlignment(t){this._myParams.myAlignment=t,this._markDirty()}setJustification(t){this._myParams.myJustification=t,this._markDirty()}setPosition(t){this._myParams.myPosition.vec3_copy(t),this._markDirty()}setForward(t){this._myParams.myForward.vec3_copy(t),this._markDirty()}setUp(t){this._myParams.myUp.vec3_copy(t),this._markDirty()}setScale(t){this._myParams.myScale.vec3_copy(t),this._markDirty()}setColor(t){this._myParams.myColor.vec4_copy(t),this._markDirty()}refresh(){this.update(0)}update(t){this._myDirty&&(this._refresh(),this._myDirty=!1)}_refresh(){this._myTextObject.pp_setPosition(this._myParams.myPosition),this._myTextObject.pp_setForward(this._myParams.myForward,this._myParams.myUp),this._myTextObject.pp_setScale(this._myParams.myScale),this._myTextComponent.text=this._myParams.myText,this._myTextComponent.alignment=this._myParams.myAlignment,this._myTextComponent.justification=this._myParams.myJustification,this._myTextComponent.material.color=this._myParams.myColor,this._myDirty=!1}_build(){this._myTextObject=WL.scene.addObject(PP.myDebugData.myRootObject),this._myTextComponent=this._myTextObject.addComponent(\"text\"),this._myTextComponent.material=PP.myDefaultResources.myMaterials.myText.clone()}_markDirty(){this._myDirty=!0,this._myAutoRefresh&&this.update(0)}clone(){let t=new PP.DebugTextParams;t.myText=this._myParams.myText.slice(0),t.myAlignment=this._myParams.myAlignment,t.myJustification=this._myParams.myJustification,t.myPosition.pp_copy(this._myParams.myPosition),t.myForward.pp_copy(this._myParams.myForward),t.myUp.pp_copy(this._myParams.myUp),t.myScale.pp_copy(this._myParams.myScale),t.myColor.pp_copy(this._myParams.myColor);let i=new PP.DebugText(t);return i.setAutoRefresh(this._myAutoRefresh),i.setVisible(this._myVisible),i._myDirty=this._myDirty,i}}});var Mi=C(()=>{WL.registerComponent(\"pp-debug-transform\",{_myLength:{type:WL.Type.Float,default:.1},_myThickness:{type:WL.Type.Float,default:.005}},{init:function(){},start:function(){this._myDebugTransformParams=new PP.DebugTransformParams,this._myDebugTransformParams.myLength=this._myLength,this._myDebugTransformParams.myThickness=this._myThickness},update:function(e){this.object.pp_getTransform(this._myDebugTransformParams.myTransform),PP.myDebugManager.draw(this._myDebugTransformParams)}})});var Ai=C(()=>{WL.registerComponent(\"pp-debug-manager\",{},{init:function(){this.active&&(PP.myDebugData.myRootObject=WL.scene.addObject(null),PP.myDebugManager=new PP.DebugManager)},start(){},update(e){PP.myDebugManager.update(e)}});PP.myDebugManager=null;PP.myDebugData={myRootObject:null}});var Li=C(()=>{PP.Direction2DTo3DConverterParams=class{constructor(){this.myStartFlyingForward=!1,this.myStartFlyingRight=!1,this.myAutoUpdateFlyForward=!1,this.myAutoUpdateFlyRight=!1,this.myResetFlyForwardWhenZero=!1,this.myResetFlyRightWhenZero=!1,this.myMinAngleToFlyForwardUp=90,this.myMinAngleToFlyForwardDown=90,this.myMinAngleToFlyRightUp=90,this.myMinAngleToFlyRightDown=90}};PP.Direction2DTo3DConverter=class{constructor(t=new PP.Direction2DTo3DConverterParams){this._myParams=t,this._myIsFlyingForward=this._myParams.myStartFlyingForward,this._myIsFlyingRight=this._myParams.myStartFlyingRight,this._myLastValidFlatForward=PP.vec3_create(),this._myLastValidFlatRight=PP.vec3_create(),this._myMinAngleToBeValid=5}convert(t,i,s=null,n=PP.vec3_create()){}isFlying(){return this._myIsFlyingForward||this._myIsFlyingRight}isFlyingForward(){return this._myIsFlyingForward}isFlyingRight(){return this._myIsFlyingRight}startFlying(){this._myIsFlyingForward=!0,this._myIsFlyingRight=!0}startFlyingForward(){this._myIsFlyingForward=!0}startFlyingRight(){this._myIsFlyingRight=!0}stopFlying(){this._myIsFlyingForward=!1,this._myIsFlyingRight=!1}stopFlyingForward(){this._myIsFlyingForward=!1}stopFlyingRight(){this._myIsFlyingRight=!1}resetFly(){this.resetFlyForward(),this.resetFlyRight()}resetFlyForward(){this._myParams.myStartFlyingForward?this.startFlyingForward():this.stopFlyingForward(),this._myLastValidFlatForward.vec3_zero()}resetFlyRight(){this._myParams.myStartFlyingRight?this.startFlyingRight():this.stopFlyingRight(),this._myLastValidFlatRight.vec3_zero()}};PP.Direction2DTo3DConverter.prototype.convert=function(){let e=PP.vec3_create(),t=PP.vec3_create(),i=PP.vec3_create(),s=PP.vec3_create(),n=PP.vec3_create();return function(r,l,u=null,c=PP.vec3_create()){if(r.vec2_isZero())return this._myParams.myAutoUpdateFlyForward&&this._myParams.myResetFlyForwardWhenZero&&this.resetFlyForward(),this._myParams.myAutoUpdateFlyRight&&this._myParams.myResetFlyRightWhenZero&&this.resetFlyRight(),[0,0,0];if(r[0]==0&&this._myLastValidFlatRight.vec3_zero(),r[1]==0&&this._myLastValidFlatForward.vec3_zero(),e=l.quat2_getForward(e),t=l.quat2_getRight(t),u!=null){if(i=u.vec3_negate(i),this._myParams.myAutoUpdateFlyForward){let a=e.vec3_angle(u);this._myIsFlyingForward=this._myIsFlyingForward||a<90-this._myParams.myMinAngleToFlyForwardUp||a>90+this._myParams.myMinAngleToFlyForwardDown}if(this._myParams.myAutoUpdateFlyRight){let a=t.vec3_angle(u);this._myIsFlyingRight=this._myIsFlyingRight||a<90-this._myParams.myMinAngleToFlyRightUp||a>90+this._myParams.myMinAngleToFlyRightDown}this._myIsFlyingForward||(!this._myLastValidFlatForward.vec3_isZero(1e-6)&&(e.vec3_angle(u)<this._myMinAngleToBeValid||e.vec3_angle(i)<this._myMinAngleToBeValid)&&(e.vec3_isConcordant(this._myLastValidFlatForward)?e.pp_copy(this._myLastValidFlatForward):e=this._myLastValidFlatForward.vec3_negate(e)),e=e.vec3_removeComponentAlongAxis(u,e),e.vec3_normalize(e)),this._myIsFlyingRight||(!this._myLastValidFlatRight.vec3_isZero(1e-6)&&(t.vec3_angle(u)<this._myMinAngleToBeValid||t.vec3_angle(i)<this._myMinAngleToBeValid)&&(t.vec3_isConcordant(this._myLastValidFlatRight)?t.pp_copy(this._myLastValidFlatRight):t=this._myLastValidFlatRight.vec3_negate(t)),t=t.vec3_removeComponentAlongAxis(u,t),t.vec3_normalize(t)),(e.vec3_angle(u)>this._myMinAngleToBeValid&&e.vec3_angle(i)>this._myMinAngleToBeValid||r[1]!=0&&this._myLastValidFlatForward.vec3_isZero(1e-6))&&(this._myLastValidFlatForward=e.vec3_removeComponentAlongAxis(u,this._myLastValidFlatForward),this._myLastValidFlatForward.vec3_normalize(this._myLastValidFlatForward)),(t.vec3_angle(u)>this._myMinAngleToBeValid&&t.vec3_angle(i)>this._myMinAngleToBeValid||r[0]!=0&&this._myLastValidFlatRight.vec3_isZero(1e-6))&&(this._myLastValidFlatRight=t.vec3_removeComponentAlongAxis(u,this._myLastValidFlatRight),this._myLastValidFlatRight.vec3_normalize(this._myLastValidFlatRight))}return c=t.vec3_scale(r[0],n).vec3_add(e.vec3_scale(r[1],s),c),u!=null&&!this._myIsFlyingForward&&!this._myIsFlyingRight&&(c=c.vec3_removeComponentAlongAxis(u,c)),c.vec3_normalize(c),c}}()});var Vi=C(()=>{WL.registerComponent(\"pp-grabbable\",{_myThrowLinearVelocityMultiplier:{type:WL.Type.Float,default:1},_myThrowAngularVelocityMultiplier:{type:WL.Type.Float,default:1},_myKinematicValueOnRelease:{type:WL.Type.Enum,values:[\"true\",\"false\",\"keep\"],default:\"false\"}},{init:function(){this._myIsGrabbed=!1,this._myGrabber=null,this._myGrabCallbacks=new Map,this._myThrowCallbacks=new Map,this._myReleaseCallbacks=new Map},start:function(){this._myOldParent=this.object.parent,this._myPhysX=this.object.pp_getComponent(\"physx\"),this._myOldKinematicValue=null},onDeactivate:function(){this.release()},grab:function(e){this.isGrabbed()||(this._myOldKinematicValue=this._myPhysX.kinematic),this.release(),this._myPhysX.kinematic=!0,this._myOldParent=this.object.parent,this.object.pp_setParent(e),this._myIsGrabbed=!0,this._myGrabCallbacks.forEach(function(t){t(e,this)}.bind(this))},throw:function(e,t){if(this._myIsGrabbed){let i=this._myGrabber;this._release(),this._myPhysX.linearVelocity=e.vec3_scale(this._myThrowLinearVelocityMultiplier),this._myPhysX.angularVelocity=t.vec3_scale(this._myThrowAngularVelocityMultiplier),this._myThrowCallbacks.forEach(function(s){s(i,this)}.bind(this)),this._myReleaseCallbacks.forEach(function(s){s(i,this,!0)}.bind(this))}},release(){if(this._myIsGrabbed){let e=this._myGrabber;this._release(),this._myReleaseCallbacks.forEach(function(t){t(e,this,!1)}.bind(this))}},getLinearVelocity(){let e=PP.vec3_create();return this._myPhysX.linearVelocity.vec3_clone(e),e},getAngularVelocity(){return this.getAngularVelocityDegrees()},getAngularVelocityDegrees(){let e=PP.vec3_create();return this._myPhysX.angularVelocity.vec3_toDegrees(e),e},getAngularVelocityRadians(){let e=PP.vec3_create();return this._myPhysX.angularVelocity.vec3_clone(e),e},isGrabbed(){return this._myIsGrabbed},getGrabber(){return this._myGrabber},registerGrabEventListener(e,t){this._myGrabCallbacks.set(e,t)},unregisterGrabEventListener(e){this._myGrabCallbacks.delete(e)},registerThrowEventListener(e,t){this._myThrowCallbacks.set(e,t)},unregisterThrowEventListener(e){this._myThrowCallbacks.delete(e)},registerReleaseEventListener(e,t){this._myReleaseCallbacks.set(e,t)},unregisterReleaseEventListener(e){this._myReleaseCallbacks.delete(e)},_release(){this.object.pp_setParent(this._myOldParent),this._myIsGrabbed=!1,this._myGrabber=null,this._myKinematicValueOnRelease==0?this._myPhysX.kinematic=!0:this._myKinematicValueOnRelease==1?this._myPhysX.kinematic=!1:this._myOldKinematicValue!=null&&(this._myPhysX.kinematic=this._myOldKinematicValue),this._myPhysX.kinematic&&(this._myPhysX.linearVelocity=[0,0,0],this._myPhysX.angularVelocity=[0,0,0])}})});var Di=C(()=>{WL.registerComponent(\"pp-grabber-hand\",{_myHandedness:{type:WL.Type.Enum,values:[\"left\",\"right\"],default:\"left\"},_myGrabButton:{type:WL.Type.Enum,values:[\"select\",\"squeeze\",\"both\",\"both_exclusive\"],default:\"squeeze\"},_mySnapOnPivot:{type:WL.Type.Bool,default:!1},_myMaxNumberOfObjects:{type:WL.Type.Int,default:1},_myThrowVelocitySource:{type:WL.Type.Enum,values:[\"hand\",\"grabbable\"],default:\"hand\"},_myThrowLinearVelocityMultiplier:{type:WL.Type.Float,default:1},_myThrowMaxLinearSpeed:{type:WL.Type.Float,default:15},_myThrowAngularVelocityMultiplier:{type:WL.Type.Float,default:.5},_myThrowMaxAngularSpeed:{type:WL.Type.Float,default:1080},_myThrowLinearVelocityBoost:{type:WL.Type.Float,default:1.75},_myThrowLinearVelocityBoostMinSpeedThreshold:{type:WL.Type.Float,default:.6},_myThrowLinearVelocityBoostMaxSpeedThreshold:{type:WL.Type.Float,default:2.5}},{init:function(){this._myGrabbables=[],this._myGamepad=null,this._myActiveGrabButton=null,this._myLinearVelocityHistorySize=5,this._myLinearVelocityHistorySpeedAverageSamplesFromStart=1,this._myLinearVelocityHistoryDirectionAverageSamplesFromStart=3,this._myLinearVelocityHistoryDirectionAverageSkipFromStart=0,this._myHandLinearVelocityHistory=new Array(this._myLinearVelocityHistorySize),this._myHandLinearVelocityHistory.fill([0,0,0]),this._myAngularVelocityHistorySize=1,this._myHandAngularVelocityHistory=new Array(this._myAngularVelocityHistorySize),this._myHandAngularVelocityHistory.fill([0,0,0]),this._myThrowMaxAngularSpeedRadians=Math.pp_toRadians(this._myThrowMaxAngularSpeed),this._myGrabCallbacks=new Map,this._myThrowCallbacks=new Map,this._myDebugActive=!1,this._myDebugLines=[]},start:function(){if(this._myHandedness==PP.HandednessIndex.LEFT?this._myGamepad=PP.myLeftGamepad:this._myGamepad=PP.myRightGamepad,this._myPhysX=this.object.pp_getComponent(\"physx\"),this._myCollisionsCollector=new PP.PhysXCollisionCollector(this._myPhysX,!0),this._myDebugActive)for(let e=0;e<this._myLinearVelocityHistorySize;e++){let t=new PP.DebugLine;this._myDebugLines.push(t)}},update:function(e){this._myCollisionsCollector.update(e),this._myGrabbables.length>0&&(this._updateLinearVelocityHistory(),this._updateAngularVelocityHistory())},grab:function(e=null){this._grab(e)},throw:function(e=null){this._throw(e)},registerGrabEventListener(e,t){this._myGrabCallbacks.set(e,t)},unregisterGrabEventListener(e){this._myGrabCallbacks.delete(e)},registerThrowEventListener(e,t){this._myThrowCallbacks.set(e,t)},unregisterThrowEventListener(e){this._myThrowCallbacks.delete(e)},onActivate(){this._myGamepad!=null&&(this._myGrabButton==0?(this._myGamepad.registerButtonEventListener(PP.ButtonType.SELECT,PP.ButtonEvent.PRESS_START,this,this._grab.bind(this,PP.ButtonType.SELECT)),this._myGamepad.registerButtonEventListener(PP.ButtonType.SELECT,PP.ButtonEvent.PRESS_END,this,this._throw.bind(this,PP.ButtonType.SELECT))):this._myGrabButton==1?(this._myGamepad.registerButtonEventListener(PP.ButtonType.SQUEEZE,PP.ButtonEvent.PRESS_START,this,this._grab.bind(this,PP.ButtonType.SQUEEZE)),this._myGamepad.registerButtonEventListener(PP.ButtonType.SQUEEZE,PP.ButtonEvent.PRESS_END,this,this._throw.bind(this,PP.ButtonType.SQUEEZE))):(this._myGamepad.registerButtonEventListener(PP.ButtonType.SQUEEZE,PP.ButtonEvent.PRESS_START,this,this._grab.bind(this,PP.ButtonType.SQUEEZE)),this._myGamepad.registerButtonEventListener(PP.ButtonType.SQUEEZE,PP.ButtonEvent.PRESS_END,this,this._throw.bind(this,PP.ButtonType.SQUEEZE)),this._myGamepad.registerButtonEventListener(PP.ButtonType.SELECT,PP.ButtonEvent.PRESS_START,this,this._grab.bind(this,PP.ButtonType.SELECT)),this._myGamepad.registerButtonEventListener(PP.ButtonType.SELECT,PP.ButtonEvent.PRESS_END,this,this._throw.bind(this,PP.ButtonType.SELECT))))},onDeactivate(){this._myGamepad!=null&&(this._myGrabButton==0?(this._myGamepad.unregisterButtonEventListener(PP.ButtonType.SELECT,PP.ButtonEvent.PRESS_START,this),this._myGamepad.unregisterButtonEventListener(PP.ButtonType.SELECT,PP.ButtonEvent.PRESS_END,this)):this._myGrabButton==1?(this._myGamepad.unregisterButtonEventListener(PP.ButtonType.SQUEEZE,PP.ButtonEvent.PRESS_START,this),this._myGamepad.unregisterButtonEventListener(PP.ButtonType.SQUEEZE,PP.ButtonEvent.PRESS_END,this)):(this._myGamepad.unregisterButtonEventListener(PP.ButtonType.SQUEEZE,PP.ButtonEvent.PRESS_START,this),this._myGamepad.unregisterButtonEventListener(PP.ButtonType.SQUEEZE,PP.ButtonEvent.PRESS_END,this),this._myGamepad.unregisterButtonEventListener(PP.ButtonType.SELECT,PP.ButtonEvent.PRESS_START,this),this._myGamepad.unregisterButtonEventListener(PP.ButtonType.SELECT,PP.ButtonEvent.PRESS_END,this)))},_grab:function(e){if(!(this._myGrabbables.length>=this._myMaxNumberOfObjects)&&(this._myGrabButton==2||this._myActiveGrabButton==null||this._myActiveGrabButton==e||e==null)){let t=[],i=this._myCollisionsCollector.getCollisions();for(let n=0;n<i.length;n++){let o=i[n].getComponent(\"pp-grabbable\");o&&o.active&&t.push(o)}let s=this.object.pp_getPosition();t.sort(function(n,o){let r=n.object.pp_getPosition(),l=o.object.pp_getPosition(),u=r.vec3_distance(s),c=l.vec3_distance(s);return Math.pp_sign(u-c,0)});for(let n of t){if(!this._isAlreadyGrabbed(n)){let o=new PP.GrabberHandGrabbableData(n,this._myThrowVelocitySource==1,this._myLinearVelocityHistorySize,this._myAngularVelocityHistorySize);this._myGrabbables.push(o),n.grab(this.object),n.registerReleaseEventListener(this,this._onRelease.bind(this)),this._mySnapOnPivot&&n.object.resetTranslation(),this._myGrabCallbacks.forEach(function(r){r(this,n)}.bind(this))}if(this._myGrabbables.length>=this._myMaxNumberOfObjects)break}this._myGrabbables.length>0&&this._myActiveGrabButton==null&&(this._myActiveGrabButton=e)}},_throw:function(e){if(this._myGrabButton==2||this._myActiveGrabButton==null||this._myActiveGrabButton==e||e==null){if(this._myGrabbables.length>0){let t=null,i=null;this._myThrowVelocitySource==0&&(t=this._computeReleaseLinearVelocity(this._myHandLinearVelocityHistory),i=this._computeReleaseAngularVelocity(this._myHandAngularVelocityHistory));for(let s of this._myGrabbables){let n=s.getGrabbable();n.unregisterReleaseEventListener(this),this._myThrowVelocitySource==1&&(t=this._computeReleaseLinearVelocity(s.getLinearVelocityHistory()),i=this._computeReleaseAngularVelocity(s.getAngularVelocityHistory())),n.throw(t,i),this._myThrowCallbacks.forEach(function(o){o(this,n)}.bind(this))}this._myGrabbables=[]}this._myActiveGrabButton=null}},_onRelease(e,t){t.unregisterReleaseEventListener(this),this._myGrabbables.pp_remove(i=>i.getGrabbable()==t),this._myGrabbables.length<=0&&(this._myActiveGrabButton=null)},_updateLinearVelocityHistory(){let e=this._myGamepad.getHandPose();this._myHandLinearVelocityHistory.unshift(e.getLinearVelocity().pp_clone()),this._myHandLinearVelocityHistory.pop();for(let t of this._myGrabbables)t.updateLinearVelocityHistory()},_updateAngularVelocityHistory(){let e=this._myGamepad.getHandPose();this._myHandAngularVelocityHistory.unshift(e.getAngularVelocityRadians().pp_clone()),this._myHandAngularVelocityHistory.pop();for(let t of this._myGrabbables)t.updateAngularVelocityHistory()},_computeReleaseLinearVelocity(e){let t=e[0].vec3_length();for(let l=1;l<this._myLinearVelocityHistorySpeedAverageSamplesFromStart;l++)t+=e[l].vec3_length();t/=this._myLinearVelocityHistorySpeedAverageSamplesFromStart;let i=Math.pp_mapToRange(t,this._myThrowLinearVelocityBoostMinSpeedThreshold,this._myThrowLinearVelocityBoostMaxSpeedThreshold,0,1);i=PP.EasingFunction.easeIn(i),t+=t*(i*this._myThrowLinearVelocityBoost),t*=this._myThrowLinearVelocityMultiplier,t=Math.pp_clamp(t,0,this._myThrowMaxLinearSpeed),this._myDebugActive&&this._debugDirectionLines(e);let n=this._myLinearVelocityHistoryDirectionAverageSamplesFromStart,o=this._myLinearVelocityHistoryDirectionAverageSkipFromStart+this._myLinearVelocityHistoryDirectionAverageSamplesFromStart,r=[0,0,0];for(let l=this._myLinearVelocityHistoryDirectionAverageSkipFromStart;l<o;l++){let u=e[l];u.vec3_scale(n,u),r.vec3_add(u,r),n--}return r.vec3_normalize(r),r.vec3_scale(t,r),r},_computeReleaseAngularVelocity(e){let t=e[0],i=t.vec3_length();i=Math.pp_clamp(i*this._myThrowAngularVelocityMultiplier,0,this._myThrowMaxAngularSpeedRadians);let s=t;return s.vec3_normalize(s),s.vec3_scale(i,s),s},_debugDirectionLines(e){for(let t=this._myLinearVelocityHistoryDirectionAverageSkipFromStart+this._myLinearVelocityHistoryDirectionAverageSamplesFromStart;t>this._myLinearVelocityHistoryDirectionAverageSkipFromStart;t--){let i=t-this._myLinearVelocityHistoryDirectionAverageSkipFromStart,s=t-this._myLinearVelocityHistoryDirectionAverageSkipFromStart,n=[0,0,0];for(let r=this._myLinearVelocityHistoryDirectionAverageSkipFromStart;r<s;r++){let l=e[r].pp_clone();l.vec3_scale(i,l),n.vec3_add(l,n),i--}n.vec3_normalize(n),this._myDebugLines[t-1].setStartDirectionLength(this.object.pp_getPosition(),n,.2);let o=1/t;this._myDebugLines[t-1].setColor([o,o,o,1]),this._myDebugLines[t-1].setVisible(!0)}},_isAlreadyGrabbed(e){return this._myGrabbables.pp_find(i=>i.getGrabbable()==e)!=null}});PP.GrabberHandGrabbableData=class{constructor(t,i,s,n){this._myGrabbable=t,this._myUseGrabbableAsVelocitySource=i,this._myUseGrabbableAsVelocitySource&&(this._myLinearVelocityHistory=new Array(s),this._myLinearVelocityHistory.fill([0,0,0]),this._myAngularVelocityHistory=new Array(n),this._myAngularVelocityHistory.fill([0,0,0]))}getGrabbable(){return this._myGrabbable}getLinearVelocityHistory(){return this._myLinearVelocityHistory}getAngularVelocityHistory(){return this._myAngularVelocityHistory}updateLinearVelocityHistory(){this._myUseGrabbableAsVelocitySource&&(this._myLinearVelocityHistory.unshift(this._myGrabbable.getLinearVelocity()),this._myLinearVelocityHistory.pop())}updateAngularVelocityHistory(){this._myUseGrabbableAsVelocitySource&&(this._myAngularVelocityHistory.unshift(this._myGrabbable.getAngularVelocityRadians()),this._myAngularVelocityHistory.pop())}}});var Ri=C(()=>{WL.registerComponent(\"pp-finger-cursor\",{_myHandedness:{type:WL.Type.Enum,values:[\"left\",\"right\"],default:\"left\"},_myEnableMultipleClicks:{type:WL.Type.Bool,default:!0},_myCollisionGroup:{type:WL.Type.Int,default:1},_myCollisionSize:{type:WL.Type.Float,default:.0125},_myCursorObject:{type:WL.Type.Object,default:null}},{init:function(){this._myLastTarget=null,this._myReferenceSpace=null,this._myHandInputSource=null,this._myHandednessString=[\"left\",\"right\"][this._myHandedness],this._myDoubleClickTimer=0,this._myTripleClickTimer=0,this._myMultipleClickObject=null,this._myMultipleClickDelay=.3},start:function(){this._myCursorObjectRoot=WL.scene.addObject(null),this._myCursorObject==null?this._myCursorObject=this._myCursorObjectRoot.pp_addObject():this._myCursorObject.pp_setParent(this._myCursorObjectRoot),this._myCollisionComponent=this._myCursorObject.addComponent(\"collision\"),this._myCollisionComponent.collider=WL.Collider.Sphere,this._myCollisionComponent.group=1<<this._myCollisionGroup,this._myCollisionComponent.extents=[this._myCollisionSize,this._myCollisionSize,this._myCollisionSize],WL.xrSession&&this._onXRSessionStart(WL.xrSession),WL.onXRSessionStart.push(this._onXRSessionStart.bind(this)),WL.onXRSessionEnd.push(this._onXRSessionEnd.bind(this))},update:function(e){if(this._myDoubleClickTimer>0&&(this._myDoubleClickTimer-=e),this._myTripleClickTimer>0&&(this._myTripleClickTimer-=e),this._myCursorObjectRoot.pp_setTransformQuat(PP.myPlayerObjects.myPlayerPivot.pp_getTransformQuat()),this._updateHand(),this._myHandInputSource){let t=this._myCollisionComponent.queryOverlaps(),i=null;for(let s=0;s<t.length;++s){let o=t[s].object.getComponent(\"cursor-target\");if(o&&(i==null||!o.isSurface)&&(i=o,!o.isSurface))break}i?i.equals(this._myLastTarget)||(this._targetTouchEnd(),this._myLastTarget=i,this._targetTouchStart()):this._targetTouchEnd()}else this._targetTouchEnd()},_targetTouchStart:function(){this._myLastTarget.onHover(this._myLastTarget.object,this),this._myLastTarget.onDown(this._myLastTarget.object,this)},_targetTouchEnd:function(){this._myLastTarget&&(this._myEnableMultipleClicks&&this._myTripleClickTimer>0&&this._myMultipleClickObject&&this._myMultipleClickObject.equals(this._myLastTarget.object)?(this._myLastTarget.onTripleClick(this._myLastTarget.object,this),this._myTripleClickTimer=0):this._myEnableMultipleClicks&&this._myDoubleClickTimer>0&&this._myMultipleClickObject&&this._myMultipleClickObject.equals(this._myLastTarget.object)?(this._myLastTarget.onDoubleClick(this._myLastTarget.object,this),this._myTripleClickTimer=this._myMultipleClickDelay,this._myDoubleClickTimer=0):(this._myLastTarget.onClick(this._myLastTarget.object,this),this._myTripleClickTimer=0,this._myDoubleClickTimer=this._myMultipleClickDelay,this._myMultipleClickObject=this._myLastTarget.object),this._myLastTarget.onUp(this._myLastTarget.object,this),this._myLastTarget.onUnhover(this._myLastTarget.object,this),this._myLastTarget=null)},setActive:function(e){this._myCursorObject.pp_setActiveHierarchy(e),this.active=e},_updateHand(){if(this._myHandInputSource=PP.InputUtils.getInputSource(this._myHandednessString,PP.InputSourceType.HAND),this._myHandInputSource){let e=Module.webxr_frame.getJointPose(this._myHandInputSource.hand.get(\"index-finger-tip\"),this._myReferenceSpace);e&&(this._myCursorObject.pp_setRotationLocalQuat([e.transform.orientation.x,e.transform.orientation.y,e.transform.orientation.z,e.transform.orientation.w]),this._myCursorObject.pp_setPositionLocal([e.transform.position.x,e.transform.position.y,e.transform.position.z]))}},_onXRSessionStart:function(e){e.requestReferenceSpace(WebXR.refSpace).then(function(t){this._myReferenceSpace=t}.bind(this))},_onXRSessionEnd:function(e){this._myReferenceSpace=null}})});var Ii=C(()=>{PP.Handedness={LEFT:\"left\",RIGHT:\"right\"};PP.HandednessIndex={LEFT:0,RIGHT:1};PP.InputSourceType={GAMEPAD:0,HAND:1}});var Oi=C(()=>{PP.InputUtils={getHandednessByIndex:function(e){let t=null;switch(e){case PP.HandednessIndex.LEFT:t=PP.Handedness.LEFT;break;case PP.HandednessIndex.RIGHT:t=PP.Handedness.RIGHT;break}return t},getInputSource:function(e,t){let i=null;if(WL.xrSession&&WL.xrSession.inputSources)for(let s=0;s<WL.xrSession.inputSources.length;s++){let n=WL.xrSession.inputSources[s];if((!t||t==PP.InputSourceType.GAMEPAD&&!n.hand||t==PP.InputSourceType.HAND&&n.hand)&&n.handedness==e){i=n;break}}return i},getInputSourceType:function(e){let t=null,i=PP.InputUtils.getInputSource(e);return i&&(i.hand?t=PP.InputSourceType.HAND:t=PP.InputSourceType.GAMEPAD),t}}});var Wi=C(()=>{PP.KeyType={_0:\"0\",_1:\"1\",_2:\"2\",_3:\"3\",_4:\"4\",_5:\"5\",_6:\"6\",_7:\"7\",_8:\"8\",_9:\"9\",A:\"A\",B:\"B\",C:\"C\",D:\"D\",E:\"E\",F:\"F\",G:\"G\",H:\"H\",I:\"I\",J:\"J\",K:\"K\",L:\"L\",M:\"M\",N:\"N\",O:\"O\",P:\"P\",Q:\"Q\",R:\"R\",S:\"S\",T:\"T\",U:\"U\",V:\"V\",W:\"W\",X:\"X\",Y:\"Y\",Z:\"Z\",a:\"a\",b:\"b\",c:\"c\",d:\"d\",e:\"e\",f:\"f\",g:\"g\",h:\"h\",i:\"i\",j:\"j\",k:\"k\",l:\"l\",m:\"m\",n:\"n\",o:\"o\",p:\"p\",q:\"q\",r:\"r\",s:\"s\",t:\"t\",u:\"u\",v:\"v\",w:\"w\",x:\"x\",y:\"y\",z:\"z\",UP:\"ArrowUp\",DOWN:\"ArrowDown\",LEFT:\"ArrowLeft\",RIGHT:\"ArrowRight\",SPACE:\" \",ENTER:\"Enter\",BACKSPACE:\"Backspace\",ESC:\"Escape\",SHIFT_LEFT:\"ShiftLeft\",SHIFT_RIGHT:\"ShiftRight\",CONTROL_LEFT:\"ControlLeft\",CONTROL_RIGHT:\"ControlRight\",ALT_LEFT:\"AltLeft\",ALT_RIGHT:\"AltRight\"};PP.Keyboard=class{constructor(){this._myKeyInfos=new Map;for(let t in PP.KeyType)this.addKey(PP.KeyType[t])}isKeyPressed(t){let i=!1;return this._myKeyInfos.has(t)&&(i=this._myKeyInfos.get(t).myIsPressed),i}isKeyPressStart(t){let i=!1;return this._myKeyInfos.has(t)&&(i=this._myKeyInfos.get(t).myIsPressStart),i}isKeyPressEnd(t){let i=!1;return this._myKeyInfos.has(t)&&(i=this._myKeyInfos.get(t).myIsPressEnd),i}addKey(t){this._myKeyInfos.set(t,{myIsPressed:!1,myIsPressStart:!1,myIsPressStartToProcess:!1,myIsPressEnd:!1,myIsPressEndToProcess:!1})}start(){window.addEventListener(\"keydown\",this._keyDown.bind(this)),window.addEventListener(\"keyup\",this._keyUp.bind(this))}update(t){if(!document.hasFocus())for(let i of this._myKeyInfos.values())i.myIsPressed&&(i.myIsPressed=!1,i.myIsPressEndToProcess=!0);for(let i of this._myKeyInfos.values())i.myIsPressStart=i.myIsPressStartToProcess,i.myIsPressEnd=i.myIsPressEndToProcess,i.myIsPressStartToProcess=!1,i.myIsPressEndToProcess=!1}_keyDown(t){this._keyPressedChanged(t.key,!0),t.key!=t.code&&this._keyPressedChanged(t.code,!0)}_keyUp(t){this._keyPressedChanged(t.key,!1),t.key!=t.code&&this._keyPressedChanged(t.code,!1)}_keyPressedChanged(t,i){if(this._myKeyInfos.has(t)){let s=this._myKeyInfos.get(t);i?(s.myIsPressed=!0,s.myIsPressStartToProcess=!0):(s.myIsPressed=!1,s.myIsPressEndToProcess=!0)}}}});var Ei=C(()=>{PP.MouseButtonType={LEFT:0,MIDDLE:1,RIGHT:2};PP.Mouse=class{constructor(){this._myButtonInfos=new Map;for(let t in PP.MouseButtonType)this._myButtonInfos.set(PP.MouseButtonType[t],{myIsPressed:!1,myIsPressStart:!1,myIsPressStartToProcess:!1,myIsPressEnd:!1,myIsPressEndToProcess:!1});this._myPreventContextMenuCallback=this._preventContextMenu.bind(this),this._myPreventMiddleButtonScrollCallback=this._preventMiddleButtonScroll.bind(this),this._myInternalMousePosition=PP.vec2_create(),this._myScreenSize=PP.vec2_create(),this._myResetMovingDelay=.15,this._myResetMovingTimer=new PP.Timer(this._myResetMovingDelay,!1),this._myIsMoving=!1,this._myIsInsideView=!0,this._myContextMenuActive=!0,this._myMiddleButtonScrollActive=!0,this._myProjectionMatrixInverse=PP.mat4_create(),this._myRotationQuat=PP.quat_create(),this._myOriginWorld=PP.vec3_create(),this._myDirectionWorld=PP.vec3_create()}start(){this._myOnMouseMoveCallback=this._onMouseMove.bind(this),WL.canvas.addEventListener(\"mousemove\",this._myOnMouseMoveCallback),this._myOnMouseDownCallback=this._onMouseDown.bind(this),WL.canvas.addEventListener(\"mousedown\",this._myOnMouseDownCallback),this._myOnMouseUpCallback=this._onMouseUp.bind(this),WL.canvas.addEventListener(\"mouseup\",this._myOnMouseUpCallback),this._myOnMouseLeaveCallback=this._onMouseLeave.bind(this),WL.canvas.addEventListener(\"mouseleave\",this._myOnMouseLeaveCallback),this._myOnMouseEnterCallback=this._onMouseEnter.bind(this),WL.canvas.addEventListener(\"mouseenter\",this._myOnMouseEnterCallback)}update(t){this._myResetMovingTimer.isRunning()&&(this._myResetMovingTimer.update(t),this._myResetMovingTimer.isDone()&&(this._myResetMovingTimer.reset(),this._myIsMoving=!1));for(let i of this._myButtonInfos.values())i.myIsPressStart=i.myIsPressStartToProcess,i.myIsPressEnd=i.myIsPressEndToProcess,i.myIsPressStartToProcess=!1,i.myIsPressEndToProcess=!1}destroy(){WL.canvas.removeEventListener(\"mousemove\",this._myOnMouseMoveCallback),WL.canvas.removeEventListener(\"mousedown\",this._myOnMouseDownCallback),WL.canvas.removeEventListener(\"mouseup\",this._myOnMouseUpCallback),WL.canvas.removeEventListener(\"mouseleave\",this._myOnMouseLeaveCallback),WL.canvas.removeEventListener(\"contextmenu\",this._myPreventContextMenuCallback),WL.canvas.removeEventListener(\"mousedown\",this._myPreventMiddleButtonScrollCallback)}isButtonPressed(t){let i=!1;return this._myButtonInfos.has(t)&&(i=this._myButtonInfos.get(t).myIsPressed),i}isButtonPressStart(t){let i=!1;return this._myButtonInfos.has(t)&&(i=this._myButtonInfos.get(t).myIsPressStart),i}isButtonPressEnd(t=null){let i=!1;return this._myButtonInfos.has(t)&&(i=this._myButtonInfos.get(t).myIsPressEnd),i}isMoving(){return this._myIsMoving}isInsideView(){return this._myIsInsideView}setContextMenuActive(t){this._myContextMenuActive!=t&&(t?WL.canvas.removeEventListener(\"contextmenu\",this._myPreventContextMenuCallback):WL.canvas.addEventListener(\"contextmenu\",this._myPreventContextMenuCallback,!1),this._myContextMenuActive=t)}setMiddleButtonScrollActive(t){this._myMiddleButtonScrollActive!=t&&(t?WL.canvas.removeEventListener(\"mousedown\",this._myPreventMiddleButtonScrollCallback):WL.canvas.addEventListener(\"mousedown\",this._myPreventMiddleButtonScrollCallback,!1),this._myMiddleButtonScrollActive=t)}getPositionScreen(t=PP.vec2_create()){let i=t;return i[0]=this._myInternalMousePosition[0],i[1]=this._myScreenSize[1]-1-this._myInternalMousePosition[1],i}getScreenSize(){return this._myScreenSize}getPositionWorld(t,i=PP.vec3_create()){let s=this.getOriginWorld(this._myOriginWorld),n=this.getDirectionWorld(this._myDirectionWorld);return i=s.vec3_add(n.vec3_scale(t,i),i),i}getOriginWorld(t=PP.vec3_create()){return PP.XRUtils.isXRSessionActive()?PP.myPlayerObjects.myEyeLeft.pp_getPosition(t):PP.myPlayerObjects.myNonVRCamera.pp_getPosition(t),t}getDirectionWorld(t=PP.vec3_create()){let i=this._myInternalMousePosition[0]/this._myScreenSize[0],s=this._myInternalMousePosition[1]/this._myScreenSize[1],n=t;n.vec3_set(i*2-1,-s*2+1,-1);let o=this._myProjectionMatrixInverse;PP.XRUtils.isXRSessionActive()?o=PP.myPlayerObjects.myEyeLeft.pp_getComponentHierarchy(\"view\").projectionMatrix.mat4_invert(o):o=PP.myPlayerObjects.myNonVRCamera.pp_getComponentHierarchy(\"view\").projectionMatrix.mat4_invert(o),n.vec3_transformMat4(o,n),n.vec3_normalize(n);let r=n;return PP.XRUtils.isXRSessionActive()?r=n.vec3_transformQuat(PP.myPlayerObjects.myEyeLeft.pp_getRotationQuat(this._myRotationQuat),n):r=n.vec3_transformQuat(PP.myPlayerObjects.myNonVRCamera.pp_getRotationQuat(this._myRotationQuat),n),r.vec3_normalize(r),t}raycastWorld(t,i=new PP.RaycastResult){return this.getOriginWorld(t.myOrigin),this.getDirectionWorld(t.myDirection),i=PP.PhysicsUtils.raycast(t,i),i}setResetMovingDelay(t){this._myResetMovingDelay=t}getResetMovingDelay(){return this._myResetMovingDelay}_updatePositionAndView(t){let i=t.target.getBoundingClientRect();this._myScreenSize[0]=i.width,this._myScreenSize[1]=i.height,this._myInternalMousePosition[0]=t.clientX,this._myInternalMousePosition[1]=t.clientY}_onMouseMove(t){this._myResetMovingTimer.start(this._myResetMovingDelay),this._myIsMoving=!0,this._updatePositionAndView(t)}_onMouseDown(t){let i=this._myButtonInfos.get(t.button);i.myIsPressed||(i.myIsPressed=!0,i.myIsPressStartToProcess=!0),this._updatePositionAndView(t)}_onMouseUp(t){let i=this._myButtonInfos.get(t.button);i.myIsPressed&&(i.myIsPressed=!1,i.myIsPressEndToProcess=!0),this._updatePositionAndView(t)}_onMouseLeave(t){this._myIsInsideView=!1;for(let i of this._myButtonInfos.values())i.myIsPressed&&(i.myIsPressed=!1,i.myIsPressEndToProcess=!0)}_onMouseEnter(t){this._myIsInsideView=!0;for(let i of this._myButtonInfos.values())i.myIsPressed&&(i.myIsPressed=!1,i.myIsPressEndToProcess=!0)}_preventContextMenu(t){t.preventDefault()}_preventMiddleButtonScroll(t){if(t.button==1)return t.preventDefault(),!1}}});var ki=C(()=>{PP.InputManager=class{constructor(){this._myMouse=new PP.Mouse,this._myKeyboard=new PP.Keyboard,this._myGamepadManager=new PP.GamepadManager}start(){this._myMouse.start(),this._myKeyboard.start(),this._myGamepadManager.start()}update(t){this._myMouse.update(t),this._myKeyboard.update(t),this._myGamepadManager.update(t)}getMouse(){return this._myMouse}getKeyboard(){return this._myKeyboard}getGamepadManager(){return this._myGamepadManager}}});var ji=C(()=>{WL.registerComponent(\"pp-input-manager\",{_myGamepadFixForward:{type:WL.Type.Bool,default:!0},_myMousePreventContextMenu:{type:WL.Type.Bool,default:!0},_myMousePreventMiddleButtonScroll:{type:WL.Type.Bool,default:!0}},{init(){this._myInputManager=new PP.InputManager,PP.myInputManager=this._myInputManager,PP.myMouse=this._myInputManager.getMouse(),PP.myKeyboard=this._myInputManager.getKeyboard(),PP.myGamepadManager=this._myInputManager.getGamepadManager(),PP.myGamepads=PP.myGamepadManager.getGamepads(),PP.myLeftGamepad=PP.myGamepadManager.getLeftGamepad(),PP.myRightGamepad=PP.myGamepadManager.getRightGamepad()},start(){this._myInputManager.start(),this._setupMousePrevent(),this._addGamepadCores()},update(e){this._myInputManager.update(e)},_setupMousePrevent(){this._myMousePreventContextMenu&&PP.myMouse.setContextMenuActive(!1),this._myMousePreventMiddleButtonScroll&&PP.myMouse.setMiddleButtonScrollActive(!1)},_addGamepadCores(){let e=new PP.HandPoseParams;e.myReferenceObject=PP.myPlayerObjects.myPlayerPivot,e.myFixForward=this._myFixForward,e.myForceEmulatedVelocities=!1;let t=new PP.XRGamepadCore(PP.Handedness.LEFT,e),i=new PP.XRGamepadCore(PP.Handedness.RIGHT,e);PP.myLeftGamepad.addGamepadCore(\"left_xr_gamepad\",t),PP.myRightGamepad.addGamepadCore(\"right_xr_gamepad\",i);let s=new PP.KeyboardGamepadCore(PP.Handedness.LEFT,t.getHandPose()),n=new PP.KeyboardGamepadCore(PP.Handedness.RIGHT,i.getHandPose());PP.myLeftGamepad.addGamepadCore(\"left_keyboard_gamepad\",s),PP.myRightGamepad.addGamepadCore(\"right_keyboard_gamepad\",n)}});PP.myInputManager=null;PP.myMouse=null;PP.myKeyboard=null;PP.myGamepadManager=null;PP.myGamepads=null;PP.myLeftGamepad=null;PP.myRightGamepad=null});var Ni=C(()=>{PP.ButtonType={SELECT:0,SQUEEZE:1,THUMBSTICK:3,BOTTOM_BUTTON:4,TOP_BUTTON:5};PP.ButtonEvent={PRESS_START:0,PRESS_END:1,PRESSED:2,NOT_PRESSED:3,TOUCH_START:4,TOUCH_END:5,TOUCHED:6,NOT_TOUCHED:7,VALUE_CHANGED:8,ALWAYS:9};PP.AxesEvent={X_CHANGED:0,Y_CHANGED:1,AXES_CHANGED:2,ALWAYS:3};PP.ButtonInfo=class wi{constructor(t,i){this.myType=t,this.myHandedness=i,this.myIsPressed=!1,this.myPrevIsPressed=!1,this.myIsTouched=!1,this.myPrevIsTouched=!1,this.myValue=0,this.myPrevValue=0,this.myTimePressed=0,this.myPrevTimePressed=0,this.myTimeNotPressed=0,this.myPrevTimeNotPressed=0,this.myTimeTouched=0,this.myPrevTimeTouched=0,this.myTimeNotTouched=0,this.myPrevTimeNotTouched=0,this.myMultiplePressStartCount=0,this.myPrevMultiplePressStartCount=0,this.myMultiplePressEndCount=0,this.myPrevMultiplePressEndCount=0,this.myMultipleTouchStartCount=0,this.myPrevMultipleTouchStartCount=0,this.myMultipleTouchEndCount=0,this.myPrevMultipleTouchEndCount=0}getType(){return this.myType}getHandedness(){return this.myHandedness}getValue(){return this.myValue}isPressed(){return this.myIsPressed}isTouched(){return this.myIsTouched}isPressStart(t=null){return this.myIsPressed&&!this.myPrevIsPressed&&(t==null||this.myMultiplePressStartCount==t)}isPressEnd(t=null){return!this.myIsPressed&&this.myPrevIsPressed&&(t==null||this.myMultiplePressEndCount==t)}isTouchStart(t=null){return this.myIsTouched&&!this.myPrevIsTouched&&(t==null||this.myMultipleTouchStartCount==t)}isTouchEnd(t=null){return!this.myIsTouched&&this.myPrevIsTouched&&(t==null||this.myMultipleTouchEndCount==t)}clone(){let t=new wi(this.myType,this.myHandedness);return t.myIsPressed=this.myIsPressed,t.myPrevIsPressed=this.myPrevIsPressed,t.myIsTouched=this.myIsTouched,t.myPrevIsTouched=this.myPrevIsTouched,t.myValue=this.myValue,t.myPrevValue=this.myPrevValue,t.myTimePressed=this.myTimePressed,t.myPrevTimePressed=this.myPrevTimePressed,t.myTimeNotPressed=this.myTimeNotPressed,t.myPrevTimeNotPressed=this.myPrevTimeNotPressed,t.myTimeTouched=this.myTimeTouched,t.myPrevTimeTouched=this.myPrevTimeTouched,t.myTimeNotTouched=this.myTimeNotTouched,t.myPrevTimeNotTouched=this.myPrevTimeNotTouched,t.myMultiplePressStartCount=this.myMultiplePressStartCount,t.myPrevMultiplePressStartCount=this.myPrevMultiplePressStartCount,t.myMultiplePressEndCount=this.myMultiplePressEndCount,t.myPrevMultiplePressEndCount=this.myPrevMultiplePressEndCount,t.myMultipleTouchStartCount=this.myMultipleTouchStartCount,t.myPrevMultipleTouchStartCount=this.myPrevMultipleTouchStartCount,t.myMultipleTouchEndCount=this.myMultipleTouchEndCount,t.myPrevMultipleTouchEndCount=this.myPrevMultipleTouchEndCount,t}};PP.AxesInfo=class Fi{constructor(t){this.myHandedness=t,this.myAxes=new Float32Array(2),this.myAxes.fill(0),this.myPrevAxes=new Float32Array(2),this.myPrevAxes.fill(0)}getAxes(){return this.myAxes}getHandedness(){return this.myHandedness}clone(){let t=new Fi(this.myHandedness);return t.myAxes=this.myAxes,t.myPrevAxes=this.myPrevAxes,t}};PP.PulseInfo=class Hi{constructor(){this.myIntensity=0,this.myDuration=0,this.myIsDevicePulsing=!1}clone(){let t=new Hi;return t.myIntensity=this.myIntensity,t.myDuration=this.myDuration,t.myIsDevicePulsing=this.myIsDevicePulsing,t}}});var qi=C(()=>{PP.BaseGamepad=class{constructor(t){this._myHandedness=t,this._myButtonInfos=[];for(let i in PP.ButtonType)this._myButtonInfos[PP.ButtonType[i]]=new PP.ButtonInfo(PP.ButtonType[i],this._myHandedness);this._myAxesInfo=new PP.AxesInfo(this._myHandedness),this._myButtonCallbacks=[];for(let i in PP.ButtonType){this._myButtonCallbacks[PP.ButtonType[i]]=[];for(let s in PP.ButtonEvent)this._myButtonCallbacks[PP.ButtonType[i]][PP.ButtonEvent[s]]=new Map}this._myAxesCallbacks=[];for(let i in PP.AxesEvent)this._myAxesCallbacks[PP.AxesEvent[i]]=new Map;this._myPulseInfo=new PP.PulseInfo,this._myMultiplePressMaxDelay=.3,this._myMultipleTouchMaxDelay=.3}getHandedness(){return this._myHandedness}getButtonInfo(t){return this._myButtonInfos[t]}registerButtonEventListener(t,i,s,n){this._myButtonCallbacks[t][i].set(s,n)}unregisterButtonEventListener(t,i,s){this._myButtonCallbacks[t][i].delete(s)}getAxesInfo(){return this._myAxesInfo}registerAxesEventListener(t,i,s){this._myAxesCallbacks[t].set(i,s)}unregisterAxesEventListener(t,i){this._myAxesCallbacks[t].delete(i)}pulse(t,i=0){this._myPulseInfo.myIntensity=Math.min(Math.max(t,0),1),this._myPulseInfo.myDuration=Math.max(i,0)}stopPulse(){this._myPulseInfo.myIntensity=0,this._myPulseInfo.myDuration=0}isPulsing(){return this._myPulseInfo.myIntensity>0||this._myPulseInfo.myDuration>0}getPulseInfo(){return this._myPulseInfo}getMultiplePressMaxDelay(){return this._myMultiplePressMaxDelay}setMultiplePressMaxDelay(t){this._myMultiplePressMaxDelay=t}getMultipleTouchMaxDelay(){return this._myMultipleTouchMaxDelay}setMultipleTouchMaxDelay(t){this._myMultipleTouchMaxDelay=t}getHandPose(){return null}isGamepadActive(){return!0}_start(){}_preUpdate(t){}_postUpdate(t){}_getButtonData(t){return{myIsPressed:!1,myIsTouched:!1,myValue:0}}_getAxesData(){return[0,0]}_getHapticActuators(){return[]}start(){this._start()}update(t){this._preUpdate(t),this._preUpdateButtonInfos(),this._updateButtonInfos(),this._postUpdateButtonInfos(t),this._preUpdateAxesInfos(),this._updateAxesInfos(),this._postUpdateAxesInfos(),this._updatePulse(t),this._postUpdate(t)}_preUpdateButtonInfos(){this._myButtonInfos.forEach(function(t){t.myPrevIsPressed=t.myIsPressed,t.myPrevIsTouched=t.myIsTouched,t.myPrevValue=t.myValue})}_updateButtonInfos(){this._updateSingleButtonInfo(PP.ButtonType.SELECT),this._updateSingleButtonInfo(PP.ButtonType.SQUEEZE),this._updateSingleButtonInfo(PP.ButtonType.THUMBSTICK),this._updateSingleButtonInfo(PP.ButtonType.BOTTOM_BUTTON),this._updateSingleButtonInfo(PP.ButtonType.TOP_BUTTON)}_updateSingleButtonInfo(t){let i=this._myButtonInfos[t],s=this._getButtonData(t);i.myIsPressed=s.myIsPressed,i.myIsTouched=s.myIsTouched,i.myValue=s.myValue}_postUpdateButtonInfos(t){this._myButtonInfos.forEach(function(i){i.myIsPressed?(i.myTimePressed+=t,i.myPrevIsPressed||(i.myMultiplePressStartCount+=1,i.myPrevTimeNotPressed=i.myTimeNotPressed,i.myTimeNotPressed=0),i.myPrevTimeNotPressed+i.myTimePressed>this._myMultiplePressMaxDelay&&i.myMultiplePressEndCount>0&&(i.myPrevMultiplePressEndCount=i.myMultiplePressEndCount,i.myMultiplePressEndCount=0),i.myTimePressed>this._myMultiplePressMaxDelay&&i.myMultiplePressStartCount>0&&(i.myPrevMultiplePressStartCount=i.myMultiplePressStartCount,i.myMultiplePressStartCount=0)):(i.myTimeNotPressed+=t,i.myPrevIsPressed&&(i.myMultiplePressEndCount+=1,i.myPrevTimePressed=i.myTimePressed,i.myTimePressed=0),i.myPrevTimePressed+i.myTimeNotPressed>this._myMultiplePressMaxDelay&&i.myMultiplePressStartCount>0&&(i.myPrevMultiplePressStartCount=i.myMultiplePressStartCount,i.myMultiplePressStartCount=0),i.myTimeNotPressed>this._myMultiplePressMaxDelay&&i.myMultiplePressEndCount>0&&(i.myPrevMultiplePressEndCount=i.myMultiplePressEndCount,i.myMultiplePressEndCount=0)),i.myIsTouched?(i.myTimeTouched+=t,i.myPrevIsTouched||(i.myMultipleTouchStartCount+=1,i.myPrevTimeNotTouched=i.myTimeNotTouched,i.myTimeNotTouched=0),i.myPrevTimeNotTouched+i.myTimeTouched>this._myMultipleTouchMaxDelay&&i.myMultipleTouchEndCount>0&&(i.myPrevMultipleTouchEndCount=i.myMultipleTouchEndCount,i.myMultipleTouchEndCount=0),i.myTimeTouched>this._myMultipleTouchMaxDelay&&i.myMultipleTouchStartCount>0&&(i.myPrevMultipleTouchStartCount=i.myMultipleTouchStartCount,i.myMultipleTouchStartCount=0)):(i.myTimeNotTouched+=t,i.myPrevIsTouched&&(i.myMultipleTouchEndCount+=1,i.myPrevTimeTouched=i.myTimeTouched,i.myTimeTouched=0),i.myPrevTimeTouched+i.myTimeNotTouched>this._myMultipleTouchMaxDelay&&i.myMultipleTouchStartCount>0&&(i.myPrevMultipleTouchStartCount=i.myMultipleTouchStartCount,i.myMultipleTouchStartCount=0),i.myTimeNotTouched>this._myMultipleTouchMaxDelay&&i.myMultipleTouchEndCount>0&&(i.myPrevMultipleTouchEndCount=i.myMultipleTouchEndCount,i.myMultipleTouchEndCount=0))}.bind(this));for(let i in PP.ButtonType){let s=this._myButtonInfos[PP.ButtonType[i]],n=this._myButtonCallbacks[PP.ButtonType[i]];if(s.myIsPressed&&!s.myPrevIsPressed){let r=n[PP.ButtonEvent.PRESS_START];this._triggerCallbacks(r,s)}if(!s.myIsPressed&&s.myPrevIsPressed){let r=n[PP.ButtonEvent.PRESS_END];this._triggerCallbacks(r,s)}if(s.myIsPressed){let r=n[PP.ButtonEvent.PRESSED];this._triggerCallbacks(r,s)}else{let r=n[PP.ButtonEvent.NOT_PRESSED];this._triggerCallbacks(r,s)}if(s.myIsTouched&&!s.myPrevIsTouched){let r=n[PP.ButtonEvent.TOUCH_START];this._triggerCallbacks(r,s)}if(!s.myIsTouched&&s.myPrevIsTouched){let r=n[PP.ButtonEvent.TOUCH_END];this._triggerCallbacks(r,s)}if(s.myIsTouched){let r=n[PP.ButtonEvent.TOUCHED];this._triggerCallbacks(r,s)}else{let r=n[PP.ButtonEvent.NOT_TOUCHED];this._triggerCallbacks(r,s)}if(s.myValue!=s.myPrevValue){let r=n[PP.ButtonEvent.VALUE_CHANGED];this._triggerCallbacks(r,s)}let o=n[PP.ButtonEvent.ALWAYS];this._triggerCallbacks(o,s)}this._mySelectStart=!1,this._mySelectEnd=!1,this._mySqueezeStart=!1,this._mySqueezeEnd=!1}_preUpdateAxesInfos(){this._myAxesInfo.myPrevAxes=this._myAxesInfo.myAxes}_updateAxesInfos(){this._myAxesInfo.myAxes=this._getAxesData()}_postUpdateAxesInfos(){if(this._myAxesInfo.myAxes[0]!=this._myAxesInfo.myPrevAxes[0]){let i=this._myAxesCallbacks[PP.AxesEvent.X_CHANGED];this._triggerCallbacks(i,this._myAxesInfo)}if(this._myAxesInfo.myAxes[1]!=this._myAxesInfo.myPrevAxes[1]){let i=this._myAxesCallbacks[PP.AxesEvent.Y_CHANGED];this._triggerCallbacks(i,this._myAxesInfo)}if(this._myAxesInfo.myAxes[0]!=this._myAxesInfo.myPrevAxes[0]||this._myAxesInfo.myAxes[1]!=this._myAxesInfo.myPrevAxes[1]){let i=this._myAxesCallbacks[PP.AxesEvent.AXES_CHANGED];this._triggerCallbacks(i,this._myAxesInfo)}let t=this._myAxesCallbacks[PP.AxesEvent.ALWAYS];this._triggerCallbacks(t,this._myAxesInfo)}_updatePulse(t){if(this._myPulseInfo.myIsDevicePulsing||this._myPulseInfo.myIntensity>0){let i=this._getHapticActuators();if(i.length>0){if(this._myPulseInfo.myIntensity>0){for(let s of i)s.pulse(this._myPulseInfo.myIntensity,1e3);this._myPulseInfo.myIsDevicePulsing=!0}else if(this._myPulseInfo.myIsDevicePulsing){for(let s of i)s.reset();this._myPulseInfo.myIsDevicePulsing=!1}}else this._myPulseInfo.myIsDevicePulsing=!1}this._myPulseInfo.myDuration-=t,this._myPulseInfo.myDuration<=0&&(this._myPulseInfo.myIntensity=0,this._myPulseInfo.myDuration=0)}_triggerCallbacks(t,i){for(let s of t.values())s(i,this)}}});var Ui=C(()=>{PP.UniversalGamepad=class extends PP.BaseGamepad{constructor(t){super(t),this._myGamepadCores=new Map,this._myStarted=!1}addGamepadCore(t,i){i.getHandedness()==this.getHandedness()&&(this._myGamepadCores.set(t,i),this._myStarted&&i.start())}getGamepadCore(t){this._myGamepadCores.get(t)}removeGamepadCore(t){this._myGamepadCores.get(t)&&this._myGamepadCores.delete(t)}removeAllGamepadCores(){for(let t of this._myGamepadCores.keys())this.removeGamepadCore(t)}getHandPose(){let t=null;for(let i of this._myGamepadCores.values())if(i.isGamepadCoreActive()&&(t=i.getHandPose()),t!=null)break;return t}isGamepadActive(){let t=!1;for(let i of this._myGamepadCores.values())if(i.isGamepadCoreActive()){t=!0;break}return t}_start(){for(let t of this._myGamepadCores.values())t.start();this._myStarted=!0}_preUpdate(t){for(let i of this._myGamepadCores.values())i.preUpdate(t)}_postUpdate(t){for(let i of this._myGamepadCores.values())i.postUpdate(t)}_getButtonData(t){let i={myIsPressed:!1,myIsTouched:!1,myValue:0};for(let s of this._myGamepadCores.values())if(s.isGamepadCoreActive()){let n=s.getButtonData(t);i.myIsPressed=i.myIsPressed||n.myIsPressed,i.myIsTouched=i.myIsTouched||n.myIsTouched,Math.abs(n.myValue)>Math.abs(i.myValue)&&(i.myValue=n.myValue)}return i}_getAxesData(){let t=[0,0];for(let i of this._myGamepadCores.values())if(i.isGamepadCoreActive()){let s=i.getAxesData();Math.abs(s[0])>Math.abs(t[0])&&(t[0]=s[0]),Math.abs(s[1])>Math.abs(t[1])&&(t[1]=s[1])}return t}_getHapticActuators(){let t=[];for(let i of this._myGamepadCores.values())i.isGamepadCoreActive()&&t.push(...i.getHapticActuators());return t}}});var Gi=C(()=>{PP.GamepadCore=class{constructor(t){this._myHandedness=t}getHandedness(){return this._myHandedness}getHandPose(){return null}isGamepadCoreActive(){return!0}start(){}preUpdate(t){}postUpdate(t){}getButtonData(t){return{pressed:!1,touched:!1,value:0}}getAxesData(){return[0,0]}getHapticActuators(){return[]}}});var zi=C(()=>{PP.XRGamepadCore=class extends PP.GamepadCore{constructor(t,i=new PP.HandPoseParams){super(t),this._myHandPose=new PP.HandPose(this._myHandedness,i),this._mySelectPressed=!1,this._mySqueezePressed=!1,this._myIsXRSessionActive=!1,this._myInputSource=null,this._myGamepad=null}getHandedness(){return this._myHandedness}getHandPose(){return this._myHandPose}isGamepadCoreActive(){return this._myIsXRSessionActive&&this._myGamepad!=null&&(this._myGamepad.connected==null||this._myGamepad.connected)}start(){this._myHandPose.start(),WL.xrSession&&this._onXRSessionStart(WL.xrSession),WL.onXRSessionStart.push(this._onXRSessionStart.bind(this)),WL.onXRSessionEnd.push(this._onXRSessionEnd.bind(this))}preUpdate(t){this._updateHandPose(t)}getButtonData(t){let i={myIsPressed:!1,myIsTouched:!1,myValue:0};if(this.isGamepadCoreActive()){if(t<this._myGamepad.buttons.length){let s=this._myGamepad.buttons[t];t!=PP.ButtonType.SELECT&&t!=PP.ButtonType.SQUEEZE?i.myIsPressed=s.pressed:i.myIsPressed=this._getSpecialButtonPressed(t),i.myIsTouched=s.touched,i.myValue=s.value}else if(t==PP.ButtonType.BOTTOM_BUTTON&&this._myGamepad.buttons.length>=3){let s=this._myGamepad.buttons[2];i.myIsPressed=s.pressed,i.myIsTouched=s.touched,i.myValue=s.value}}return i}getAxesData(){let t=[0,0];if(this.isGamepadCoreActive()){let i=this._myGamepad.axes;i.length==4?(Math.abs(i[0])>Math.abs(i[2])?t[0]=i[0]:t[0]=i[2],Math.abs(i[1])>Math.abs(i[3])?t[1]=i[1]:t[1]=i[3]):i.length==2&&(t[0]=i[0],t[1]=i[1]),t[1]=-t[1]}return t}getHapticActuators(){let t=[];return this.isGamepadCoreActive()&&(this._myGamepad.hapticActuators&&this._myGamepad.hapticActuators.length>0?t=this._myGamepad.hapticActuators:this._myGamepad.vibrationActuator&&t.push(this._myGamepad.vibrationActuator)),t}_updateHandPose(t){this._myHandPose.update(t),this._myInputSource=this._myHandPose.getInputSource(),this._myInputSource!=null?this._myGamepad=this._myInputSource.gamepad:this._myGamepad=null}_getSpecialButtonPressed(t){let i=!1;return this.isGamepadCoreActive()&&(t==PP.ButtonType.SELECT?i=this._mySelectPressed:t==PP.ButtonType.SQUEEZE&&(i=this._mySqueezePressed)),i}_onXRSessionStart(t){t.addEventListener(\"selectstart\",this._selectStart.bind(this)),t.addEventListener(\"selectend\",this._selectEnd.bind(this)),t.addEventListener(\"squeezestart\",this._squeezeStart.bind(this)),t.addEventListener(\"squeezeend\",this._squeezeEnd.bind(this)),this._myIsXRSessionActive=!0}_onXRSessionEnd(t){this._myIsXRSessionActive=!1}_selectStart(t){this._myInputSource!=null&&this._myInputSource==t.inputSource&&(this._mySelectPressed=!0)}_selectEnd(t){this._myInputSource!=null&&this._myInputSource==t.inputSource&&(this._mySelectPressed=!1)}_squeezeStart(t){this._myInputSource!=null&&this._myInputSource==t.inputSource&&(this._mySqueezePressed=!0)}_squeezeEnd(t){this._myInputSource!=null&&this._myInputSource==t.inputSource&&(this._mySqueezePressed=!1)}}});var Qi=C(()=>{PP.KeyboardGamepadCore=class extends PP.GamepadCore{constructor(t,i){super(t),this._myHandPose=i,this._myHandPoseUpdateActive=!1}getHandedness(){return this._myHandedness}getHandPose(){return this._myHandPose}setHandPoseUpdateActive(t){this._myHandPoseUpdateActive=t}isHandPoseUpdateActive(){return this._myHandPoseUpdateActive}isGamepadCoreActive(){return!0}start(){this._myHandPose&&this._myHandPoseUpdateActive&&this._myHandPose.start()}preUpdate(t){this._myHandPose&&this._myHandPoseUpdateActive&&this._myHandPose.update(t)}getButtonData(t){let i={myIsPressed:!1,myIsTouched:!1,myValue:0};if(this.isGamepadCoreActive())if(this.getHandedness()==PP.Handedness.LEFT)switch(t){case PP.ButtonType.SELECT:i.myIsPressed=PP.myKeyboard.isKeyPressed(PP.KeyType.C)||PP.myKeyboard.isKeyPressed(PP.KeyType.c);break;case PP.ButtonType.SQUEEZE:i.myIsPressed=PP.myKeyboard.isKeyPressed(PP.KeyType.F)||PP.myKeyboard.isKeyPressed(PP.KeyType.f);break;case PP.ButtonType.THUMBSTICK:i.myIsPressed=PP.myKeyboard.isKeyPressed(PP.KeyType.R)||PP.myKeyboard.isKeyPressed(PP.KeyType.r);break;case PP.ButtonType.TOP_BUTTON:i.myIsPressed=PP.myKeyboard.isKeyPressed(PP.KeyType.E)||PP.myKeyboard.isKeyPressed(PP.KeyType.e);break;case PP.ButtonType.BOTTOM_BUTTON:i.myIsPressed=PP.myKeyboard.isKeyPressed(PP.KeyType.Q)||PP.myKeyboard.isKeyPressed(PP.KeyType.q);break}else switch(t){case PP.ButtonType.SELECT:i.myIsPressed=PP.myKeyboard.isKeyPressed(PP.KeyType.N)||PP.myKeyboard.isKeyPressed(PP.KeyType.n);break;case PP.ButtonType.SQUEEZE:i.myIsPressed=PP.myKeyboard.isKeyPressed(PP.KeyType.H)||PP.myKeyboard.isKeyPressed(PP.KeyType.h);break;case PP.ButtonType.THUMBSTICK:i.myIsPressed=PP.myKeyboard.isKeyPressed(PP.KeyType.Y)||PP.myKeyboard.isKeyPressed(PP.KeyType.y);break;case PP.ButtonType.TOP_BUTTON:i.myIsPressed=PP.myKeyboard.isKeyPressed(PP.KeyType.U)||PP.myKeyboard.isKeyPressed(PP.KeyType.u);break;case PP.ButtonType.BOTTOM_BUTTON:i.myIsPressed=PP.myKeyboard.isKeyPressed(PP.KeyType.O)||PP.myKeyboard.isKeyPressed(PP.KeyType.o);break}return i.myIsPressed&&(i.myIsTouched=!0,i.myValue=1),i}getAxesData(){let t=[0,0];return this.isGamepadCoreActive()&&(this.getHandedness()==PP.Handedness.LEFT?((PP.myKeyboard.isKeyPressed(PP.KeyType.W)||PP.myKeyboard.isKeyPressed(PP.KeyType.w))&&(t[1]+=1),(PP.myKeyboard.isKeyPressed(PP.KeyType.S)||PP.myKeyboard.isKeyPressed(PP.KeyType.s))&&(t[1]+=-1),(PP.myKeyboard.isKeyPressed(PP.KeyType.D)||PP.myKeyboard.isKeyPressed(PP.KeyType.d))&&(t[0]+=1),(PP.myKeyboard.isKeyPressed(PP.KeyType.A)||PP.myKeyboard.isKeyPressed(PP.KeyType.a))&&(t[0]+=-1)):((PP.myKeyboard.isKeyPressed(PP.KeyType.I)||PP.myKeyboard.isKeyPressed(PP.KeyType.i)||PP.myKeyboard.isKeyPressed(PP.KeyType.UP))&&(t[1]+=1),(PP.myKeyboard.isKeyPressed(PP.KeyType.K)||PP.myKeyboard.isKeyPressed(PP.KeyType.k)||PP.myKeyboard.isKeyPressed(PP.KeyType.DOWN))&&(t[1]+=-1),(PP.myKeyboard.isKeyPressed(PP.KeyType.L)||PP.myKeyboard.isKeyPressed(PP.KeyType.l)||PP.myKeyboard.isKeyPressed(PP.KeyType.RIGHT))&&(t[0]+=1),(PP.myKeyboard.isKeyPressed(PP.KeyType.J)||PP.myKeyboard.isKeyPressed(PP.KeyType.j)||PP.myKeyboard.isKeyPressed(PP.KeyType.LEFT))&&(t[0]+=-1))),t}getHapticActuators(){return[]}}});var Ki=C(()=>{WL.registerComponent(\"pp-gamepad-animator\",{_myHandedness:{type:WL.Type.Enum,values:[\"left\",\"right\"],default:\"left\"},_mySelect:{type:WL.Type.Object,default:null},_mySqueeze:{type:WL.Type.Object,default:null},_myThumbstick:{type:WL.Type.Object,default:null},_myBottomButton:{type:WL.Type.Object,default:null},_myTopButton:{type:WL.Type.Object,default:null}},{init:function(){this._myGamepad=null,this._myNormalDiffuseButtonColor=null,this._myNormalAmbientButtonColor=null,this._myIsTouchedDiffuseButtonColor=null,this._myIsTouchedAmbientButtonColor=null,this._myThumbstickUp=[0,1,0],this._mySelectUp=[0,1,0],this._myIsMeshEnabled=!1},start:function(){this._myHandedness==0?this._myGamepad=PP.myLeftGamepad:this._myGamepad=PP.myRightGamepad,this._myThumbstickInitialLocalUp=this._getLocalAxis(this._myThumbstick,[0,1,0]),this._mySelectMaterial=this._mySelect.getComponent(\"mesh\").material.clone(),this._mySelect.getComponent(\"mesh\").material=this._mySelectMaterial,this._mySelectPosition=new Float32Array(3),this._mySelect.getTranslationLocal(this._mySelectPosition),this._myNormalDiffuseButtonColor&&(this._mySelectMaterial.diffuseColor=this._myNormalDiffuseButtonColor,this._mySelectMaterial.ambientColor=this._myNormalAmbientButtonColor),this._mySqueezeMaterial=this._mySqueeze.getComponent(\"mesh\").material.clone(),this._mySqueeze.getComponent(\"mesh\").material=this._mySqueezeMaterial,this._mySqueezePosition=new Float32Array(3),this._mySqueeze.getTranslationLocal(this._mySqueezePosition),this._myNormalDiffuseButtonColor&&(this._mySqueezeMaterial.diffuseColor=this._myNormalDiffuseButtonColor,this._mySqueezeMaterial.ambientColor=this._myNormalAmbientButtonColor),this._myThumbstickMaterial=this._myThumbstick.getComponent(\"mesh\").material.clone(),this._myThumbstick.getComponent(\"mesh\").material=this._myThumbstickMaterial,this._myThumbstickPosition=new Float32Array(3),this._myThumbstick.getTranslationLocal(this._myThumbstickPosition),this._myNormalDiffuseButtonColor&&(this._myThumbstickMaterial.diffuseColor=this._myNormalDiffuseButtonColor,this._myThumbstickMaterial.ambientColor=this._myNormalAmbientButtonColor),this._myBottomButtonMaterial=this._myBottomButton.getComponent(\"mesh\").material.clone(),this._myBottomButton.getComponent(\"mesh\").material=this._myBottomButtonMaterial,this._myBottomButtonPosition=new Float32Array(3),this._myBottomButton.getTranslationLocal(this._myBottomButtonPosition),this._myNormalDiffuseButtonColor&&(this._myBottomButtonMaterial.diffuseColor=this._myNormalDiffuseButtonColor,this._myBottomButtonMaterial.ambientColor=this._myNormalAmbientButtonColor),this._myTopButtonMaterial=this._myTopButton.getComponent(\"mesh\").material.clone(),this._myTopButton.getComponent(\"mesh\").material=this._myTopButtonMaterial,this._myTopButtonPosition=new Float32Array(3),this._myTopButton.getTranslationLocal(this._myTopButtonPosition),this._myNormalDiffuseButtonColor&&(this._myTopButtonMaterial.diffuseColor=this._myNormalDiffuseButtonColor,this._myTopButtonMaterial.ambientColor=this._myNormalAmbientButtonColor),this._myGamepad.registerButtonEventListener(PP.ButtonType.THUMBSTICK,PP.ButtonEvent.PRESS_START,this,this._thumbstickPressedStart.bind(this)),this._myGamepad.registerButtonEventListener(PP.ButtonType.THUMBSTICK,PP.ButtonEvent.PRESS_END,this,this._thumbstickPressedEnd.bind(this)),this._myGamepad.registerButtonEventListener(PP.ButtonType.BOTTOM_BUTTON,PP.ButtonEvent.PRESS_START,this,this._bottomButtonPressedStart.bind(this)),this._myGamepad.registerButtonEventListener(PP.ButtonType.BOTTOM_BUTTON,PP.ButtonEvent.PRESS_END,this,this._bottomButtonPressedEnd.bind(this)),this._myGamepad.registerButtonEventListener(PP.ButtonType.TOP_BUTTON,PP.ButtonEvent.PRESS_START,this,this._topButtonPressedStart.bind(this)),this._myGamepad.registerButtonEventListener(PP.ButtonType.TOP_BUTTON,PP.ButtonEvent.PRESS_END,this,this._topButtonPressedEnd.bind(this)),this._myGamepad.registerButtonEventListener(PP.ButtonType.SELECT,PP.ButtonEvent.TOUCH_START,this,this._selectTouchedStart.bind(this)),this._myGamepad.registerButtonEventListener(PP.ButtonType.SELECT,PP.ButtonEvent.TOUCH_END,this,this._selectTouchedEnd.bind(this)),this._myGamepad.registerButtonEventListener(PP.ButtonType.SQUEEZE,PP.ButtonEvent.TOUCH_START,this,this._squeezeTouchedStart.bind(this)),this._myGamepad.registerButtonEventListener(PP.ButtonType.SQUEEZE,PP.ButtonEvent.TOUCH_END,this,this._squeezeTouchedEnd.bind(this)),this._myGamepad.registerButtonEventListener(PP.ButtonType.THUMBSTICK,PP.ButtonEvent.TOUCH_START,this,this._thumbstickTouchedStart.bind(this)),this._myGamepad.registerButtonEventListener(PP.ButtonType.THUMBSTICK,PP.ButtonEvent.TOUCH_END,this,this._thumbstickTouchedEnd.bind(this)),this._myGamepad.registerButtonEventListener(PP.ButtonType.BOTTOM_BUTTON,PP.ButtonEvent.TOUCH_START,this,this._bottomButtonTouchedStart.bind(this)),this._myGamepad.registerButtonEventListener(PP.ButtonType.BOTTOM_BUTTON,PP.ButtonEvent.TOUCH_END,this,this._bottomButtonTouchedEnd.bind(this)),this._myGamepad.registerButtonEventListener(PP.ButtonType.TOP_BUTTON,PP.ButtonEvent.TOUCH_START,this,this._topButtonTouchedStart.bind(this)),this._myGamepad.registerButtonEventListener(PP.ButtonType.TOP_BUTTON,PP.ButtonEvent.TOUCH_END,this,this._topButtonTouchedEnd.bind(this)),this._myGamepad.registerButtonEventListener(PP.ButtonType.SQUEEZE,PP.ButtonEvent.VALUE_CHANGED,this,this._squeezeValueChanged.bind(this)),this._myGamepad.registerButtonEventListener(PP.ButtonType.SELECT,PP.ButtonEvent.VALUE_CHANGED,this,this._selectValueChanged.bind(this)),this._myGamepad.registerAxesEventListener(PP.AxesEvent.AXES_CHANGED,this,this._axesValueChanged.bind(this)),this._myFirstUpdate=!0},update:function(e){this._myFirstUpdate&&(this._myFirstUpdate=!1,this.object.pp_setScaleLocal([1e-5,1e-5,1e-5])),this._enableMeshInSession()},_thumbstickPressedStart:function(e,t){let i=PP.vec3_create();this._myThumbstickInitialLocalUp.vec3_scale(-.0015,i),this._myThumbstick.translate(i)},_thumbstickPressedEnd:function(e,t){let i=PP.vec3_create();this._myThumbstickInitialLocalUp.vec3_scale(.0015,i),this._myThumbstick.translate(i)},_bottomButtonPressedStart:function(e,t){this._translateLocalAxis(this._myBottomButton,[0,1,0],-.002)},_bottomButtonPressedEnd:function(e,t){this._translateLocalAxis(this._myBottomButton,[0,1,0],.002)},_topButtonPressedStart:function(e,t){this._translateLocalAxis(this._myTopButton,[0,1,0],-.002)},_topButtonPressedEnd:function(e,t){this._translateLocalAxis(this._myTopButton,[0,1,0],.002)},_selectTouchedStart:function(e,t){this._myNormalDiffuseButtonColor&&(this._mySelectMaterial.diffuseColor=this._myIsTouchedDiffuseButtonColor,this._mySelectMaterial.ambientColor=this._myIsTouchedAmbientButtonColor)},_selectTouchedEnd:function(e,t){this._myNormalDiffuseButtonColor&&(this._mySelectMaterial.diffuseColor=this._myNormalDiffuseButtonColor,this._mySelectMaterial.ambientColor=this._myNormalAmbientButtonColor)},_squeezeTouchedStart:function(e,t){this._myNormalDiffuseButtonColor&&(this._mySqueezeMaterial.diffuseColor=this._myIsTouchedDiffuseButtonColor,this._mySqueezeMaterial.ambientColor=this._myIsTouchedAmbientButtonColor)},_squeezeTouchedEnd:function(e,t){this._myNormalDiffuseButtonColor&&(this._mySqueezeMaterial.diffuseColor=this._myNormalDiffuseButtonColor,this._mySqueezeMaterial.ambientColor=this._myNormalAmbientButtonColor)},_thumbstickTouchedStart:function(e,t){this._myNormalDiffuseButtonColor&&(this._myThumbstickMaterial.diffuseColor=this._myIsTouchedDiffuseButtonColor,this._myThumbstickMaterial.ambientColor=this._myIsTouchedAmbientButtonColor)},_thumbstickTouchedEnd:function(e,t){this._myNormalDiffuseButtonColor&&(this._myThumbstickMaterial.diffuseColor=this._myNormalDiffuseButtonColor,this._myThumbstickMaterial.ambientColor=this._myNormalAmbientButtonColor)},_bottomButtonTouchedStart:function(e,t){this._myNormalDiffuseButtonColor&&(this._myBottomButtonMaterial.diffuseColor=this._myIsTouchedDiffuseButtonColor,this._myBottomButtonMaterial.ambientColor=this._myIsTouchedAmbientButtonColor)},_bottomButtonTouchedEnd:function(e,t){this._myNormalDiffuseButtonColor&&(this._myBottomButtonMaterial.diffuseColor=this._myNormalDiffuseButtonColor,this._myBottomButtonMaterial.ambientColor=this._myNormalAmbientButtonColor)},_topButtonTouchedStart:function(e,t){this._myNormalDiffuseButtonColor&&(this._myTopButtonMaterial.diffuseColor=this._myIsTouchedDiffuseButtonColor,this._myTopButtonMaterial.ambientColor=this._myIsTouchedAmbientButtonColor)},_topButtonTouchedEnd:function(e,t){this._myNormalDiffuseButtonColor&&(this._myTopButtonMaterial.diffuseColor=this._myNormalDiffuseButtonColor,this._myTopButtonMaterial.ambientColor=this._myNormalAmbientButtonColor)},_selectValueChanged:function(e,t){this._copyAlignRotation(this._mySelect,this._mySelectUp,[0,1,0]);let i=Math.pp_toRadians(15*e.myValue),s=[0,1,0];s.vec3_rotateAxisRadians(i,[1,0,0],s),s.vec3_normalize(s),this._copyAlignRotation(this._mySelect,[0,1,0],s),this._mySelectUp=s},_squeezeValueChanged:function(e,t){this._mySqueeze.setTranslationLocal(this._mySqueezePosition);let i=.0015;this._myHandedness==1&&(i*=-1),this._translateLocalAxis(this._mySqueeze,[1,0,0],i*e.myValue)},_axesValueChanged:function(e,t){this._copyAlignRotation(this._myThumbstick,this._myThumbstickUp,[0,1,0]);let i=new Float32Array(3);[0,1,0].vec3_add([-e.myAxes[0],0,e.myAxes[1]],i),i.vec3_normalize(i),this._copyAlignRotation(this._myThumbstick,[0,1,0],i),this._myThumbstickUp=i},_copyAlignRotation:function(e,t,i){let s=new Float32Array(3);t.vec3_cross(i,s),s.vec3_normalize(s);let n=t.vec3_angleRadians(i);n>1e-4&&e.rotateAxisAngleRadObject(s,n)},_translateLocalAxis(e,t,i){let s=this._getLocalAxis(e,t);s.vec3_scale(i,s),e.translate(s)},_getLocalAxis(e,t){let i=PP.vec3_create();return t.vec3_transformQuat(e.transformLocal,i),i.vec3_normalize(i),i},_enableMeshInSession:function(){this._myIsMeshEnabled||WL.xrSession&&(this.object.pp_resetScaleLocal(),this._myIsMeshEnabled=!0)}})});var Xi=C(()=>{WL.registerComponent(\"pp-gamepad-manager\",{_myFixForward:{type:WL.Type.Bool,default:!0}},{init(){this._myGamepadManager=new PP.GamepadManager,PP.myLeftGamepad=this._myGamepadManager.getLeftGamepad(),PP.myRightGamepad=this._myGamepadManager.getRightGamepad(),PP.myGamepads=this._myGamepadManager.getGamepads()},start(){this._addGamepadCores(),this._myGamepadManager.start()},update(e){this._myGamepadManager.update(e)},_addGamepadCores(){let e=new PP.HandPoseParams;e.myReferenceObject=PP.myPlayerObjects.myPlayerPivot,e.myFixForward=this._myFixForward,e.myForceEmulatedVelocities=!1;let t=new PP.XRGamepadCore(PP.Handedness.LEFT,e),i=new PP.XRGamepadCore(PP.Handedness.RIGHT,e);PP.myLeftGamepad.addGamepadCore(\"left_xr_gamepad\",t),PP.myRightGamepad.addGamepadCore(\"right_xr_gamepad\",i);let s=new PP.KeyboardGamepadCore(PP.Handedness.LEFT,t.getHandPose()),n=new PP.KeyboardGamepadCore(PP.Handedness.RIGHT,i.getHandPose());PP.myLeftGamepad.addGamepadCore(\"left_keyboard_gamepad\",s),PP.myRightGamepad.addGamepadCore(\"right_keyboard_gamepad\",n)}});PP.myLeftGamepad=null;PP.myRightGamepad=null;PP.myGamepads=null});var Yi=C(()=>{PP.GamepadManager=class{constructor(){this._myLeftGamepad=new PP.UniversalGamepad(PP.Handedness.LEFT),this._myRightGamepad=new PP.UniversalGamepad(PP.Handedness.RIGHT)}start(){this._myLeftGamepad.start(),this._myRightGamepad.start()}update(t){this._myLeftGamepad.update(t),this._myRightGamepad.update(t)}getLeftGamepad(){return this._myLeftGamepad}getRightGamepad(){return this._myRightGamepad}getGamepad(t){let i=null;switch(t){case PP.Handedness.LEFT:i=this._myLeftGamepad;break;case PP.Handedness.RIGHT:i=this._myRightGamepad;break;default:i=null}return i}getGamepads(){let t=[];return t[PP.Handedness.LEFT]=this._myLeftGamepad,t[PP.Handedness.RIGHT]=this._myRightGamepad,t}}});var Zi=C(()=>{PP.GamepadUtils={_mySimultaneousPressMaxDelay:.15,_mySimultaneousTouchMaxDelay:.15,setSimultaneousPressMaxDelay:function(e){PP.GamepadUtils._mySimultaneousPressMaxDelay=e},setSimultaneousTouchMaxDelay:function(e){PP.GamepadUtils._mySimultaneousTouchMaxDelay=e},getSimultaneousPressMaxDelay:function(){return PP.GamepadUtils._mySimultaneousPressMaxDelay},getSimultaneousTouchMaxDelay:function(){return PP.GamepadUtils._mySimultaneousTouchMaxDelay},isAnyButtonPressStart:function(...e){let t=null,i=e;isNaN(e[0])||(t=e[0],i=e.slice(1));for(let n of i)if(n.length==1)for(let o in PP.ButtonType)n.push(PP.ButtonType[o]);let s=!1;for(let n of i){let o=n[0];for(let r=1;r<n.length;r++){let l=n[r];if(o.getButtonInfo(l).isPressStart(t)){s=!0;break}}if(s)break}return s},areButtonsPressStart:function(...e){let t=null,i=e;isNaN(e[0])||(t=e[0],i=e.slice(1));for(let o of i)if(o.length==1)for(let r in PP.ButtonType)o.push(PP.ButtonType[r]);let s=!0,n=!1;for(let o of i){let r=o[0];for(let l=1;l<o.length;l++){let u=o[l],c=r.getButtonInfo(u);if(!(c.myIsPressed&&(t==null||c.myMultiplePressStartCount==t)&&c.myTimePressed<PP.GamepadUtils._mySimultaneousPressMaxDelay)){s=!1;break}c.isPressStart(t)&&(n=!0)}if(!s)break}return s&&n},isAnyButtonPressEnd:function(...e){let t=null,i=e;isNaN(e[0])||(t=e[0],i=e.slice(1));for(let n of i)if(n.length==1)for(let o in PP.ButtonType)n.push(PP.ButtonType[o]);let s=!1;for(let n of i){let o=n[0];for(let r=1;r<n.length;r++){let l=n[r];if(o.getButtonInfo(l).isPressEnd(t)){s=!0;break}}if(s)break}return s},areButtonsPressEnd:function(...e){let t=null,i=e;isNaN(e[0])||(t=e[0],i=e.slice(1));for(let o of i)if(o.length==1)for(let r in PP.ButtonType)o.push(PP.ButtonType[r]);let s=!0,n=!1;for(let o of i){let r=o[0];for(let l=1;l<o.length;l++){let u=o[l],c=r.getButtonInfo(u);if(!(!c.myIsPressed&&(t==null||c.myMultiplePressEndCount==t)&&c.myTimeNotPressed<PP.GamepadUtils._mySimultaneousPressMaxDelay)){s=!1;break}c.isPressEnd(t)&&(n=!0)}if(!s)break}return s&&n},isAnyButtonTouchStart:function(...e){let t=null,i=e;isNaN(e[0])||(t=e[0],i=e.slice(1));for(let n of i)if(n.length==1)for(let o in PP.ButtonType)n.push(PP.ButtonType[o]);let s=!1;for(let n of i){let o=n[0];for(let r=1;r<n.length;r++){let l=n[r];if(o.getButtonInfo(l).isTouchStart(t)){s=!0;break}}if(s)break}return s},areButtonsTouchStart:function(...e){let t=null,i=e;isNaN(e[0])||(t=e[0],i=e.slice(1));for(let o of i)if(o.length==1)for(let r in PP.ButtonType)o.push(PP.ButtonType[r]);let s=!0,n=!1;for(let o of i){let r=o[0];for(let l=1;l<o.length;l++){let u=o[l],c=r.getButtonInfo(u);if(!(c.myIsTouched&&(t==null||c.myMultipleTouchStartCount==t)&&c.myTimeTouched<PP.GamepadUtils._mySimultaneousTouchMaxDelay)){s=!1;break}c.isTouchStart(t)&&(n=!0)}if(!s)break}return s&&n},isAnyButtonTouchEnd:function(...e){let t=null,i=e;isNaN(e[0])||(t=e[0],i=e.slice(1));for(let n of i)if(n.length==1)for(let o in PP.ButtonType)n.push(PP.ButtonType[o]);let s=!1;for(let n of i){let o=n[0];for(let r=1;r<n.length;r++){let l=n[r];if(o.getButtonInfo(l).isTouchEnd(t)){s=!0;break}}if(s)break}return s},areButtonsTouchEnd:function(...e){let t=null,i=e;isNaN(e[0])||(t=e[0],i=e.slice(1));for(let o of i)if(o.length==1)for(let r in PP.ButtonType)o.push(PP.ButtonType[r]);let s=!0,n=!1;for(let o of i){let r=o[0];for(let l=1;l<o.length;l++){let u=o[l],c=r.getButtonInfo(u);if(!(!c.myIsTouched&&(t==null||c.myMultipleTouchEndCount==t)&&c.myTimeNotTouched<PP.GamepadUtils._mySimultaneousTouchMaxDelay)){s=!1;break}c.isTouchEnd(t)&&(n=!0)}if(!s)break}return s&&n}}});var Ji=C(()=>{WL.registerComponent(\"pp-gamepad-control-scheme\",{_myStartVisible:{type:WL.Type.Bool,default:!0},_myHandedness:{type:WL.Type.Enum,values:[\"left\",\"right\"],default:\"left\"},_myTextScaleMultiplier:{type:WL.Type.Float,default:1},_myLineLengthMultiplier:{type:WL.Type.Float,default:1},_myLineThicknessMultiplier:{type:WL.Type.Float,default:1},_mySelectText:{type:WL.Type.String,default:\"\"},_mySqueezeText:{type:WL.Type.String,default:\"\"},_myThumbstickText:{type:WL.Type.String,default:\"\"},_myBottomButtonText:{type:WL.Type.String,default:\"\"},_myTopButtonText:{type:WL.Type.String,default:\"\"},_mySelect:{type:WL.Type.Object,default:null},_mySqueeze:{type:WL.Type.Object,default:null},_myThumbstick:{type:WL.Type.Object,default:null},_myBottomButton:{type:WL.Type.Object,default:null},_myTopButton:{type:WL.Type.Object,default:null}},{init:function(){},start:function(){this._myTextMaterial=PP.myDefaultResources.myMaterials.myText.clone(),this._myFlatMaterial=PP.myDefaultResources.myMaterials.myFlatOpaque.clone(),this._myHandednessType=PP.InputUtils.getHandednessByIndex(this._myHandedness),this._myControlSchemeDirection=this._myHandednessType==PP.Handedness.LEFT?1:-1,this._myVisible=!1,this._createControlScheme(),this.setVisible(this._myStartVisible)},update:function(e){},isVisible(){return this._myVisible},setVisible(e){this._myVisible=e,this._myRootObject.pp_setActive(this._myVisible),this._myVisible&&this._hideEmptySchemes()},setSelectText(e){this._mySelectText=e,this._mySelectTextComponent.text=this._mySelectText,this.setVisible(this._myVisible)},setSqueezeText(e){this._mySqueezeText=e,this._mySqueezeTextComponent.text=this._mySqueezeText,this.setVisible(this._myVisible)},setThumbstickText(e){this._myThumbstickText=e,this._myThumbstickTextComponent.text=this._myThumbstickText,this.setVisible(this._myVisible)},setBottomButtonText(e){this._myBottomButtonText=e,this._myBottomButtonTextComponent.text=this._myBottomButtonText,this.setVisible(this._myVisible)},setTopButtonText(e){this._myTopButtonText=e,this._myTopButtonTextComponent.text=this._myTopButtonText,this.setVisible(this._myVisible)},_createControlScheme(){this._myRootObject=this.object.pp_addObject();let e=this.object.pp_getScale();this.object.pp_resetScale();let t=.015,i=.0935*this._myLineLengthMultiplier,s=this._myThumbstick;this._mySelectObject=this._myRootObject.pp_addObject(),this._mySelectTextComponent=this._addScheme(this._mySelect,s,[0,0,t],[i*this._myControlSchemeDirection,0,0],this._mySelectObject),this._mySelectTextComponent.text=this._mySelectText,this._mySqueezeObject=this._myRootObject.pp_addObject(),this._mySqueezeTextComponent=this._addScheme(this._mySqueeze,s,[t*this._myControlSchemeDirection,0,0],[i*this._myControlSchemeDirection,0,0],this._mySqueezeObject),this._mySqueezeTextComponent.text=this._mySqueezeText,this._myThumbstickObject=this._myRootObject.pp_addObject(),this._myThumbstickTextComponent=this._addScheme(this._myThumbstick,s,[0,t,0],[-i*this._myControlSchemeDirection,0,0],this._myThumbstickObject),this._myThumbstickTextComponent.text=this._myThumbstickText,this._myBottomButtonObject=this._myRootObject.pp_addObject(),this._myBottomButtonTextComponent=this._addScheme(this._myBottomButton,s,[0,t,0],[0,0,-i],this._myBottomButtonObject),this._myBottomButtonTextComponent.text=this._myBottomButtonText,this._myTopButtonObject=this._myRootObject.pp_addObject(),this._myTopButtonTextComponent=this._addScheme(this._myTopButton,s,[0,t,0],[-i*this._myControlSchemeDirection,0,0].vec3_rotateAxis(-45*this._myControlSchemeDirection,[0,1,0]),this._myTopButtonObject),this._myTopButtonTextComponent.text=this._myTopButtonText,this.object.pp_setScale(e)},_addScheme(e,t,i,s,n){let o=e.pp_getPosition(),r=t.pp_getForward(),l=t.pp_getRight(),u=t.pp_getUp(),c=o.vec3_add(l.vec3_scale(i[0]));c.vec3_add(u.vec3_scale(i[1]),c),c.vec3_add(r.vec3_scale(i[2]),c);let a=c.vec3_add(l.vec3_scale(s[0]));a.vec3_add(u.vec3_scale(s[1]),a),a.vec3_add(r.vec3_scale(s[2]),a);let m=.01,y=a.vec3_add(r.vec3_scale(-m));return this._addLine(c,a,n),this._addText(y,r,u,n)},_addLine(e,t,i){let s=t.vec3_sub(e),n=s.vec3_length();s.vec3_normalize(s),lineRootObject=i.pp_addObject(),lineObject=lineRootObject.pp_addObject();let o=lineObject.addComponent(\"mesh\");o.mesh=PP.myDefaultResources.myMeshes.myCube,o.material=this._myFlatMaterial,lineRootObject.pp_setPosition(e);let r=.001*this._myLineThicknessMultiplier;lineObject.pp_scaleObject([r/2,r/2,n/2]),lineObject.pp_lookTo(s),lineObject.pp_translateObject([0,0,n/2])},_addText(e,t,i,s){let n=s.pp_addObject();n.pp_setPosition(e),n.pp_lookTo(i,t),n.pp_scaleObject(.0935*this._myTextScaleMultiplier);let o=n.pp_addComponent(\"text\");return o.alignment=WL.Alignment.Center,o.justification=WL.Justification.Top,o.material=this._myTextMaterial,o},_hideEmptySchemes(){this._mySelectText.length==0&&this._mySelectObject.pp_setActive(!1),this._mySqueezeText.length==0&&this._mySqueezeObject.pp_setActive(!1),this._myThumbstickText.length==0&&this._myThumbstickObject.pp_setActive(!1),this._myBottomButtonText.length==0&&this._myBottomButtonObject.pp_setActive(!1),this._myTopButtonText.length==0&&this._myTopButtonObject.pp_setActive(!1)}})});var $i=C(()=>{PP.HandPoseParams=class{constructor(){this.myReferenceObject=null,this.myFixForward=!0,this.myForceEmulatedVelocities=!1}};PP.HandPose=class{constructor(t,i=new PP.HandPoseParams){this._myInputSource=null,this._myHandedness=t,this._myFixForward=i.myFixForward,this._myForceEmulatedVelocities=i.myForceEmulatedVelocities,this._myReferenceSpace=null,this._myReferenceObject=i.myReferenceObject,this._myPosition=[0,0,0],this._myRotation=[0,0,0,1],this._myPrevPosition=[0,0,0],this._myPrevRotation=[0,0,0,1],this._myLinearVelocity=[0,0,0],this._myAngularVelocity=[0,0,0],this._myIsValid=!1,this._myIsLinearVelocityEmulated=!0,this._myIsAngularVelocityEmulated=!0,this._myOutPosition=PP.vec3_create(),this._myOutTransformMatrix=PP.mat4_create(),this._myOutTransformQuat=PP.quat2_create(),this._myOutPlayerTransformMatrix=PP.mat4_create(),this._myOutPlayerTransformQuat=PP.quat2_create(),this._myOutPlayerRotationQuat=PP.quat_create(),this._myOutAxes=[PP.vec3_create(),PP.vec3_create(),PP.vec3_create()],this._myOutRotationQuat=PP.quat_create(),this._myOutRotationDegrees=PP.vec3_create(),this._myOutRotationRadians=PP.vec3_create(),this._myOutPrevRotationRadians=PP.vec3_create()}setReferenceObject(t){this._myReferenceObject=t}getReferenceObject(){return this._myReferenceObject}getReferenceSpace(){return this._myReferenceSpace}getInputSource(){return this._myInputSource}getPosition(){return this._myReferenceObject==null?this._myPosition:this._myPosition.vec3_convertPositionToWorld(this._myReferenceObject.pp_getTransform(this._myOutPlayerTransformMatrix),this._myOutPosition)}getRotation(){return this.getRotationDegrees()}getRotationDegrees(){return this.getRotationQuat().quat_toDegrees()}getRotationRadians(){return this.getRotationQuat().quat_toRadians()}getRotationQuat(){let t=this._myRotation;return this._myFixForward&&(this._myOutRotationQuat.pp_copy(this._myRotation),t=this._myOutRotationQuat,t.quat_rotateAxisRadians(Math.PI,t.quat_getAxes(this._myOutAxes)[1],t)),this._myReferenceObject==null?t:t.quat_toWorld(this._myReferenceObject.pp_getRotationQuat(this._myOutPlayerRotationQuat),t)}getTransform(){return this.getTransformMatrix()}getTransformMatrix(){return this.getTransformQuat().quat2_toMatrix(this._myOutTransformMatrix)}getTransformQuat(){return this._myOutTransformQuat.quat2_setPositionRotationQuat(this._myPosition,this.getRotationQuat()),this._myReferenceObject==null?this._myOutTransformQuat:this._myOutTransformQuat.pp_toWorld(this._myReferenceObject.pp_getTransformQuat(this._myOutPlayerTransformQuat),this._myOutTransformQuat)}getLinearVelocity(){return this._myReferenceObject==null?this._myLinearVelocity:this._myLinearVelocity.vec3_convertDirectionToWorld(this._myReferenceObject.pp_getTransform(this._myOutPlayerTransformMatrix),this._myOutPosition)}getAngularVelocity(){return this.getAngularVelocityDegrees()}getAngularVelocityDegrees(){this.getAngularVelocityRadians().vec3_toDegrees(this._myOutRotationDegrees)}getAngularVelocityRadians(){return this._myReferenceObject==null?this._myAngularVelocity:this._myAngularVelocity.vec3_convertDirectionToWorld(this._myReferenceObject.pp_getTransform(this._myOutPlayerTransformMatrix),this._myOutRotationRadians)}isValid(){return this._myIsValid}isLinearVelocityEmulated(){return this._myIsLinearVelocityEmulated}isAngularVelocityEmulated(){return this._myIsAngularVelocityEmulated}setFixForward(t){this._myFixForward=t}setForceEmulatedVelocities(t){this._myForceEmulatedVelocities=t}setHandPoseParams(t){this.setReferenceObject(t.myReferenceObject),this.setFixForward(t.myFixForward),this.setForceEmulatedVelocities(t.myForceEmulatedVelocities)}start(){WL.xrSession&&this._onXRSessionStart(!0,WL.xrSession),WL.onXRSessionStart.push(this._onXRSessionStart.bind(this,!1)),WL.onXRSessionEnd.push(this._onXRSessionEnd.bind(this))}update(t){this._myPrevPosition.vec3_copy(this._myPosition),this._myPrevRotation.quat_copy(this._myRotation);let i=Module.webxr_frame;if(i&&this._myInputSource){let s=null;try{s=i.getPose(this._myInputSource.gripSpace,this._myReferenceSpace)}catch{}s?(this._myPosition[0]=s.transform.position.x,this._myPosition[1]=s.transform.position.y,this._myPosition[2]=s.transform.position.z,this._myRotation[0]=s.transform.orientation.x,this._myRotation[1]=s.transform.orientation.y,this._myRotation[2]=s.transform.orientation.z,this._myRotation[3]=s.transform.orientation.w,s.linearVelocity&&!this._myForceEmulatedVelocities?(this._myLinearVelocity[0]=s.linearVelocity.x,this._myLinearVelocity[1]=s.linearVelocity.y,this._myLinearVelocity[2]=s.linearVelocity.z,this._myIsLinearVelocityEmulated=!1):(this._computeEmulatedLinearVelocity(t),this._myIsLinearVelocityEmulated=!0),s.angularVelocity&&!this._myForceEmulatedVelocities?(this._myAngularVelocity[0]=s.angularVelocity.x,this._myAngularVelocity[1]=s.angularVelocity.y,this._myAngularVelocity[2]=s.angularVelocity.z,this._myIsAngularVelocityEmulated=!1):(this._computeEmulatedAngularVelocity(t),this._myIsAngularVelocityEmulated=!0),this._myIsValid=!0):(this._myLinearVelocity[0]=0,this._myLinearVelocity[1]=0,this._myLinearVelocity[2]=0,this._myAngularVelocity[0]=0,this._myAngularVelocity[1]=0,this._myAngularVelocity[2]=0,this._myIsValid=!1,this._myIsLinearVelocityEmulated=!0,this._myIsAngularVelocityEmulated=!0)}else this._myLinearVelocity[0]=0,this._myLinearVelocity[1]=0,this._myLinearVelocity[2]=0,this._myAngularVelocity[0]=0,this._myAngularVelocity[1]=0,this._myAngularVelocity[2]=0,this._myIsValid=!1,this._myIsLinearVelocityEmulated=!0,this._myIsAngularVelocityEmulated=!0}_computeEmulatedLinearVelocity(t){t>0?(this._myPosition.vec3_sub(this._myPrevPosition,this._myLinearVelocity),this._myLinearVelocity.vec3_scale(1/t,this._myLinearVelocity)):(this._myLinearVelocity[0]=0,this._myLinearVelocity[1]=0,this._myLinearVelocity[2]=0)}_computeEmulatedAngularVelocity(t){if(t>0){let i=this._myRotation.quat_toRadians(this._myOutRotationRadians),s=this._myPrevRotation.quat_toRadians(this._myOutPrevRotationRadians);i.vec3_sub(s,this._myAngularVelocity),this._myAngularVelocity.vec3_scale(1/t,this._myAngularVelocity)}else this._myAngularVelocity[0]=0,this._myAngularVelocity[1]=0,this._myAngularVelocity[2]=0}_onXRSessionStart(t,i){if(i.requestReferenceSpace(WebXR.refSpace).then(function(s){this._myReferenceSpace=s}.bind(this)),i.addEventListener(\"inputsourceschange\",function(s){if(s.removed)for(let n of s.removed)n==this._myInputSource&&(this._myInputSource=null);if(s.added)for(let n of s.added)n.handedness==this._myHandedness&&(this._myInputSource=n)}.bind(this)),t&&this._myInputSource==null&&i.inputSources)for(let s of i.inputSources)s.handedness==this._myHandedness&&(this._myInputSource=s)}_onXRSessionEnd(t){this._myReferenceSpace=null,this._myInputSource=null}}});var ts=C(()=>{PP.HeadPoseParams=class{constructor(){this.myReferenceObject=null,this.myFixForward=!0,this.myForceEmulatedVelocities=!1}};PP.HeadPose=class{constructor(t=new PP.HeadPoseParams){this._myFixForward=t.myFixForward,this._myForceEmulatedVelocities=t.myForceEmulatedVelocities,this._myReferenceSpace=null,this._myReferenceObject=t.myReferenceObject,this._myPosition=[0,0,0],this._myRotation=[0,0,0,1],this._myPrevPosition=[0,0,0],this._myPrevRotation=[0,0,0,1],this._myLinearVelocity=[0,0,0],this._myAngularVelocity=[0,0,0],this._myIsValid=!1,this._myIsLinearVelocityEmulated=!0,this._myIsAngularVelocityEmulated=!0,this._myOutPosition=PP.vec3_create(),this._myOutTransformMatrix=PP.mat4_create(),this._myOutTransformQuat=PP.quat2_create(),this._myOutPlayerTransformMatrix=PP.mat4_create(),this._myOutPlayerTransformQuat=PP.quat2_create(),this._myOutPlayerRotationQuat=PP.quat_create(),this._myOutAxes=[PP.vec3_create(),PP.vec3_create(),PP.vec3_create()],this._myOutRotationQuat=PP.quat_create(),this._myOutRotationDegrees=PP.vec3_create(),this._myOutRotationRadians=PP.vec3_create(),this._myOutPrevRotationRadians=PP.vec3_create()}setReferenceObject(t){this._myReferenceObject=t}getReferenceObject(){return this._myReferenceObject}getReferenceSpace(){return this._myReferenceSpace}getInputSource(){return this._myInputSource}getPosition(){return this._myReferenceObject==null?this._myPosition:this._myPosition.vec3_convertPositionToWorld(this._myReferenceObject.pp_getTransform(this._myOutPlayerTransformMatrix),this._myOutPosition)}getRotation(){return this.getRotationDegrees()}getRotationDegrees(){return this.getRotationQuat().quat_toDegrees()}getRotationRadians(){return this.getRotationQuat().quat_toRadians()}getRotationQuat(){let t=this._myRotation;return this._myFixForward&&(this._myOutRotationQuat.pp_copy(this._myRotation),t=this._myOutRotationQuat,t.quat_rotateAxisRadians(Math.PI,t.quat_getAxes(this._myOutAxes)[1],t)),this._myReferenceObject==null?t:t.quat_toWorld(this._myReferenceObject.pp_getRotationQuat(this._myOutPlayerRotationQuat),t)}getTransform(){return this.getTransformMatrix()}getTransformMatrix(){return this.getTransformQuat().quat2_toMatrix(this._myOutTransformMatrix)}getTransformQuat(){return this._myOutTransformQuat.quat2_setPositionRotationQuat(this._myPosition,this.getRotationQuat()),this._myReferenceObject==null?this._myOutTransformQuat:this._myOutTransformQuat.pp_toWorld(this._myReferenceObject.pp_getTransformQuat(this._myOutPlayerTransformQuat),this._myOutTransformQuat)}getLinearVelocity(){return this._myReferenceObject==null?this._myLinearVelocity:this._myLinearVelocity.vec3_convertDirectionToWorld(this._myReferenceObject.pp_getTransform(this._myOutPlayerTransformMatrix),this._myOutPosition)}getAngularVelocity(){return this.getAngularVelocityDegrees()}getAngularVelocityDegrees(){this.getAngularVelocityRadians().vec3_toDegrees(this._myOutRotationDegrees)}getAngularVelocityRadians(){return this._myReferenceObject==null?this._myAngularVelocity:this._myAngularVelocity.vec3_convertDirectionToWorld(this._myReferenceObject.pp_getTransform(this._myOutPlayerTransformMatrix),this._myOutRotationRadians)}isValid(){return this._myIsValid}isLinearVelocityEmulated(){return this._myIsLinearVelocityEmulated}isAngularVelocityEmulated(){return this._myIsAngularVelocityEmulated}setFixForward(t){this._myFixForward=t}setForceEmulatedVelocities(t){this._myForceEmulatedVelocities=t}setHeadPoseParams(t){this.setReferenceObject(t.myReferenceObject),this.setFixForward(t.myFixForward),this.setForceEmulatedVelocities(t.myForceEmulatedVelocities)}start(){WL.xrSession&&this._onXRSessionStart(WL.xrSession),WL.onXRSessionStart.push(this._onXRSessionStart.bind(this)),WL.onXRSessionEnd.push(this._onXRSessionEnd.bind(this))}update(t){this._myPrevPosition.vec3_copy(this._myPosition),this._myPrevRotation.quat_copy(this._myRotation);let i=Module.webxr_frame;if(i){let s=null;try{s=i.getViewerPose(this._myReferenceSpace)}catch{}s?(this._myPosition[0]=s.transform.position.x,this._myPosition[1]=s.transform.position.y,this._myPosition[2]=s.transform.position.z,this._myRotation[0]=s.transform.orientation.x,this._myRotation[1]=s.transform.orientation.y,this._myRotation[2]=s.transform.orientation.z,this._myRotation[3]=s.transform.orientation.w,s.linearVelocity&&!this._myForceEmulatedVelocities?(this._myLinearVelocity[0]=s.linearVelocity.x,this._myLinearVelocity[1]=s.linearVelocity.y,this._myLinearVelocity[2]=s.linearVelocity.z,this._myIsLinearVelocityEmulated=!1):(this._computeEmulatedLinearVelocity(t),this._myIsLinearVelocityEmulated=!0),s.angularVelocity&&!this._myForceEmulatedVelocities?(this._myAngularVelocity[0]=s.angularVelocity.x,this._myAngularVelocity[1]=s.angularVelocity.y,this._myAngularVelocity[2]=s.angularVelocity.z,this._myIsAngularVelocityEmulated=!1):(this._computeEmulatedAngularVelocity(t),this._myIsAngularVelocityEmulated=!0),this._myIsValid=!0):(this._myLinearVelocity[0]=0,this._myLinearVelocity[1]=0,this._myLinearVelocity[2]=0,this._myAngularVelocity[0]=0,this._myAngularVelocity[1]=0,this._myAngularVelocity[2]=0,this._myIsValid=!1,this._myIsLinearVelocityEmulated=!0,this._myIsAngularVelocityEmulated=!0)}else this._myLinearVelocity[0]=0,this._myLinearVelocity[1]=0,this._myLinearVelocity[2]=0,this._myAngularVelocity[0]=0,this._myAngularVelocity[1]=0,this._myAngularVelocity[2]=0,this._myIsValid=!1,this._myIsLinearVelocityEmulated=!0,this._myIsAngularVelocityEmulated=!0}_computeEmulatedLinearVelocity(t){t>0?(this._myPosition.vec3_sub(this._myPrevPosition,this._myLinearVelocity),this._myLinearVelocity.vec3_scale(1/t,this._myLinearVelocity)):(this._myLinearVelocity[0]=0,this._myLinearVelocity[1]=0,this._myLinearVelocity[2]=0)}_computeEmulatedAngularVelocity(t){if(t>0){let i=this._myRotation.quat_toRadians(this._myOutRotationRadians),s=this._myPrevRotation.quat_toRadians(this._myOutPrevRotationRadians);i.vec3_sub(s,this._myAngularVelocity),this._myAngularVelocity.vec3_scale(1/t,this._myAngularVelocity)}else this._myAngularVelocity[0]=0,this._myAngularVelocity[1]=0,this._myAngularVelocity[2]=0}_onXRSessionStart(t){t.requestReferenceSpace(WebXR.refSpace).then(function(i){this._myReferenceSpace=i}.bind(this))}_onXRSessionEnd(t){this._myReferenceSpace=null}}});var es=C(()=>{WL.registerComponent(\"pp-set-player-height\",{_myEyesHeight:{type:WL.Type.Float,default:1.65},_mySetOnlyOnStart:{type:WL.Type.Bool,default:!1}},{start(){let e=this.object.pp_getPositionLocal();this.object.pp_setPositionLocal([e[0],this._myEyesHeight,e[2]]),this._myHeightSetOnce=!1,WL.xrSession&&this._onXRSessionStart(WL.xrSession),WL.onXRSessionStart.push(this._onXRSessionStart.bind(this)),WL.onXRSessionEnd.push(this._onXRSessionEnd.bind(this))},_onXRSessionStart(){if(this.active&&(!this._mySetOnlyOnStart||!this._myHeightSetOnce)){let e=this.object.pp_getPositionLocal();PP.XRUtils.isReferenceSpaceLocalFloor()?this.object.pp_setPositionLocal([e[0],0,e[2]]):PP.XRUtils.isDeviceEmulated()?this.object.pp_setPositionLocal([e[0],0,e[2]]):this.object.pp_setPositionLocal([e[0],this._myEyesHeight,e[2]]),this._myHeightSetOnce=!0}},_onXRSessionEnd(){if(this.active&&!this._mySetOnlyOnStart){let e=this.object.pp_getPositionLocal();this.object.pp_setPositionLocal([e[0],this._myEyesHeight,e[2]])}}})});var is=C(()=>{WL.registerComponent(\"pp-set-hand-local-transform\",{_myHandedness:{type:WL.Type.Enum,values:[\"left\",\"right\"],default:\"left\"},_myFixForward:{type:WL.Type.Bool,default:!0}},{init:function(){this._myHandPose=new PP.HandPose(PP.InputUtils.getHandednessByIndex(this._myHandedness)),this._myHandPose.setFixForward(this._myFixForward)},start:function(){this._myHandPose.start()},update:function(){let e=PP.quat2_create();return function(i){this._myHandPose.update(i),this.object.pp_setTransformLocalQuat(this._myHandPose.getTransformQuat(e))}}()})});var ss=C(()=>{WL.registerComponent(\"pp-set-head-local-transform\",{_myNonVRCamera:{type:WL.Type.Object},_myFixForward:{type:WL.Type.Bool,default:!0}},{init:function(){this._myHeadPose=new PP.HeadPose,this._myHeadPose.setFixForward(this._myFixForward)},start:function(){this._myHeadPose.start()},update:function(){let e=PP.quat2_create(),t=PP.quat_create(),i=PP.vec3_create(),s=PP.vec3_create();return function(o){this._myHeadPose.update(o),PP.XRUtils.isXRSessionActive()?this.object.pp_setTransformLocalQuat(this._myHeadPose.getTransformQuat(e)):(t=this._myNonVRCamera.pp_getRotationLocalQuat(t),this._myFixForward&&t.quat_rotateAxisRadians(Math.PI,t.quat_getUp(i),t),this.object.pp_setPositionLocal(this._myNonVRCamera.pp_getPositionLocal(s)),this.object.pp_setRotationLocalQuat(t))}}()})});var ns=C(()=>{WL.registerComponent(\"pp-set-vr-head-local-transform\",{_myFixForward:{type:WL.Type.Bool,default:!0}},{init:function(){this._myHeadPose=new PP.HeadPose,this._myHeadPose.setFixForward(this._myFixForward)},start:function(){this._myHeadPose.start()},update:function(){let e=PP.quat2_create();return function(i){this._myHeadPose.update(i),this.object.pp_setTransformLocalQuat(this._myHeadPose.getTransformQuat(e))}}()})});var os=C(()=>{WL.registerComponent(\"pp-set-non-vr-head-local-transform\",{_myNonVRCamera:{type:WL.Type.Object},_myFixForward:{type:WL.Type.Bool,default:!0}},{init:function(){},start:function(){},update:function(e){let t=PP.quat_create(),i=PP.vec3_create(),s=PP.vec3_create();return function(o){t=this._myNonVRCamera.pp_getRotationLocalQuat(t),this._myFixForward&&t.quat_rotateAxisRadians(Math.PI,t.quat_getUp(i),t),this.object.pp_setPositionLocal(this._myNonVRCamera.pp_getPositionLocal(s)),this.object.pp_setRotationLocalQuat(t)}}()})});var as=C(()=>{WL.registerComponent(\"pp-copy-hand-transform\",{_myHandedness:{type:WL.Type.Enum,values:[\"left\",\"right\"],default:\"left\"}},{init:function(){this._myHandednessType=this._myHandedness==0?PP.Handedness.LEFT:PP.Handedness.RIGHT},update:function(e){let t=PP.myPlayerObjects.myHands[this._myHandednessType];this.object.pp_setTransformQuat(t.pp_getTransformQuat()),this.object.pp_setScale(t.pp_getScale())}})});var rs=C(()=>{WL.registerComponent(\"pp-copy-head-transform\",{},{update:function(e){let t=PP.myPlayerObjects.myHead;this.object.pp_setTransformQuat(t.pp_getTransformQuat()),this.object.pp_setScale(t.pp_getScale())}})});var ls=C(()=>{PP.ToolHandedness={NONE:null,LEFT:\"left\",RIGHT:\"right\"};PP.ToolInputSourceType={NONE:null,GAMEPAD:0,HAND:1}});var ms=C(()=>{WL.registerComponent(\"pp-tool-cursor\",{_myHandedness:{type:WL.Type.Enum,values:[\"left\",\"right\"],default:\"left\"},_myPulseOnHover:{type:WL.Type.Bool,default:!1},_myShowFingerCursor:{type:WL.Type.Bool,default:!1}},{init:function(){this._myHandednessString=[\"left\",\"right\"][this._myHandedness],this._myHandedness==0?this._myCursorPosition=[-.01,-.024,-.05]:this._myCursorPosition=[.01,-.024,-.05],this._myCursorRotation=[-.382,0,0,.924],this._myCursorRotation.quat_normalize(this._myCursorRotation),this._myCursorMeshScale=[.0025,.0025,.0025],this._myCursorColor=[255/255,255/255,255/255,1],this._myCursorTargetCollisionGroup=7},start:function(){this._myFixForwardObject=WL.scene.addObject(this.object),this._myFixForwardObject.pp_rotateObject([0,180,0]),this._myCursorObject=WL.scene.addObject(this._myFixForwardObject),this._myCursorObject.setTranslationLocal(this._myCursorPosition),this._myCursorObject.rotateObject(this._myCursorRotation),this._myCursorMeshObject=WL.scene.addObject(this._myCursorObject),this._myCursorMeshObject.pp_setScale(this._myCursorMeshScale),this._myCursorMeshComponent=this._myCursorMeshObject.addComponent(\"mesh\"),this._myCursorMeshComponent.mesh=PP.myDefaultResources.myMeshes.mySphere,this._myCursorMeshComponent.material=PP.myDefaultResources.myMaterials.myFlatOpaque.clone(),this._myCursorMeshComponent.material.color=this._myCursorColor,this._myCursorComponent=this._myCursorObject.addComponent(\"cursor\",{collisionGroup:this._myCursorTargetCollisionGroup,handedness:this._myHandedness+1,cursorObject:this._myCursorMeshObject}),this._myCursorComponent.rayCastMode=0,this._myPulseOnHover&&this._myCursorComponent.globalTarget.addHoverFunction(this._pulseOnHover.bind(this));let e=null,t=.0125;if(this._myShowFingerCursor){e=this.object.pp_addObject();let i=e.addComponent(\"mesh\");i.mesh=PP.myDefaultResources.myMeshes.mySphere,i.material=this._myCursorMeshComponent.material.clone(),e.pp_setScale(t)}this._myFingerCursorComponent=this.object.addComponent(\"pp-finger-cursor\",{_myHandedness:this._myHandedness,_myEnableMultipleClicks:!0,_myCollisionGroup:this._myCursorTargetCollisionGroup,_myCollisionSize:t,_myCursorObject:e}),this._myFingerCursorComponent.setActive(!1)},update:function(e){let t=this._isUsingHand();this._myFingerCursorComponent.setActive(t),this._myCursorComponent.active=!t,this._myCursorComponent.active||this._myCursorComponent._setCursorVisibility(!1)},_isUsingHand:function(){let e=!1;if(WL.xrSession&&WL.xrSession.inputSources)for(let t=0;t<WL.xrSession.inputSources.length;t++){let i=WL.xrSession.inputSources[t];if(i.hand&&i.handedness==this._myHandednessString){e=!0;break}}return e},_pulseOnHover:function(e){let t=e.getComponent(\"cursor-target\");t&&!t.isSurface&&(this._myHandedness==0?PP.myLeftGamepad&&PP.myLeftGamepad.pulse(.4,0):PP.myRightGamepad&&PP.myRightGamepad.pulse(.4,0))}})});var us=C(()=>{PP.ConsoleVRWidgetSetup=class{constructor(){this._initializeBuildSetup(),this._initializeRuntimeSetup()}_initializeBuildSetup(){this.myBackgroundColor=[46/255,46/255,46/255,1],this.myCursorTargetCollisionCollider=2,this.myCursorTargetCollisionGroup=7,this.myCursorTargetCollisionThickness=.001,this.myDefaultTextColor=[255/255,255/255,255/255,1],this.myTextAlignment=2,this.myTextJustification=2,this.myTextColor=this.myDefaultTextColor,this.myMessageTypeColors=[],this.myMessageTypeColors[PP.ConsoleVRWidget.MessageType.LOG]=this.myDefaultTextColor,this.myMessageTypeColors[PP.ConsoleVRWidget.MessageType.ERROR]=[255/255,40/255,40/255,1],this.myMessageTypeColors[PP.ConsoleVRWidget.MessageType.WARN]=[250/255,220/255,40/255,1],this.myMessageTypeColors[PP.ConsoleVRWidget.MessageType.INFO]=[60/255,200/255,255/255,1],this.myMessagesPanelPosition=[0,.075,0],this.myMessagesBackgroundScale=[.34,.15,1];{let t=.03,i=t*this.myMessagesBackgroundScale[0]/this.myMessagesBackgroundScale[1]*.8,s=-this.myMessagesBackgroundScale[0]+this.myMessagesBackgroundScale[0]*t,n=this.myMessagesBackgroundScale[1]-this.myMessagesBackgroundScale[1]*i;this.myMessagesTextsPanelPosition=[s,n,.007]}this.myMessagesTextsPanelScale=[.1,.1,.1],this.myMessagesTextStartString=`.\n`,this.myMessagesTextAlignment=1,this.myMessagesTextJustification=3,this.myMessagesTextPositions=[],this.myMessagesTextPositions[PP.ConsoleVRWidget.MessageType.LOG]=[0,0,1e-5],this.myMessagesTextPositions[PP.ConsoleVRWidget.MessageType.ERROR]=[0,0,0],this.myMessagesTextPositions[PP.ConsoleVRWidget.MessageType.WARN]=[0,0,0],this.myMessagesTextPositions[PP.ConsoleVRWidget.MessageType.INFO]=[0,0,0],this.myMessagesTextColors=[],this.myMessagesTextColors[PP.ConsoleVRWidget.MessageType.LOG]=this.myMessageTypeColors[PP.ConsoleVRWidget.MessageType.LOG],this.myMessagesTextColors[PP.ConsoleVRWidget.MessageType.ERROR]=this.myMessageTypeColors[PP.ConsoleVRWidget.MessageType.ERROR],this.myMessagesTextColors[PP.ConsoleVRWidget.MessageType.WARN]=this.myMessageTypeColors[PP.ConsoleVRWidget.MessageType.WARN],this.myMessagesTextColors[PP.ConsoleVRWidget.MessageType.INFO]=this.myMessageTypeColors[PP.ConsoleVRWidget.MessageType.INFO],this.myButtonsPanelPosition=[0,-.11,.015],this.myButtonBackgroundScale=[.04,.02,1],this.myButtonTextPosition=[0,0,.0065],this.myButtonTextScale=[.18,.18,.18],this.myButtonCursorTargetPosition=[0,0,0],this.myButtonCursorTargetPosition[2]=this.myButtonTextPosition[2],this.myButtonsCollisionCollider=this.myCursorTargetCollisionCollider,this.myButtonsCollisionGroup=this.myCursorTargetCollisionGroup,this.myButtonsCollisionExtents=this.myButtonBackgroundScale.slice(0),this.myButtonsCollisionExtents[2]=this.myCursorTargetCollisionThickness,this.myClearButtonTextLabel=\"clear\",this.myUpButtonTextLabel=\"up\",this.myDownButtonTextLabel=\"down\",this.myFilterButtonsTextColors=[],this.myFilterButtonsTextColors[PP.ConsoleVRWidget.MessageType.LOG]=this.myMessageTypeColors[PP.ConsoleVRWidget.MessageType.LOG],this.myFilterButtonsTextColors[PP.ConsoleVRWidget.MessageType.ERROR]=this.myMessageTypeColors[PP.ConsoleVRWidget.MessageType.ERROR],this.myFilterButtonsTextColors[PP.ConsoleVRWidget.MessageType.WARN]=this.myMessageTypeColors[PP.ConsoleVRWidget.MessageType.WARN],this.myFilterButtonsTextColors[PP.ConsoleVRWidget.MessageType.INFO]=this.myMessageTypeColors[PP.ConsoleVRWidget.MessageType.INFO],this.myFilterButtonsTextLabel=[],this.myFilterButtonsTextLabel[PP.ConsoleVRWidget.MessageType.LOG]=\"log\",this.myFilterButtonsTextLabel[PP.ConsoleVRWidget.MessageType.ERROR]=\"error\",this.myFilterButtonsTextLabel[PP.ConsoleVRWidget.MessageType.WARN]=\"warn\",this.myFilterButtonsTextLabel[PP.ConsoleVRWidget.MessageType.INFO]=\"info\";{let t=7,i=Math.max(.68,this.myButtonBackgroundScale[0]*t),s=2+3+4+4+1+2,n=Math.max((i-t*this.myButtonBackgroundScale[0]*2)/s,0),o=this.myButtonBackgroundScale[0],r=-i/2;this.myFilterButtonsPositions=[],this.myFilterButtonsPositions[PP.ConsoleVRWidget.MessageType.LOG]=[r+n*2+o,0,0],this.myFilterButtonsPositions[PP.ConsoleVRWidget.MessageType.ERROR]=[this.myFilterButtonsPositions[PP.ConsoleVRWidget.MessageType.LOG][0]+o+n+o,0,0],this.myFilterButtonsPositions[PP.ConsoleVRWidget.MessageType.WARN]=[this.myFilterButtonsPositions[PP.ConsoleVRWidget.MessageType.ERROR][0]+o+n+o,0,0],this.myFilterButtonsPositions[PP.ConsoleVRWidget.MessageType.INFO]=[this.myFilterButtonsPositions[PP.ConsoleVRWidget.MessageType.WARN][0]+o+n+o,0,0],this.myClearButtonPosition=[this.myFilterButtonsPositions[PP.ConsoleVRWidget.MessageType.INFO][0]+o+n*4+o,0,0],this.myUpButtonPosition=[this.myClearButtonPosition[0]+o+n*4+o,0,0],this.myDownButtonPosition=[this.myUpButtonPosition[0]+o+n+o,0,0]}this.myNotifyIconBackgroundScale=[.01,.01,1],this.myNotifyIconPanelPositions=[],this.myNotifyIconPanelPositions[PP.ToolHandedness.NONE]=[0,0,0],this.myNotifyIconPanelPositions[PP.ToolHandedness.NONE][0]=-this.myMessagesBackgroundScale[0]+this.myNotifyIconBackgroundScale[0]+.01,this.myNotifyIconPanelPositions[PP.ToolHandedness.NONE][1]=-this.myMessagesBackgroundScale[1]+this.myNotifyIconBackgroundScale[1]+.01,this.myNotifyIconPanelPositions[PP.ToolHandedness.NONE][2]=this.myMessagesTextsPanelPosition[2]-1e-5,this.myNotifyIconPanelPositions[PP.ToolHandedness.LEFT]=this.myNotifyIconPanelPositions[PP.ToolHandedness.NONE],this.myNotifyIconPanelPositions[PP.ToolHandedness.RIGHT]=this.myNotifyIconPanelPositions[PP.ToolHandedness.NONE],this.myNotifyIconCursorTargetPosition=[0,0,0],this.myNotifyIconCursorTargetPosition[2]=this.myButtonsPanelPosition[2]+this.myButtonTextPosition[2]-this.myMessagesTextsPanelPosition[2],this.myNotifyIconCollisionExtents=this.myNotifyIconBackgroundScale.slice(0),this.myNotifyIconCollisionExtents[2]=this.myCursorTargetCollisionThickness,this.myNotifyIconColor=[210/255,210/255,210/255,1],this.myPointerCollisionCollider=this.myCursorTargetCollisionCollider,this.myPointerCollisionGroup=this.myCursorTargetCollisionGroup;{let t=Math.abs(this.myMessagesPanelPosition[1]-this.myMessagesBackgroundScale[1]-(this.myButtonsPanelPosition[1]+this.myButtonBackgroundScale[1])),i=this.myMessagesBackgroundScale[1]+this.myButtonBackgroundScale[1]+t/2;this.myPointerCollisionExtents=[this.myMessagesBackgroundScale[0],i,this.myCursorTargetCollisionThickness]}this.myPointerCursorTargetPosition=[0,0,0],this.myPointerCursorTargetPosition[1]=this.myMessagesPanelPosition[1]+this.myMessagesBackgroundScale[1]-this.myPointerCollisionExtents[1],this.myPointerCursorTargetPosition[2]=this.myButtonsPanelPosition[2]+this.myButtonTextPosition[2]-1e-4}_initializeRuntimeSetup(){this.myTabString=\"     \",this.myAssertStartString=\"Assertion failed:\",this.myMaxCharactersPerLine=100,this.myMaxLineSplits=50,this.myMaxLines=22,this.myMaxMessages=2e3,this.myMaxMessagesDeletePad=2e3,this.myLinesBetweenMessages=1,this.myButtonHoverColor=[150/255,150/255,150/255,1],this.myButtonDisabledTextColor=this.myBackgroundColor,this.myButtonDisabledBackgroundColor=[110/255,110/255,110/255,1],this.myFilterButtonDisabledTextColor=this.myButtonDisabledTextColor,this.myFilterButtonDisabledBackgroundColor=this.myButtonDisabledBackgroundColor,this.myScrollDelay=.1,this.myScrollAmount=1,this.myScrollThumbstickHandedness=PP.ToolHandedness.RIGHT,this.myScrollThumbstickDelay=.1,this.myScrollThumbstickMinThreshold=.2,this.myScrollThumbstickAmount=3,this.myPulseDelay=5,this.myPulseIntensity=.3,this.myPulseDuration=.085,this.myClearBrowserConsoleWhenClearPressed=!0,this.myGamepadScrollOnlyOnHover=!0}}});var ys=C(()=>{PP.ConsoleVRWidgetUI=class{build(t,i,s){this._myParentObject=t,this._mySetup=i,this._myAdditionalSetup=s,this._myPlaneMesh=PP.MeshUtils.createPlaneMesh(),this._createSkeleton(),this._setTransforms(),this._addComponents()}setVisible(t){this.myPivotObject.pp_setActiveHierarchy(t)}_createSkeleton(){this.myPivotObject=WL.scene.addObject(this._myParentObject),this._createMessagesSkeleton(),this._createButtonsSkeleton(),this._createPointerSkeleton()}_createMessagesSkeleton(){this.myMessagesPanel=WL.scene.addObject(this.myPivotObject),this.myMessagesBackground=WL.scene.addObject(this.myMessagesPanel),this.myMessagesTextsPanel=WL.scene.addObject(this.myMessagesPanel),this.myMessagesTexts=[];for(let t in PP.ConsoleVRWidget.MessageType)this.myMessagesTexts[PP.ConsoleVRWidget.MessageType[t]]=WL.scene.addObject(this.myMessagesTextsPanel);this.myNotifyIconPanel=WL.scene.addObject(this.myMessagesPanel),this.myNotifyIconBackground=WL.scene.addObject(this.myNotifyIconPanel),this.myNotifyIconCursorTarget=WL.scene.addObject(this.myNotifyIconPanel)}_createButtonsSkeleton(){this.myButtonsPanel=WL.scene.addObject(this.myPivotObject),this.myFilterButtonsPanels=[],this.myFilterButtonsBackgrounds=[],this.myFilterButtonsTexts=[],this.myFilterButtonsCursorTargets=[];for(let t in PP.ConsoleVRWidget.MessageType)this.myFilterButtonsPanels[PP.ConsoleVRWidget.MessageType[t]]=WL.scene.addObject(this.myButtonsPanel),this.myFilterButtonsBackgrounds[PP.ConsoleVRWidget.MessageType[t]]=WL.scene.addObject(this.myFilterButtonsPanels[PP.ConsoleVRWidget.MessageType[t]]),this.myFilterButtonsTexts[PP.ConsoleVRWidget.MessageType[t]]=WL.scene.addObject(this.myFilterButtonsPanels[PP.ConsoleVRWidget.MessageType[t]]),this.myFilterButtonsCursorTargets[PP.ConsoleVRWidget.MessageType[t]]=WL.scene.addObject(this.myFilterButtonsPanels[PP.ConsoleVRWidget.MessageType[t]]);this.myClearButtonPanel=WL.scene.addObject(this.myButtonsPanel),this.myClearButtonBackground=WL.scene.addObject(this.myClearButtonPanel),this.myClearButtonText=WL.scene.addObject(this.myClearButtonPanel),this.myClearButtonCursorTarget=WL.scene.addObject(this.myClearButtonPanel),this.myUpButtonPanel=WL.scene.addObject(this.myButtonsPanel),this.myUpButtonBackground=WL.scene.addObject(this.myUpButtonPanel),this.myUpButtonText=WL.scene.addObject(this.myUpButtonPanel),this.myUpButtonCursorTarget=WL.scene.addObject(this.myUpButtonPanel),this.myDownButtonPanel=WL.scene.addObject(this.myButtonsPanel),this.myDownButtonBackground=WL.scene.addObject(this.myDownButtonPanel),this.myDownButtonText=WL.scene.addObject(this.myDownButtonPanel),this.myDownButtonCursorTarget=WL.scene.addObject(this.myDownButtonPanel)}_createPointerSkeleton(){this.myPointerCursorTarget=WL.scene.addObject(this.myPivotObject)}_setTransforms(){this.myPivotObject.setDirty(),this._setMessagesTransforms(),this._setButtonsTransforms(),this._setPointerTransform()}_setMessagesTransforms(){this.myMessagesPanel.setTranslationLocal(this._mySetup.myMessagesPanelPosition),this.myMessagesBackground.scale(this._mySetup.myMessagesBackgroundScale),this.myMessagesTextsPanel.setTranslationLocal(this._mySetup.myMessagesTextsPanelPosition),this.myMessagesTextsPanel.scale(this._mySetup.myMessagesTextsPanelScale);for(let t in PP.ConsoleVRWidget.MessageType)this.myMessagesTexts[PP.ConsoleVRWidget.MessageType[t]].setTranslationLocal(this._mySetup.myMessagesTextPositions[PP.ConsoleVRWidget.MessageType[t]]);this.myNotifyIconPanel.setTranslationLocal(this._mySetup.myNotifyIconPanelPositions[this._myAdditionalSetup.myHandedness]),this.myNotifyIconBackground.scale(this._mySetup.myNotifyIconBackgroundScale),this.myNotifyIconCursorTarget.setTranslationLocal(this._mySetup.myNotifyIconCursorTargetPosition)}_setButtonsTransforms(){this.myButtonsPanel.setTranslationLocal(this._mySetup.myButtonsPanelPosition);for(let t in PP.ConsoleVRWidget.MessageType)this.myFilterButtonsPanels[PP.ConsoleVRWidget.MessageType[t]].setTranslationLocal(this._mySetup.myFilterButtonsPositions[PP.ConsoleVRWidget.MessageType[t]]),this.myFilterButtonsBackgrounds[PP.ConsoleVRWidget.MessageType[t]].scale(this._mySetup.myButtonBackgroundScale),this.myFilterButtonsTexts[PP.ConsoleVRWidget.MessageType[t]].setTranslationLocal(this._mySetup.myButtonTextPosition),this.myFilterButtonsTexts[PP.ConsoleVRWidget.MessageType[t]].scale(this._mySetup.myButtonTextScale),this.myFilterButtonsCursorTargets[PP.ConsoleVRWidget.MessageType[t]].setTranslationLocal(this._mySetup.myButtonCursorTargetPosition);this.myClearButtonPanel.setTranslationLocal(this._mySetup.myClearButtonPosition),this.myClearButtonBackground.scale(this._mySetup.myButtonBackgroundScale),this.myClearButtonText.setTranslationLocal(this._mySetup.myButtonTextPosition),this.myClearButtonText.scale(this._mySetup.myButtonTextScale),this.myClearButtonCursorTarget.setTranslationLocal(this._mySetup.myButtonCursorTargetPosition),this.myUpButtonPanel.setTranslationLocal(this._mySetup.myUpButtonPosition),this.myUpButtonBackground.scale(this._mySetup.myButtonBackgroundScale),this.myUpButtonText.setTranslationLocal(this._mySetup.myButtonTextPosition),this.myUpButtonText.scale(this._mySetup.myButtonTextScale),this.myUpButtonCursorTarget.setTranslationLocal(this._mySetup.myButtonCursorTargetPosition),this.myDownButtonPanel.setTranslationLocal(this._mySetup.myDownButtonPosition),this.myDownButtonBackground.scale(this._mySetup.myButtonBackgroundScale),this.myDownButtonText.setTranslationLocal(this._mySetup.myButtonTextPosition),this.myDownButtonText.scale(this._mySetup.myButtonTextScale),this.myDownButtonCursorTarget.setTranslationLocal(this._mySetup.myButtonCursorTargetPosition)}_setPointerTransform(){this.myPointerCursorTarget.setTranslationLocal(this._mySetup.myPointerCursorTargetPosition)}_addComponents(){this._addMessagesComponents(),this._addButtonsComponents(),this._addPointerComponents()}_addMessagesComponents(){let t=this.myMessagesBackground.addComponent(\"mesh\");t.mesh=this._myPlaneMesh,t.material=this._myAdditionalSetup.myPlaneMaterial.clone(),t.material.color=this._mySetup.myBackgroundColor,this.myMessagesTextComponents=[];for(let i in PP.ConsoleVRWidget.MessageType){let s=this.myMessagesTexts[PP.ConsoleVRWidget.MessageType[i]].addComponent(\"text\");s.alignment=this._mySetup.myMessagesTextAlignment,s.justification=this._mySetup.myMessagesTextJustification,s.material=this._myAdditionalSetup.myTextMaterial.clone(),s.material.color=this._mySetup.myMessagesTextColors[PP.ConsoleVRWidget.MessageType[i]],s.lineSpacing=1.2,s.text=this._mySetup.myMessagesTextStartString,this.myMessagesTextComponents[PP.ConsoleVRWidget.MessageType[i]]=s}this.myNotifyIconBackgroundComponent=this.myNotifyIconBackground.addComponent(\"mesh\"),this.myNotifyIconBackgroundComponent.mesh=this._myPlaneMesh,this.myNotifyIconBackgroundComponent.material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myNotifyIconBackgroundComponent.material.color=this._mySetup.myNotifyIconColor,this.myNotifyIconCursorTargetComponent=this.myNotifyIconCursorTarget.addComponent(\"cursor-target\"),this.myNotifyIconCollisionComponent=this.myNotifyIconCursorTarget.addComponent(\"collision\"),this.myNotifyIconCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myNotifyIconCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myNotifyIconCollisionComponent.extents=this._mySetup.myNotifyIconCollisionExtents}_addButtonsComponents(){this.myFilterButtonsBackgroundComponents=[],this.myFilterButtonsTextComponents=[],this.myFilterButtonsCursorTargetComponents=[],this.myFilterButtonsCollisionComponents=[];for(let t in PP.ConsoleVRWidget.MessageType){let i=this.myFilterButtonsBackgrounds[PP.ConsoleVRWidget.MessageType[t]].addComponent(\"mesh\");i.mesh=this._myPlaneMesh,i.material=this._myAdditionalSetup.myPlaneMaterial.clone(),i.material.color=this._mySetup.myBackgroundColor;let s=this.myFilterButtonsTexts[PP.ConsoleVRWidget.MessageType[t]].addComponent(\"text\");this._setupButtonTextComponent(s),s.material.color=this._mySetup.myFilterButtonsTextColors[PP.ConsoleVRWidget.MessageType[t]],s.text=this._mySetup.myFilterButtonsTextLabel[PP.ConsoleVRWidget.MessageType[t]];let n=this.myFilterButtonsCursorTargets[PP.ConsoleVRWidget.MessageType[t]].addComponent(\"cursor-target\"),o=this.myFilterButtonsCursorTargets[PP.ConsoleVRWidget.MessageType[t]].addComponent(\"collision\");o.collider=this._mySetup.myButtonsCollisionCollider,o.group=1<<this._mySetup.myButtonsCollisionGroup,o.extents=this._mySetup.myButtonsCollisionExtents,this.myFilterButtonsBackgroundComponents[PP.ConsoleVRWidget.MessageType[t]]=i,this.myFilterButtonsTextComponents[PP.ConsoleVRWidget.MessageType[t]]=s,this.myFilterButtonsCursorTargetComponents[PP.ConsoleVRWidget.MessageType[t]]=n,this.myFilterButtonsCollisionComponents[PP.ConsoleVRWidget.MessageType[t]]=o}{let t=this.myClearButtonBackground.addComponent(\"mesh\");t.mesh=this._myPlaneMesh,t.material=this._myAdditionalSetup.myPlaneMaterial.clone(),t.material.color=this._mySetup.myBackgroundColor;let i=this.myClearButtonText.addComponent(\"text\");this._setupButtonTextComponent(i),i.text=this._mySetup.myClearButtonTextLabel;let s=this.myClearButtonCursorTarget.addComponent(\"cursor-target\"),n=this.myClearButtonCursorTarget.addComponent(\"collision\");n.collider=this._mySetup.myButtonsCollisionCollider,n.group=1<<this._mySetup.myButtonsCollisionGroup,n.extents=this._mySetup.myButtonsCollisionExtents,this.myClearButtonBackgroundComponent=t,this.myClearButtonTextComponent=i,this.myClearButtonCursorTargetComponent=s,this.myClearButtonCollisionComponent=n}{let t=this.myUpButtonBackground.addComponent(\"mesh\");t.mesh=this._myPlaneMesh,t.material=this._myAdditionalSetup.myPlaneMaterial.clone(),t.material.color=this._mySetup.myBackgroundColor;let i=this.myUpButtonText.addComponent(\"text\");this._setupButtonTextComponent(i),i.text=this._mySetup.myUpButtonTextLabel;let s=this.myUpButtonCursorTarget.addComponent(\"cursor-target\"),n=this.myUpButtonCursorTarget.addComponent(\"collision\");n.collider=this._mySetup.myButtonsCollisionCollider,n.group=1<<this._mySetup.myButtonsCollisionGroup,n.extents=this._mySetup.myButtonsCollisionExtents,this.myUpButtonBackgroundComponent=t,this.myUpButtonTextComponent=i,this.myUpButtonCursorTargetComponent=s,this.myUpButtonCollisionComponent=n}{let t=this.myDownButtonBackground.addComponent(\"mesh\");t.mesh=this._myPlaneMesh,t.material=this._myAdditionalSetup.myPlaneMaterial.clone(),t.material.color=this._mySetup.myBackgroundColor;let i=this.myDownButtonText.addComponent(\"text\");this._setupButtonTextComponent(i),i.text=this._mySetup.myDownButtonTextLabel;let s=this.myDownButtonCursorTarget.addComponent(\"cursor-target\"),n=this.myDownButtonCursorTarget.addComponent(\"collision\");n.collider=this._mySetup.myButtonsCollisionCollider,n.group=1<<this._mySetup.myButtonsCollisionGroup,n.extents=this._mySetup.myButtonsCollisionExtents,this.myDownButtonBackgroundComponent=t,this.myDownButtonTextComponent=i,this.myDownButtonCursorTargetComponent=s,this.myDownButtonCollisionComponent=n}}_addPointerComponents(){this.myPointerCursorTargetComponent=this.myPointerCursorTarget.addComponent(\"cursor-target\"),this.myPointerCursorTargetComponent.isSurface=!0;let t=this.myPointerCursorTarget.addComponent(\"collision\");t.collider=this._mySetup.myPointerCollisionCollider,t.group=1<<this._mySetup.myPointerCollisionGroup,t.extents=this._mySetup.myPointerCollisionExtents,this.myPointerCollisionComponent=t}_setupButtonTextComponent(t){t.alignment=this._mySetup.myTextAlignment,t.justification=this._mySetup.myTextJustification,t.material=this._myAdditionalSetup.myTextMaterial.clone(),t.material.color=this._mySetup.myTextColor,t.text=\"\"}}});var cs=C(()=>{PP.ConsoleVRWidget=class{constructor(){this._myWidgetFrame=new PP.WidgetFrame(\"C\",0),this._myWidgetFrame.registerWidgetVisibleChangedEventListener(this,this._widgetVisibleChanged.bind(this)),this._mySetup=new PP.ConsoleVRWidgetSetup,this._myAdditionalSetup=null,this._myUI=new PP.ConsoleVRWidgetUI,this._myMessages=[],this._myOldBrowserConsole=[],this._myOldConsoleVR=[],this._myTypeFilters=[];for(let t in PP.ConsoleVRWidget.MessageType)this._myTypeFilters[PP.ConsoleVRWidget.MessageType[t]]=!1;this._myScrollUp=!1,this._myScrollDown=!1,this._myScrollOffset=0,this._myScrollTimer=0,this._myScrollThumbstickTimer=0,this._myPulseTimer=0,this._myGamepadScrollActive=!0,this._mySetup.myGamepadScrollOnlyOnHover&&(this._myGamepadScrollActive=!1)}start(t,i){this._myLeftGamepad=PP.myLeftGamepad,this._myRightGamepad=PP.myRightGamepad,this._myAdditionalSetup=i,this._myWidgetFrame.start(t,i),this._myUI.build(this._myWidgetFrame.getWidgetObject(),this._mySetup,i),this._myUI.setVisible(this._myWidgetFrame.myIsWidgetVisible),this._setNotifyIconActive(!1),this._addListeners(),this._overrideConsolesFunctions()}_overrideConsolesFunctions(){this._myOldBrowserConsole[PP.ConsoleVRWidget.ConsoleFunction.LOG]=console.log,this._myOldBrowserConsole[PP.ConsoleVRWidget.ConsoleFunction.ERROR]=console.error,this._myOldBrowserConsole[PP.ConsoleVRWidget.ConsoleFunction.WARN]=console.warn,this._myOldBrowserConsole[PP.ConsoleVRWidget.ConsoleFunction.INFO]=console.info,this._myOldBrowserConsole[PP.ConsoleVRWidget.ConsoleFunction.DEBUG]=console.debug,this._myOldBrowserConsole[PP.ConsoleVRWidget.ConsoleFunction.ASSERT]=console.assert,this._myOldBrowserConsoleClear=console.clear,this._myAdditionalSetup.myOverrideBrowserConsole&&(console.log=this._consolePrint.bind(this,PP.ConsoleVRWidget.ConsoleFunction.LOG,PP.ConsoleVRWidget.Sender.BROWSER_CONSOLE),console.error=this._consolePrint.bind(this,PP.ConsoleVRWidget.ConsoleFunction.ERROR,PP.ConsoleVRWidget.Sender.BROWSER_CONSOLE),console.warn=this._consolePrint.bind(this,PP.ConsoleVRWidget.ConsoleFunction.WARN,PP.ConsoleVRWidget.Sender.BROWSER_CONSOLE),console.info=this._consolePrint.bind(this,PP.ConsoleVRWidget.ConsoleFunction.INFO,PP.ConsoleVRWidget.Sender.BROWSER_CONSOLE),console.debug=this._consolePrint.bind(this,PP.ConsoleVRWidget.ConsoleFunction.DEBUG,PP.ConsoleVRWidget.Sender.BROWSER_CONSOLE),console.assert=this._consolePrint.bind(this,PP.ConsoleVRWidget.ConsoleFunction.ASSERT,PP.ConsoleVRWidget.Sender.BROWSER_CONSOLE),console.clear=this._clearConsole.bind(this,!0,PP.ConsoleVRWidget.Sender.BROWSER_CONSOLE),window.addEventListener(\"error\",function(t){this._consolePrint(PP.ConsoleVRWidget.ConsoleFunction.ERROR,PP.ConsoleVRWidget.Sender.WINDOW,\"Uncaught\",t.error.stack)}.bind(this)),window.addEventListener(\"unhandledrejection\",function(t){this._consolePrint(PP.ConsoleVRWidget.ConsoleFunction.ERROR,PP.ConsoleVRWidget.Sender.WINDOW,\"Uncaught (in promise)\",t.reason)}.bind(this))),this._myOldConsoleVR[PP.ConsoleVRWidget.ConsoleFunction.LOG]=PP.ConsoleVR.log,this._myOldConsoleVR[PP.ConsoleVRWidget.ConsoleFunction.ERROR]=PP.ConsoleVR.error,this._myOldConsoleVR[PP.ConsoleVRWidget.ConsoleFunction.WARN]=PP.ConsoleVR.warn,this._myOldConsoleVR[PP.ConsoleVRWidget.ConsoleFunction.INFO]=PP.ConsoleVR.info,this._myOldConsoleVR[PP.ConsoleVRWidget.ConsoleFunction.DEBUG]=PP.ConsoleVR.debug,this._myOldConsoleVR[PP.ConsoleVRWidget.ConsoleFunction.ASSERT]=PP.ConsoleVR.assert,this._myOldConsoleVRClear=PP.ConsoleVR.clear,PP.ConsoleVR.log=this._consolePrint.bind(this,PP.ConsoleVRWidget.ConsoleFunction.LOG,PP.ConsoleVRWidget.Sender.CONSOLE_VR),PP.ConsoleVR.error=this._consolePrint.bind(this,PP.ConsoleVRWidget.ConsoleFunction.ERROR,PP.ConsoleVRWidget.Sender.CONSOLE_VR),PP.ConsoleVR.warn=this._consolePrint.bind(this,PP.ConsoleVRWidget.ConsoleFunction.WARN,PP.ConsoleVRWidget.Sender.CONSOLE_VR),PP.ConsoleVR.info=this._consolePrint.bind(this,PP.ConsoleVRWidget.ConsoleFunction.INFO,PP.ConsoleVRWidget.Sender.CONSOLE_VR),PP.ConsoleVR.debug=this._consolePrint.bind(this,PP.ConsoleVRWidget.ConsoleFunction.DEBUG,PP.ConsoleVRWidget.Sender.CONSOLE_VR),PP.ConsoleVR.assert=this._consolePrint.bind(this,PP.ConsoleVRWidget.ConsoleFunction.ASSERT,PP.ConsoleVRWidget.Sender.CONSOLE_VR),PP.ConsoleVR.clear=this._clearConsole.bind(this,!0,PP.ConsoleVRWidget.Sender.CONSOLE_VR)}update(t){this._myWidgetFrame.update(t),this._myWidgetFrame.myIsWidgetVisible&&this._updateScroll(t),this._updateGamepadsExtraActions(t)}_updateText(t){let i=\"\";if(!this._myTypeFilters[t]){let s=0,n=this._myMessages.length-1,o=Math.round(this._myScrollOffset);for(;n>=0&&s<this._mySetup.myMaxLines;){let r=this._myMessages[n];if(this._myTypeFilters[r.myType]){n-=1;continue}let l=r.myLines.length,u=0;if(o>0){let a=0;n!=this._myMessages.length-1&&(a=this._mySetup.myLinesBetweenMessages),o>=l+a?(o-=l+a,u=l+a):(u=o,o=0)}if(n!=this._myMessages.length-1){let a=this._mySetup.myLinesBetweenMessages-Math.max(this._mySetup.myLinesBetweenMessages-u,0),m=this._mySetup.myLinesBetweenMessages-a;s+m>this._mySetup.myMaxLines&&(m=this._myMaxLines-s);for(let y=0;y<m;y++)i=`\n`.concat(i);s+=m,u-=a}let c=l-u;if(s+c>this._mySetup.myMaxLines&&(c=this._mySetup.myMaxLines-s),c>0)if(r.myType==t)i=r.myLines.slice(l-c-u,l-u).join(`\n`).concat(`\n`).concat(i),s+=c;else{for(let a=0;a<c;a++)i=`\n`.concat(i);s+=c}n-=1}}i=this._mySetup.myMessagesTextStartString.concat(i),this._myUI.myMessagesTextComponents[t].text=i}_consolePrint(t,i,...s){if(t!=PP.ConsoleVRWidget.ConsoleFunction.ASSERT||s.length>0&&!s[0]){let n=this._argsToMessage(t,...s);this._addMessage(n),this._myMessages.length>=this._mySetup.myMaxMessages+this._mySetup.myMaxMessagesDeletePad&&(this._myMessages=this._myMessages.slice(this._myMessages.length-this._mySetup.myMaxMessages),this._clampScrollOffset()),this._updateAllTexts(),this._pulseGamepad()}switch(i){case PP.ConsoleVRWidget.Sender.BROWSER_CONSOLE:this._myOldBrowserConsole[t].apply(console,s);break;case PP.ConsoleVRWidget.Sender.CONSOLE_VR:this._myOldConsoleVR[t].apply(PP.ConsoleVR,s);break;default:break}}_argsToMessage(t,...i){t==PP.ConsoleVRWidget.ConsoleFunction.ASSERT&&(i=i.slice(1),i.splice(0,0,this._mySetup.myAssertStartString));let s=this._consoleFunctionToMessageType(t),n=this._formatArgs(...i),o=this._splitLongLines(n);return s==PP.ConsoleVRWidget.MessageType.DEBUG?s=PP.ConsoleVRWidget.MessageType.LOG:(s==PP.ConsoleVRWidget.MessageType.EXCEPTION||s==PP.ConsoleVRWidget.MessageType.ASSERT)&&(s=PP.ConsoleVRWidget.MessageType.ERROR),new PP.ConsoleVRWidget.Message(s,o)}_consoleFunctionToMessageType(t){let i=PP.ConsoleVRWidget.MessageType.LOG;return t<PP.ConsoleVRWidget.ConsoleFunction.DEBUG?i=t:t==PP.ConsoleVRWidget.ConsoleFunction.DEBUG?i=PP.ConsoleVRWidget.MessageType.LOG:i=PP.ConsoleVRWidget.MessageType.ERROR,i}_formatArgs(...t){let i=[];for(let n=0;n<t.length;n++)t[n]===void 0?i.push(\"undefined\"):i.push(this._stringifyItem(t[n]));return i.join(\" \")}_stringifyItem(t){if(typeof t==\"object\"){let i=null,s=2;try{i=JSON.stringify(t,this._jsonReplacer.bind(this),s)}catch{let o=new WeakSet;i=JSON.stringify(t,function(r,l){if(typeof l==\"object\"&&l!==null){if(o.has(l))return\"<stringify error: object already stringified>\";o.add(l)}return this._jsonReplacer(r,l)}.bind(this),s)}return i=i.replaceAll('\"[',\"[\"),i=i.replaceAll(\"'[\",\"[\"),i=i.replaceAll(']\"',\"]\"),i=i.replaceAll(\"]'\",\"]\"),i}return t}_splitLongLines(t){let i=t.split(`\n`),s=[];for(let n=0;n<i.length;n++){let o=i[n];if(o.length>this._mySetup.myMaxCharactersPerLine){let r=this._getSpacesAtStart(o),l=this._mySetup.myTabString.concat(r),u=0;for(;o.length>this._mySetup.myMaxCharactersPerLine&&u<this._mySetup.myMaxLineSplits;){let c=o.substr(0,this._mySetup.myMaxCharactersPerLine-1),a=o.substr(this._mySetup.myMaxCharactersPerLine-1);a=l.concat(a),s.push(c),o=a,u++}s.push(o)}else s.push(o)}return s}_getSpacesAtStart(t){let i=\"\",s=0;for(;s<t.length&&t[s]==\" \";)i=i.concat(\" \"),s++;return i}_addMessage(t){let i=!1;if(this._myMessages.length>0){let s=this._myMessages[this._myMessages.length-1];s.hasSameInfo(t)&&(s.increaseCount(),i=!0)}i||this._myMessages.push(t),this._adjustScrollOffsetAfterMessageAdded(t,i),this._updateNotifyIcon(t)}_adjustScrollOffsetAfterMessageAdded(t,i){!i&&!this._myTypeFilters[t.myType]&&this._myScrollOffset>0&&(this._myScrollOffset+=t.myLines.length+this._mySetup.myLinesBetweenMessages)}_updateAllTexts(){if(this._myWidgetFrame.myIsWidgetVisible)for(let t in PP.ConsoleVRWidget.MessageType)this._updateText(PP.ConsoleVRWidget.MessageType[t])}_updateNotifyIcon(t){!this._myTypeFilters[t.myType]&&this._myScrollOffset>0&&this._setNotifyIconActive(!0)}_updateScroll(t){if(this._myScrollUp)for(this._myScrollTimer+=t;this._myScrollTimer>this._mySetup.myScrollDelay;)this._myScrollTimer-=this._mySetup.myScrollDelay,this._myScrollOffset+=this._mySetup.myScrollAmount;else if(this._myScrollDown)for(this._myScrollTimer+=t;this._myScrollTimer>this._mySetup.myScrollDelay;)this._myScrollTimer-=this._mySetup.myScrollDelay,this._myScrollOffset-=this._mySetup.myScrollAmount;this._clampScrollOffset(),(this._myScrollUp||this._myScrollDown)&&this._updateAllTexts(),this._myScrollOffset==0&&this._setNotifyIconActive(!1)}_clampScrollOffset(){let t=this._getMaxScrollOffset();this._myScrollOffset=Math.min(Math.max(this._myScrollOffset,0),t)}_getMaxScrollOffset(){return Math.max(this._getLinesCount()-this._mySetup.myMaxLines,0)}_getLinesCount(){let t=0;for(let i of this._myMessages)this._myTypeFilters[i.myType]||(t+=i.myLines.length+this._mySetup.myLinesBetweenMessages);return t-=this._mySetup.myLinesBetweenMessages,t=Math.max(t,0),t}_addListeners(){let t=this._myUI;for(let i in PP.ConsoleVRWidget.MessageType){let s=t.myFilterButtonsCursorTargetComponents[PP.ConsoleVRWidget.MessageType[i]],n=t.myFilterButtonsBackgroundComponents[PP.ConsoleVRWidget.MessageType[i]].material,o=t.myFilterButtonsTextComponents[PP.ConsoleVRWidget.MessageType[i]].material;s.addTripleClickFunction(this._resetFilters.bind(this,PP.ConsoleVRWidget.MessageType[i])),s.addDoubleClickFunction(this._filterAllButOne.bind(this,PP.ConsoleVRWidget.MessageType[i],o)),s.addClickFunction(this._toggleFilter.bind(this,PP.ConsoleVRWidget.MessageType[i],o)),s.addHoverFunction(this._filterHover.bind(this,PP.ConsoleVRWidget.MessageType[i],n)),s.addUnHoverFunction(this._filterUnHover.bind(this,PP.ConsoleVRWidget.MessageType[i],n))}{let i=t.myClearButtonCursorTargetComponent,s=t.myClearButtonBackgroundComponent.material;i.addClickFunction(this._clearConsole.bind(this,!1,null)),i.addHoverFunction(this._genericHover.bind(this,s)),i.addUnHoverFunction(this._genericUnHover.bind(this,s))}{let i=t.myUpButtonCursorTargetComponent,s=t.myUpButtonBackgroundComponent.material;i.addDoubleClickFunction(this._instantScrollUp.bind(this,!0)),i.addDownFunction(this._setScrollUp.bind(this,!0)),i.addUpFunction(this._setScrollUp.bind(this,!1)),i.addUnHoverFunction(this._setScrollUp.bind(this,!1)),i.addHoverFunction(this._genericHover.bind(this,s)),i.addUnHoverFunction(this._genericUnHover.bind(this,s))}{let i=t.myDownButtonCursorTargetComponent,s=t.myDownButtonBackgroundComponent.material;i.addDoubleClickFunction(this._instantScrollDown.bind(this)),i.addDownFunction(this._setScrollDown.bind(this,!0)),i.addUpFunction(this._setScrollDown.bind(this,!1)),i.addUnHoverFunction(this._setScrollDown.bind(this,!1)),i.addHoverFunction(this._genericHover.bind(this,s)),i.addUnHoverFunction(this._genericUnHover.bind(this,s))}{let i=t.myNotifyIconCursorTargetComponent,s=t.myNotifyIconBackgroundComponent.material;i.addClickFunction(this._instantScrollDown.bind(this)),i.addHoverFunction(this._genericHover.bind(this,s)),i.addUnHoverFunction(this._notifyIconUnHover.bind(this))}t.myPointerCursorTargetComponent.addHoverFunction(this._setGamepadScrollActive.bind(this,!0)),t.myPointerCursorTargetComponent.addUnHoverFunction(this._setGamepadScrollActive.bind(this,!1))}_resetFilters(t){if(this._myWidgetFrame.myIsWidgetVisible){for(let i in PP.ConsoleVRWidget.MessageType){let s=this._myUI.myFilterButtonsBackgroundComponents[PP.ConsoleVRWidget.MessageType[i]].material,n=this._myUI.myFilterButtonsTextComponents[PP.ConsoleVRWidget.MessageType[i]].material;this._myTypeFilters[PP.ConsoleVRWidget.MessageType[i]]=!1,n.color=this._mySetup.myMessageTypeColors[PP.ConsoleVRWidget.MessageType[i]],PP.ConsoleVRWidget.MessageType[i]!=t&&(s.color=this._mySetup.myBackgroundColor)}this._clampScrollOffset(),this._updateAllTexts()}}_filterAllButOne(t){if(this._myWidgetFrame.myIsWidgetVisible){for(let i in PP.ConsoleVRWidget.MessageType){let s=this._myUI.myFilterButtonsBackgroundComponents[PP.ConsoleVRWidget.MessageType[i]].material,n=this._myUI.myFilterButtonsTextComponents[PP.ConsoleVRWidget.MessageType[i]].material;PP.ConsoleVRWidget.MessageType[i]!=t?(this._myTypeFilters[PP.ConsoleVRWidget.MessageType[i]]=!0,s.color=this._mySetup.myFilterButtonDisabledBackgroundColor,n.color=this._mySetup.myFilterButtonDisabledTextColor):(this._myTypeFilters[PP.ConsoleVRWidget.MessageType[i]]=!1,n.color=this._mySetup.myMessageTypeColors[t])}this._clampScrollOffset(),this._updateAllTexts()}}_toggleFilter(t,i){this._myWidgetFrame.myIsWidgetVisible&&(this._myTypeFilters[t]=!this._myTypeFilters[t],this._myTypeFilters[t]?i.color=this._mySetup.myFilterButtonDisabledTextColor:i.color=this._mySetup.myMessageTypeColors[t],this._clampScrollOffset(),this._updateAllTexts())}_clearConsole(t=!1,i=null){if(this._myWidgetFrame.myIsWidgetVisible||t)if(this._myMessages=[],this._clampScrollOffset(),this._updateAllTexts(),t)switch(i){case PP.ConsoleVRWidget.Sender.BROWSER_CONSOLE:this._myOldBrowserConsoleClear.apply(console);break;case PP.ConsoleVRWidget.Sender.CONSOLE_VR:this._myOldConsoleVRClear.apply(PP.ConsoleVR);break;default:break}else this._mySetup.myClearBrowserConsoleWhenClearPressed&&PP.ConsoleVR._myRealClear()}_setScrollUp(t){(this._myWidgetFrame.myIsWidgetVisible||!t)&&(t&&(this._myScrollTimer=0),this._myScrollUp=t)}_setScrollDown(t){(this._myWidgetFrame.myIsWidgetVisible||!t)&&(t&&(this._myScrollTimer=0),this._myScrollDown=t)}_instantScrollUp(){this._myWidgetFrame.myIsWidgetVisible&&(this._myScrollOffset=this._getMaxScrollOffset(),this._updateAllTexts())}_instantScrollDown(){this._myWidgetFrame.myIsWidgetVisible&&(this._myScrollOffset=0,this._setNotifyIconActive(!1),this._updateAllTexts())}_setNotifyIconActive(t){this._myUI.myNotifyIconPanel.pp_setActiveHierarchy(t&&this._myWidgetFrame.myIsWidgetVisible)}_notifyIconUnHover(){let t=this._myUI.myNotifyIconBackgroundComponent.material;t.color=this._mySetup.myNotifyIconColor}_filterHover(t,i){this._genericHover(i)}_filterUnHover(t,i){this._myTypeFilters[t]?i.color=this._mySetup.myFilterButtonDisabledBackgroundColor:i.color=this._mySetup.myBackgroundColor}_genericHover(t){t.color=this._mySetup.myButtonHoverColor}_genericUnHover(t){t.color=this._mySetup.myBackgroundColor}_updateGamepadsExtraActions(t){this._myLeftGamepad&&this._myRightGamepad&&((this._myLeftGamepad.getButtonInfo(PP.ButtonType.THUMBSTICK).isPressStart()&&this._myRightGamepad.getButtonInfo(PP.ButtonType.THUMBSTICK).myIsPressed||this._myRightGamepad.getButtonInfo(PP.ButtonType.THUMBSTICK).isPressStart()&&this._myLeftGamepad.getButtonInfo(PP.ButtonType.THUMBSTICK).myIsPressed)&&this._toggleVisibility(),this._myPulseTimer=Math.max(this._myPulseTimer-t,0),this._updateScrollWithThumbstick(t))}_toggleVisibility(){this._myWidgetFrame.toggleVisibility()}_widgetVisibleChanged(t){this._myUI.setVisible(t),t&&this._updateAllTexts()}_updateScrollWithThumbstick(t){if(this._myWidgetFrame.myIsWidgetVisible&&this._myGamepadScrollActive){let i=[0,0];if(this._mySetup.myScrollThumbstickHandedness==PP.ToolHandedness.LEFT?i=this._myLeftGamepad.getAxesInfo().myAxes:this._mySetup.myScrollThumbstickHandedness==PP.ToolHandedness.RIGHT&&(i=this._myRightGamepad.getAxesInfo().myAxes),Math.abs(i[1])>this._mySetup.myScrollThumbstickMinThreshold){for(this._myScrollThumbstickTimer+=t;this._myScrollThumbstickTimer>this._mySetup.myScrollThumbstickDelay;){this._myScrollThumbstickTimer-=this._mySetup.myScrollThumbstickDelay;let s=(Math.abs(i[1])-this._mySetup.myScrollThumbstickMinThreshold)/(1-this._mySetup.myScrollThumbstickMinThreshold);this._myScrollOffset+=Math.sign(i[1])*s*this._mySetup.myScrollThumbstickAmount}this._clampScrollOffset(),this._updateAllTexts()}else this._myScrollThumbstickTimer=0}}_pulseGamepad(){if(this._myLeftGamepad&&this._myRightGamepad){let t=this._myAdditionalSetup.myPulseOnNewMessage;(t==PP.ConsoleVRWidget.PulseOnNewMessage.ALWAYS||!this._myWidgetFrame.myIsWidgetVisible&&t==PP.ConsoleVRWidget.PulseOnNewMessage.WHEN_HIDDEN)&&this._myPulseTimer==0&&(this._myAdditionalSetup.myHandedness==PP.ToolHandedness.RIGHT?this._myRightGamepad.pulse(this._mySetup.myPulseIntensity,this._mySetup.myPulseDuration):this._myLeftGamepad.pulse(this._mySetup.myPulseIntensity,this._mySetup.myPulseDuration),this._myPulseTimer=this._mySetup.myPulseDelay)}}_isSimpleArray(t){if(this._isSpecialSimpleArray(t))return!0;if(Array.isArray(t)){let i=!0;for(let s of t)if(s instanceof Object){i=!1;break}return i}return!1}_isSpecialSimpleArray(t){return t&&t.constructor&&(t.constructor.name==\"Uint32Array\"||t.constructor.name==\"Int32Array\"||t.constructor.name==\"Float32Array\"||t.constructor.name==\"Float64Array\")}_setGamepadScrollActive(t){this._myGamepadScrollActive=t,this._mySetup.myGamepadScrollOnlyOnHover||(this._myGamepadScrollActive=!0)}_jsonReplacer(t,i){if(i instanceof Map)return Array.from(i.entries());if(this._isSimpleArray(i)){let s=i;if(this._isSpecialSimpleArray(s)){let o=[];for(let r=0;r<s.length;r++)o[r]=s[r];s=o}let n=JSON.stringify(s);return n=n.split(\",\").join(\", \"),n}else return i}};PP.ConsoleVRWidget.ConsoleFunction={INFO:0,WARN:1,ERROR:2,LOG:3,DEBUG:4,ASSERT:5};PP.ConsoleVRWidget.Sender={BROWSER_CONSOLE:0,CONSOLE_VR:1,WINDOW:2};PP.ConsoleVRWidget.PulseOnNewMessage={NEVER:0,ALWAYS:1,WHEN_HIDDEN:2};PP.ConsoleVRWidget.MessageType={INFO:0,WARN:1,ERROR:2,LOG:3};PP.ConsoleVRWidget.Message=class{constructor(t,i){this.myType=t,this.myLines=i,this._myOriginalText=i.join(`\n`),this._myMessagesCount=1}hasSameInfo(t){return this._myOriginalText==t._myOriginalText&&this.myType==t.myType}increaseCount(){this._myMessagesCount+=1;let t=\"(x\".concat(this._myMessagesCount).concat(\") \"),i=this._myOriginalText.slice(0);i=t.concat(i),this.myLines=i.split(`\n`)}};PP.ConsoleVR={_myRealLog:console.log,_myRealError:console.error,_myRealWarn:console.warn,_myRealInfo:console.info,_myRealDebug:console.debug,_myRealAssert:console.assert,_myRealClear:console.clear,_myForwardToBrowserConsole:!0,log:function(...e){this._myForwardToBrowserConsole&&this._myRealLog.apply(console,e)},error:function(...e){this._myForwardToBrowserConsole&&this._myRealError.apply(console,e)},warn:function(...e){this._myForwardToBrowserConsole&&this._myRealWarn.apply(console,e)},info:function(...e){this._myForwardToBrowserConsole&&this._myRealInfo.apply(console,e)},debug:function(...e){this._myForwardToBrowserConsole&&this._myRealDebug.apply(console,e)},assert:function(...e){this._myForwardToBrowserConsole&&this._myRealAssert.apply(console,e)},clear:function(){this._myForwardToBrowserConsole&&this._myRealClear.apply(console)},setForwardToBrowserConsole:function(e){this._myForwardToBrowserConsole=e},isForwardToBrowserConsole:function(){return this._myForwardToBrowserConsole}}});var hs=C(()=>{WL.registerComponent(\"pp-console-vr\",{_myHandedness:{type:WL.Type.Enum,values:[\"none\",\"left\",\"right\"],default:\"none\"},_myOverrideBrowserConsole:{type:WL.Type.Bool,default:!0},_myShowOnStart:{type:WL.Type.Bool,default:!1},_myShowVisibilityButton:{type:WL.Type.Bool,default:!1},_myPulseOnNewMessage:{type:WL.Type.Enum,values:[\"never\",\"always\",\"when hidden\"],default:\"never\"}},{init:function(){this._myWidget=new PP.ConsoleVRWidget},start:function(){let e={};e.myHandedness=[null,\"left\",\"right\"][this._myHandedness],e.myOverrideBrowserConsole=this._myOverrideBrowserConsole,e.myShowOnStart=this._myShowOnStart,e.myShowVisibilityButton=this._myShowVisibilityButton,e.myPulseOnNewMessage=this._myPulseOnNewMessage,e.myPlaneMaterial=PP.myDefaultResources.myMaterials.myFlatOpaque,e.myTextMaterial=PP.myDefaultResources.myMaterials.myText,this._myWidget.start(this.object,e)},update:function(e){this._myWidget.update(e)}})});var ps=C(()=>{PP.EasyObjectTuner=class{constructor(t,i,s,n){this._myObject=t,this._myUseTuneTarget=n,this._mySetAsDefault=s,this._myEasyObject=this._myObject,this._myUseTuneTarget&&(this._myEasyObject=PP.myEasyTuneTarget),this._myPrevEasyObject=null;let o=this._getVariableNamePrefix();i==\"\"?this._myEasyTuneVariableName=o.concat(this._myObject.objectId):this._myEasyTuneVariableName=o.concat(i)}start(){let t=this._createEasyTuneVariable(this._myEasyTuneVariableName);PP.myEasyTuneVariables.add(t),this._mySetAsDefault&&PP.setEasyTuneWidgetActiveVariable(this._myEasyTuneVariableName)}update(t){if(PP.myEasyTuneVariables.isActive(this._myEasyTuneVariableName)){if(this._myUseTuneTarget&&(this._myEasyObject=PP.myEasyTuneTarget),this._myPrevEasyObject!=this._myEasyObject)if(this._myPrevEasyObject=this._myEasyObject,this._myEasyObject){let i=this._getObjectValue(this._myEasyObject);PP.myEasyTuneVariables.set(this._myEasyTuneVariableName,i,!0)}else{let i=this._getDefaultValue();PP.myEasyTuneVariables.set(this._myEasyTuneVariableName,i,!0)}this._myEasyObject&&this._updateObjectValue(this._myEasyObject,PP.myEasyTuneVariables.get(this._myEasyTuneVariableName))}}updateVariableValue(t){PP.myEasyTuneVariables.set(this._myEasyTuneVariableName,t)}}});var _s=C(()=>{WL.registerComponent(\"pp-easy-light-attenuation\",{_myVariableName:{type:WL.Type.String,default:\"\"},_mySetAsDefault:{type:WL.Type.Bool,default:!1},_myUseTuneTarget:{type:WL.Type.Bool,default:!1}},{init:function(){this._myEasyObjectTuner=new PP.EasyLightAttenuation(this.object,this._myVariableName,this._mySetAsDefault,this._myUseTuneTarget)},start:function(){this._myEasyObjectTuner.start()},update:function(e){this._myEasyObjectTuner.update(e)}});PP.EasyLightAttenuation=class extends PP.EasyObjectTuner{constructor(t,i,s,n){super(t,i,s,n)}_getVariableNamePrefix(){return\"Light Attenuation \"}_createEasyTuneVariable(t){return new PP.EasyTuneNumber(t,this._getDefaultValue(),.01,3,0,1)}_getObjectValue(t){return this._getLightAttenuation(t)}_getDefaultValue(){return 0}_updateObjectValue(t,i){let s=i,n=t.pp_getComponent(\"light\");n&&(n.color[3]=s)}_getLightAttenuation(t){let i=this._getDefaultValue(),s=t.pp_getComponent(\"light\");return s&&(i=s.color[3]),i}}});var ds=C(()=>{WL.registerComponent(\"pp-easy-light-color\",{_myVariableName:{type:WL.Type.String,default:\"\"},_mySetAsDefault:{type:WL.Type.Bool,default:!1},_myUseTuneTarget:{type:WL.Type.Bool,default:!1},_myColorModel:{type:WL.Type.Enum,values:[\"rgb\",\"hsv\"]}},{init:function(){this._myEasyObjectTuner=new PP.EasyLightColor(this._myColorModel,this.object,this._myVariableName,this._mySetAsDefault,this._myUseTuneTarget)},start:function(){this._myEasyObjectTuner.start()},update:function(e){this._myEasyObjectTuner.update(e)}});PP.EasyLightColor=class extends PP.EasyObjectTuner{constructor(t,i,s,n,o){super(i,s,n,o),this._myColorModel=t}_getVariableNamePrefix(){let t=null;return this._myColorModel==0?t=\"Light RGB \":t=\"Light HSV \",t}_createEasyTuneVariable(t){return new PP.EasyTuneIntArray(t,this._getDefaultValue(),100,0,255)}_getObjectValue(t){let i=null,s=this._getLightColor(t);return s?this._myColorModel==0?i=PP.ColorUtils.rgbCodeToHuman(s):i=PP.ColorUtils.hsvCodeToHuman(PP.ColorUtils.rgbToHsv(s)):i=this._getDefaultValue(),i}_getDefaultValue(){return PP.vec3_create()}_updateObjectValue(t,i){let s=i;this._myColorModel==0?s=PP.ColorUtils.rgbHumanToCode(s):s=PP.ColorUtils.hsvToRgb(PP.ColorUtils.hsvHumanToCode(s));let n=t.pp_getComponent(\"light\");if(n&&(n.color[0]=s[0],n.color[1]=s[1],n.color[2]=s[2],n.color[3]=n.color[3]),PP.myRightGamepad.getButtonInfo(PP.ButtonType.TOP_BUTTON).isPressStart()&&PP.myLeftGamepad.getButtonInfo(PP.ButtonType.TOP_BUTTON).myIsPressed||PP.myLeftGamepad.getButtonInfo(PP.ButtonType.TOP_BUTTON).isPressStart()&&PP.myRightGamepad.getButtonInfo(PP.ButtonType.TOP_BUTTON).myIsPressed){let o=PP.ColorUtils.color1To255(PP.ColorUtils.rgbToHsv(s)),r=PP.ColorUtils.color1To255(s);console.log(\"RGB:\",r.vec_toString(0),\"- HSV:\",o.vec_toString(0))}}_getLightColor(t){let i=null,s=t.pp_getComponent(\"light\");return s&&(i=s.color.slice(0,3)),i}}});var gs=C(()=>{WL.registerComponent(\"pp-easy-mesh-color\",{_myVariableName:{type:WL.Type.String,default:\"\"},_myUseTuneTarget:{type:WL.Type.Bool,default:!1},_mySetAsDefault:{type:WL.Type.Bool,default:!1},_myColorModel:{type:WL.Type.Enum,values:[\"rgb\",\"hsv\"],default:\"hsv\"},_myColorType:{type:WL.Type.Enum,values:[\"color\",\"diffuse color\",\"ambient color\",\"specular color\",\"emissive color\",\"fog color\",\"ambient factor\"],default:\"color\"}},{init:function(){this._myEasyObjectTuner=new PP.EasyMeshColor(this._myColorModel,this._myColorType,this.object,this._myVariableName,this._mySetAsDefault,this._myUseTuneTarget)},start:function(){this._myEasyObjectTuner.start()},update:function(e){this._myEasyObjectTuner.update(e)}});PP.EasyMeshColor=class extends PP.EasyObjectTuner{constructor(t,i,s,n,o,r){super(s,n,o,r),this._myColorModel=t,this._myColorType=i,this._myColorVariableNames=[\"color\",\"diffuseColor\",\"ambientColor\",\"specularColor\",\"emissiveColor\",\"fogColor\",\"ambientFactor\"]}_getVariableNamePrefix(){let t=null;return this._myColorModel==0?t=\"Mesh RGB \":t=\"Mesh HSV \",t}_createEasyTuneVariable(t){return this._myColorType==6?new PP.EasyTuneNumberArray(t,this._getDefaultValue(),.1,3,0,1):new PP.EasyTuneIntArray(t,this._getDefaultValue(),100,0,255)}_getObjectValue(t){let i=null,s=this._getMeshMaterial(t);return s?this._myColorType!=6?(i=s[this._myColorVariableNames[this._myColorType]].pp_clone(),this._myColorModel==0?i=PP.ColorUtils.rgbCodeToHuman(i):i=PP.ColorUtils.hsvCodeToHuman(PP.ColorUtils.rgbToHsv(i))):i=[s[this._myColorVariableNames[this._myColorType]]]:i=this._getDefaultValue(),i}_getDefaultValue(){return this._myColorType==6?[0]:PP.vec4_create()}_updateObjectValue(t,i){let s=i;this._myColorType!=6&&(this._myColorModel==0?s=PP.ColorUtils.rgbHumanToCode(s):s=PP.ColorUtils.hsvToRgb(PP.ColorUtils.hsvHumanToCode(s)));let n=this._getMeshMaterial(t);if(n&&(n[this._myColorVariableNames[this._myColorType]]=s),this._myColorType!=6&&(PP.myRightGamepad.getButtonInfo(PP.ButtonType.TOP_BUTTON).isPressStart()&&PP.myLeftGamepad.getButtonInfo(PP.ButtonType.TOP_BUTTON).myIsPressed||PP.myLeftGamepad.getButtonInfo(PP.ButtonType.TOP_BUTTON).isPressStart()&&PP.myRightGamepad.getButtonInfo(PP.ButtonType.TOP_BUTTON).myIsPressed)){let o=PP.ColorUtils.color1To255(PP.ColorUtils.rgbToHsv(s)),r=PP.ColorUtils.color1To255(s);console.log(\"RGB:\",r.vec_toString(0),\"- HSV:\",o.vec_toString(0))}}_getMeshMaterial(t){let i=null,s=t.pp_getComponentHierarchy(\"mesh\");return s&&(i=s.material),i}}});var Ps=C(()=>{WL.registerComponent(\"pp-easy-scale\",{_myVariableName:{type:WL.Type.String,default:\"\"},_mySetAsDefault:{type:WL.Type.Bool,default:!1},_myUseTuneTarget:{type:WL.Type.Bool,default:!1},_myIsLocal:{type:WL.Type.Bool,default:!1},_myScaleAsOne:{type:WL.Type.Bool,default:!0}},{init:function(){this._myEasyObjectTuner=new PP.EasyScale(this._myIsLocal,this._myScaleAsOne,this.object,this._myVariableName,this._mySetAsDefault,this._myUseTuneTarget)},start:function(){this._myEasyObjectTuner.start()},update:function(e){this._myEasyObjectTuner.update(e)}});PP.EasyScale=class extends PP.EasyObjectTuner{constructor(t,i,s,n,o,r){super(s,n,o,r),this._myIsLocal=t,this._myScaleAsOne=i}_getVariableNamePrefix(){return\"Scale \"}_createEasyTuneVariable(t){return new PP.EasyTuneNumberArray(t,this._getDefaultValue(),1,3,.001,null,this._myScaleAsOne)}_getObjectValue(t){return this._myIsLocal?t.pp_getScaleLocal():t.pp_getScaleWorld()}_getDefaultValue(){return PP.vec3_create(1,1,1)}_updateObjectValue(t,i){this._myIsLocal?t.pp_setScaleLocal(i):t.pp_setScaleWorld(i)}}});var fs=C(()=>{WL.registerComponent(\"pp-easy-set-tune-target-child-number\",{_myVariableName:{type:WL.Type.String,default:\"\"},_mySetAsDefault:{type:WL.Type.Bool,default:!1}},{init:function(){},start:function(){this._myEasyTuneVariableName=\"Target Child \",this._myVariableName==\"\"?this._myEasyTuneVariableName=this._myEasyTuneVariableName.concat(this.object.objectId):this._myEasyTuneVariableName=this._myEasyTuneVariableName.concat(this._myVariableName);let e=this.object.pp_getChildren().length,t=1,i=e;e==0&&(t=0,i=0),PP.myEasyTuneVariables.add(new PP.EasyTuneInt(this._myEasyTuneVariableName,0,10,t,i)),this._mySetAsDefault&&PP.setEasyTuneWidgetActiveVariable(this._myEasyTuneVariableName),this._myCurrentChildIndex=-1,this._myCurrentChildrenCount=e},update:function(){if(PP.myEasyTuneVariables.isActive(this._myEasyTuneVariableName)){let e=this.object.pp_getChildren().length;if(e!=this._myCurrentChildrenCount){this._myCurrentChildrenCount=e;let i=1,s=e;e==0&&(i=0,s=0);let n=PP.myEasyTuneVariables.getEasyTuneVariable(this._myEasyTuneVariableName);n.setMin(i),n.setMax(s)}let t=PP.myEasyTuneVariables.get(this._myEasyTuneVariableName);t!=this._myCurrentChildIndex&&(t==0&&this._myCurrentChildIndex!=-1?PP.myEasyTuneTarget=null:t>0&&(PP.myEasyTuneTarget=this.object.pp_getChildren()[t-1]),this._myCurrentChildIndex=t)}}})});var Ts=C(()=>{WL.registerComponent(\"pp-easy-set-tune-target-grab\",{},{init:function(){},start:function(){this._myGrabber=this.object.pp_getComponent(\"pp-grabber-hand\")},update:function(){},_onRelease:function(e,t){PP.myEasyTuneTarget=t.object},_onGrab:function(e,t){},onActivate(){this._myGrabber.registerGrabEventListener(this,this._onGrab.bind(this)),this._myGrabber.registerThrowEventListener(this,this._onRelease.bind(this))},onDeactivate(){this._myGrabber.unregisterGrabEventListener(this),this._myGrabber.unregisterThrowEventListener(this)}})});var Cs=C(()=>{WL.registerComponent(\"pp-easy-transform\",{_myVariableName:{type:WL.Type.String,default:\"\"},_mySetAsDefault:{type:WL.Type.Bool,default:!1},_myUseTuneTarget:{type:WL.Type.Bool,default:!1},_myIsLocal:{type:WL.Type.Bool,default:!1},_myScaleAsOne:{type:WL.Type.Bool,default:!0}},{init:function(){this._myEasyObjectTuner=new PP.EasyTransform(this._myIsLocal,this._myScaleAsOne,this.object,this._myVariableName,this._mySetAsDefault,this._myUseTuneTarget)},start:function(){this._myEasyObjectTuner.start()},update:function(e){this._myEasyObjectTuner.update(e)}});PP.EasyTransform=class extends PP.EasyObjectTuner{constructor(t,i,s,n,o,r){super(s,n,o,r),this._myIsLocal=t,this._myScaleAsOne=i}_getVariableNamePrefix(){return\"Transform \"}_createEasyTuneVariable(t){return new PP.EasyTuneTransform(t,this._getDefaultValue(),this._myScaleAsOne)}_getObjectValue(t){return this._myIsLocal?t.pp_getTransformLocal():t.pp_getTransformWorld()}_getDefaultValue(){return PP.mat4_create()}_updateObjectValue(t,i){this._myIsLocal?t.pp_setTransformLocal(i):t.pp_setTransformWorld(i)}}});var bs=C(()=>{PP.EasyTuneBoolArrayWidget=class{constructor(t,i){this._myGamepad=i,this._mySetup=new PP.EasyTuneBoolArrayWidgetSetup(t),this._myUI=new PP.EasyTuneBoolArrayWidgetUI,this._myVariable=null,this._myIsVisible=!0,this._myScrollVariableRequestCallbacks=new Map,this._myAppendToVariableName=\"\",this._myValueEditIndex=0,this._myValueButtonEditIntensity=0,this._myValueButtonEditIntensityTimer=0,this._myValueEditActive=!1,this._myScrollVariableActive=!1,this._myScrollDirection=0,this._myScrollVariableTimer=0,this._myHasScrolled=!1}setEasyTuneVariable(t,i){this._myVariable=t,typeof i<\"u\"?this._myAppendToVariableName=i:this._myAppendToVariableName=\"\",this._refreshUI()}isScrollVariableActive(){return this._myScrollVariableActive}getScrollVariableDirection(){return this._myScrollDirection}setScrollVariableActive(t,i){this._myScrollVariableActive=t,this._myScrollDirection=i,this._myScrollVariableTimer=this._mySetup.myScrollVariableDelay,this._myHasScrolled=!1}_refreshUI(){if(this._myVariable){this._myUI.myVariableLabelTextComponent.text=this._myVariable.myName.concat(this._myAppendToVariableName);for(let t=0;t<this._mySetup.myArraySize;t++)this._myUI.myValueTextComponents[t].text=this._myVariable.myValue[t]?\"true\":\"false\"}}setVisible(t){t&&this._refreshUI(),this._myUI.setVisible(t),this._myIsVisible=t}registerScrollVariableRequestEventListener(t,i){this._myScrollVariableRequestCallbacks.set(t,i)}unregisterScrollVariableRequestEventListener(t){this._myScrollVariableRequestCallbacks.delete(t)}start(t,i){this._myUI.build(t,this._mySetup,i),this._myUI.setAdditionalButtonsActive(i.myEnableAdditionalButtons),this._addListeners()}update(t){this._isActive()&&(this._updateValue(t),this._updateScrollVariable(t))}_updateValue(t){let i=0;this._myGamepad&&(i=this._myGamepad.getAxesInfo().myAxes[1]);let s=0;this._myValueEditActive?s=i:this._myValueButtonEditIntensity!=0&&(this._myValueButtonEditIntensityTimer<=0?s=this._myValueButtonEditIntensity:this._myValueButtonEditIntensityTimer-=t),Math.abs(s)>this._mySetup.myThumbstickToggleThreshold&&(this._myVariable.myValue[this._myValueEditIndex]=s>0,this._refreshUI())}_updateScrollVariable(t){this._myScrollVariableActive&&(this._myScrollVariableTimer<=0?(this._scrollVariableRequest(this._myScrollDirection),this._myScrollVariableTimer=this._mySetup.myScrollVariableDelay,this._myHasScrolled=!0):this._myScrollVariableTimer-=t)}_isActive(){return this._myIsVisible&&this._myVariable}_addListeners(){let t=this._myUI;t.myVariableLabelCursorTargetComponent.addClickFunction(this._resetAllValues.bind(this)),t.myVariableLabelCursorTargetComponent.addHoverFunction(this._genericTextHover.bind(this,t.myVariableLabelText)),t.myVariableLabelCursorTargetComponent.addUnHoverFunction(this._genericTextUnHover.bind(this,t.myVariableLabelText,this._mySetup.myVariableLabelTextScale)),t.myNextButtonCursorTargetComponent.addDownFunction(this._setScrollVariableActive.bind(this,!0,1,!1)),t.myNextButtonCursorTargetComponent.addDownOnHoverFunction(this._setScrollVariableActive.bind(this,!0,1,!1)),t.myNextButtonCursorTargetComponent.addUpFunction(this._setScrollVariableActive.bind(this,!1,0,!1)),t.myNextButtonCursorTargetComponent.addUpWithNoDownFunction(this._setScrollVariableActive.bind(this,!1,0,!0)),t.myNextButtonCursorTargetComponent.addUnHoverFunction(this._setScrollVariableActive.bind(this,!1,0,!0)),t.myNextButtonCursorTargetComponent.addHoverFunction(this._genericHover.bind(this,t.myNextButtonBackgroundComponent.material)),t.myNextButtonCursorTargetComponent.addUnHoverFunction(this._genericUnHover.bind(this,t.myNextButtonBackgroundComponent.material)),t.myPreviousButtonCursorTargetComponent.addDownFunction(this._setScrollVariableActive.bind(this,!0,-1,!1)),t.myPreviousButtonCursorTargetComponent.addDownOnHoverFunction(this._setScrollVariableActive.bind(this,!0,-1,!1)),t.myPreviousButtonCursorTargetComponent.addUpFunction(this._setScrollVariableActive.bind(this,!1,0,!1)),t.myPreviousButtonCursorTargetComponent.addUpWithNoDownFunction(this._setScrollVariableActive.bind(this,!1,0,!0)),t.myPreviousButtonCursorTargetComponent.addUnHoverFunction(this._setScrollVariableActive.bind(this,!1,0,!0)),t.myPreviousButtonCursorTargetComponent.addHoverFunction(this._genericHover.bind(this,t.myPreviousButtonBackgroundComponent.material)),t.myPreviousButtonCursorTargetComponent.addUnHoverFunction(this._genericUnHover.bind(this,t.myPreviousButtonBackgroundComponent.material));for(let i=0;i<this._mySetup.myArraySize;i++)for(let s=0;s<this._mySetup.myArraySize;s++)t.myValueIncreaseButtonCursorTargetComponents[s].addDownFunction(this._setValueEditIntensity.bind(this,s,1)),t.myValueIncreaseButtonCursorTargetComponents[s].addDownOnHoverFunction(this._setValueEditIntensity.bind(this,s,1)),t.myValueIncreaseButtonCursorTargetComponents[s].addUpFunction(this._setValueEditIntensity.bind(this,s,0)),t.myValueIncreaseButtonCursorTargetComponents[s].addUpWithNoDownFunction(this._setValueEditIntensity.bind(this,s,0)),t.myValueIncreaseButtonCursorTargetComponents[s].addUnHoverFunction(this._setValueEditIntensity.bind(this,s,0)),t.myValueDecreaseButtonCursorTargetComponents[s].addDownFunction(this._setValueEditIntensity.bind(this,s,-1)),t.myValueDecreaseButtonCursorTargetComponents[s].addDownOnHoverFunction(this._setValueEditIntensity.bind(this,s,-1)),t.myValueDecreaseButtonCursorTargetComponents[s].addUpFunction(this._setValueEditIntensity.bind(this,s,0)),t.myValueDecreaseButtonCursorTargetComponents[s].addUpWithNoDownFunction(this._setValueEditIntensity.bind(this,s,0)),t.myValueDecreaseButtonCursorTargetComponents[s].addUnHoverFunction(this._setValueEditIntensity.bind(this,s,0)),t.myValueIncreaseButtonCursorTargetComponents[s].addHoverFunction(this._genericHover.bind(this,t.myValueIncreaseButtonBackgroundComponents[s].material)),t.myValueIncreaseButtonCursorTargetComponents[s].addUnHoverFunction(this._genericUnHover.bind(this,t.myValueIncreaseButtonBackgroundComponents[s].material)),t.myValueDecreaseButtonCursorTargetComponents[s].addHoverFunction(this._genericHover.bind(this,t.myValueDecreaseButtonBackgroundComponents[s].material)),t.myValueDecreaseButtonCursorTargetComponents[s].addUnHoverFunction(this._genericUnHover.bind(this,t.myValueDecreaseButtonBackgroundComponents[s].material)),t.myValueCursorTargetComponents[s].addClickFunction(this._resetValue.bind(this,s)),t.myValueCursorTargetComponents[s].addHoverFunction(this._setValueEditActive.bind(this,s,t.myValueTexts[s],!0)),t.myValueCursorTargetComponents[s].addUnHoverFunction(this._setValueEditActive.bind(this,s,t.myValueTexts[s],!1))}_setValueEditIntensity(t,i){(this._isActive()||i==0)&&(i!=0&&(this._myValueButtonEditIntensityTimer=this._mySetup.myButtonEditDelay,this._myValueEditIndex=t),this._myValueButtonEditIntensity=i)}_setValueEditActive(t,i,s){(this._isActive()||!s)&&(s?(this._myValueEditIndex=t,i.scale(this._mySetup.myTextHoverScaleMultiplier)):i.scalingWorld=this._mySetup.myValueTextScale,this._myValueEditActive=s)}_setScrollVariableActive(t,i,s){if(this._isActive()||!t){let n=!t&&!this._myHasScrolled&&!s,o=this._myScrollDirection;this.setScrollVariableActive(t,i),n&&this._scrollVariableRequest(o)}}_scrollVariableRequest(t){if(this._isActive()&&t!=0)for(let i of this._myScrollVariableRequestCallbacks.values())i(t)}_resetValue(t){this._isActive()&&(this._myVariable.myValue[t]=this._myVariable.myInitialValue[t],this._myUI.myValueTextComponents[t].text=this._myVariable.myValue[t]?\"true\":\"false\")}_resetAllValues(){for(let t=0;t<this._mySetup.myArraySize;t++)this._resetValue(t)}_genericHover(t){t.color=this._mySetup.myButtonHoverColor}_genericUnHover(t){t.color=this._mySetup.myBackgroundColor}_genericTextHover(t){t.scale(this._mySetup.myTextHoverScaleMultiplier)}_genericTextUnHover(t,i){t.scalingWorld=i}}});var Ss=C(()=>{PP.EasyTuneBoolArrayWidgetUI=class{build(t,i,s){this._myParentObject=t,this._mySetup=i,this._myAdditionalSetup=s,this._myAdditionalButtonsActive=!0,this._myPlaneMesh=PP.MeshUtils.createPlaneMesh(),this._createSkeleton(),this._setTransforms(),this._addComponents()}setVisible(t){this.myPivotObject.pp_setActiveHierarchy(t),t&&this.setAdditionalButtonsActive(this._myAdditionalButtonsActive)}setAdditionalButtonsActive(t){this._myAdditionalButtonsActive=t;for(let i=0;i<this._mySetup.myArraySize;i++)this.myValueIncreaseButtonPanels[i].pp_setActiveHierarchy(this._myAdditionalButtonsActive),this.myValueDecreaseButtonPanels[i].pp_setActiveHierarchy(this._myAdditionalButtonsActive)}_createSkeleton(){this.myPivotObject=WL.scene.addObject(this._myParentObject),this.myBackPanel=WL.scene.addObject(this.myPivotObject),this.myBackBackground=WL.scene.addObject(this.myBackPanel),this._createDisplaySkeleton(),this._createPointerSkeleton()}_createDisplaySkeleton(){this.myDisplayPanel=WL.scene.addObject(this.myPivotObject),this.myVariableLabelPanel=WL.scene.addObject(this.myDisplayPanel),this.myVariableLabelText=WL.scene.addObject(this.myVariableLabelPanel),this.myVariableLabelCursorTarget=WL.scene.addObject(this.myVariableLabelPanel),this.myNextButtonPanel=WL.scene.addObject(this.myVariableLabelPanel),this.myNextButtonBackground=WL.scene.addObject(this.myNextButtonPanel),this.myNextButtonText=WL.scene.addObject(this.myNextButtonPanel),this.myNextButtonCursorTarget=WL.scene.addObject(this.myNextButtonPanel),this.myPreviousButtonPanel=WL.scene.addObject(this.myVariableLabelPanel),this.myPreviousButtonBackground=WL.scene.addObject(this.myPreviousButtonPanel),this.myPreviousButtonText=WL.scene.addObject(this.myPreviousButtonPanel),this.myPreviousButtonCursorTarget=WL.scene.addObject(this.myPreviousButtonPanel),this.myValuesPanel=WL.scene.addObject(this.myDisplayPanel),this.myValuePanels=[],this.myValueTexts=[],this.myValueCursorTargets=[],this.myValueIncreaseButtonPanels=[],this.myValueIncreaseButtonBackgrounds=[],this.myValueIncreaseButtonTexts=[],this.myValueIncreaseButtonCursorTargets=[],this.myValueDecreaseButtonPanels=[],this.myValueDecreaseButtonBackgrounds=[],this.myValueDecreaseButtonTexts=[],this.myValueDecreaseButtonCursorTargets=[];for(let t=0;t<this._mySetup.myArraySize;t++)this.myValuePanels[t]=WL.scene.addObject(this.myValuesPanel),this.myValueTexts[t]=WL.scene.addObject(this.myValuePanels[t]),this.myValueCursorTargets[t]=WL.scene.addObject(this.myValuePanels[t]),this.myValueIncreaseButtonPanels[t]=WL.scene.addObject(this.myValuePanels[t]),this.myValueIncreaseButtonBackgrounds[t]=WL.scene.addObject(this.myValueIncreaseButtonPanels[t]),this.myValueIncreaseButtonTexts[t]=WL.scene.addObject(this.myValueIncreaseButtonPanels[t]),this.myValueIncreaseButtonCursorTargets[t]=WL.scene.addObject(this.myValueIncreaseButtonPanels[t]),this.myValueDecreaseButtonPanels[t]=WL.scene.addObject(this.myValuePanels[t]),this.myValueDecreaseButtonBackgrounds[t]=WL.scene.addObject(this.myValueDecreaseButtonPanels[t]),this.myValueDecreaseButtonTexts[t]=WL.scene.addObject(this.myValueDecreaseButtonPanels[t]),this.myValueDecreaseButtonCursorTargets[t]=WL.scene.addObject(this.myValueDecreaseButtonPanels[t])}_createPointerSkeleton(){this.myPointerCursorTarget=WL.scene.addObject(this.myPivotObject)}_setTransforms(){this.myPivotObject.setTranslationLocal(this._mySetup.myPivotObjectPositions[this._myAdditionalSetup.myHandedness]),this.myBackPanel.setTranslationLocal(this._mySetup.myBackPanelPosition),this.myBackBackground.scale(this._mySetup.myBackBackgroundScale),this._setDisplayTransforms(),this._setPointerTransform()}_setDisplayTransforms(){this.myDisplayPanel.setTranslationLocal(this._mySetup.myDisplayPanelPosition),this.myVariableLabelPanel.setTranslationLocal(this._mySetup.myVariableLabelPanelPosition),this.myVariableLabelText.scale(this._mySetup.myVariableLabelTextScale),this.myVariableLabelCursorTarget.setTranslationLocal(this._mySetup.myVariableLabelCursorTargetPosition),this.myNextButtonPanel.setTranslationLocal(this._mySetup.myRightSideButtonPosition),this.myNextButtonBackground.scale(this._mySetup.mySideButtonBackgroundScale),this.myNextButtonText.setTranslationLocal(this._mySetup.mySideButtonTextPosition),this.myNextButtonText.scale(this._mySetup.mySideButtonTextScale),this.myNextButtonCursorTarget.setTranslationLocal(this._mySetup.mySideButtonCursorTargetPosition),this.myPreviousButtonPanel.setTranslationLocal(this._mySetup.myLeftSideButtonPosition),this.myPreviousButtonBackground.scale(this._mySetup.mySideButtonBackgroundScale),this.myPreviousButtonText.setTranslationLocal(this._mySetup.mySideButtonTextPosition),this.myPreviousButtonText.scale(this._mySetup.mySideButtonTextScale),this.myPreviousButtonCursorTarget.setTranslationLocal(this._mySetup.mySideButtonCursorTargetPosition),this.myValuesPanel.setTranslationLocal(this._mySetup.myValuesPanelPosition);for(let t=0;t<this._mySetup.myArraySize;t++)this.myValuePanels[t].setTranslationLocal(this._mySetup.myValuePanelsPositions[t]),this.myValueTexts[t].scale(this._mySetup.myValueTextScale),this.myValueCursorTargets[t].setTranslationLocal(this._mySetup.myValueCursorTargetPosition),this.myValueIncreaseButtonPanels[t].setTranslationLocal(this._mySetup.myRightSideButtonPosition),this.myValueIncreaseButtonBackgrounds[t].scale(this._mySetup.mySideButtonBackgroundScale),this.myValueIncreaseButtonTexts[t].setTranslationLocal(this._mySetup.mySideButtonTextPosition),this.myValueIncreaseButtonTexts[t].scale(this._mySetup.mySideButtonTextScale),this.myValueIncreaseButtonCursorTargets[t].setTranslationLocal(this._mySetup.mySideButtonCursorTargetPosition),this.myValueDecreaseButtonPanels[t].setTranslationLocal(this._mySetup.myLeftSideButtonPosition),this.myValueDecreaseButtonBackgrounds[t].scale(this._mySetup.mySideButtonBackgroundScale),this.myValueDecreaseButtonTexts[t].setTranslationLocal(this._mySetup.mySideButtonTextPosition),this.myValueDecreaseButtonTexts[t].scale(this._mySetup.mySideButtonTextScale),this.myValueDecreaseButtonCursorTargets[t].setTranslationLocal(this._mySetup.mySideButtonCursorTargetPosition)}_setPointerTransform(){this.myPointerCursorTarget.setTranslationLocal(this._mySetup.myPointerCursorTargetPosition)}_addComponents(){this.myBackBackgroundComponent=this.myBackBackground.addComponent(\"mesh\"),this.myBackBackgroundComponent.mesh=this._myPlaneMesh,this.myBackBackgroundComponent.material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myBackBackgroundComponent.material.color=this._mySetup.myBackBackgroundColor,this._addDisplayComponents(),this._addPointerComponents()}_addDisplayComponents(){this.myVariableLabelTextComponent=this.myVariableLabelText.addComponent(\"text\"),this._setupTextComponent(this.myVariableLabelTextComponent),this.myVariableLabelTextComponent.text=\" \",this.myVariableLabelCursorTargetComponent=this.myVariableLabelCursorTarget.addComponent(\"cursor-target\"),this.myVariableLabelCollisionComponent=this.myVariableLabelCursorTarget.addComponent(\"collision\"),this.myVariableLabelCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myVariableLabelCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myVariableLabelCollisionComponent.extents=this._mySetup.myVariableLabelCollisionExtents,this.myNextButtonBackgroundComponent=this.myNextButtonBackground.addComponent(\"mesh\"),this.myNextButtonBackgroundComponent.mesh=this._myPlaneMesh,this.myNextButtonBackgroundComponent.material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myNextButtonBackgroundComponent.material.color=this._mySetup.myBackgroundColor,this.myNextButtonTextComponent=this.myNextButtonText.addComponent(\"text\"),this._setupTextComponent(this.myNextButtonTextComponent),this.myNextButtonTextComponent.text=this._mySetup.myNextButtonText,this.myNextButtonCursorTargetComponent=this.myNextButtonCursorTarget.addComponent(\"cursor-target\"),this.myNextButtonCollisionComponent=this.myNextButtonCursorTarget.addComponent(\"collision\"),this.myNextButtonCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myNextButtonCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myNextButtonCollisionComponent.extents=this._mySetup.mySideButtonCollisionExtents,this.myPreviousButtonBackgroundComponent=this.myPreviousButtonBackground.addComponent(\"mesh\"),this.myPreviousButtonBackgroundComponent.mesh=this._myPlaneMesh,this.myPreviousButtonBackgroundComponent.material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myPreviousButtonBackgroundComponent.material.color=this._mySetup.myBackgroundColor,this.myPreviousButtonTextComponent=this.myPreviousButtonText.addComponent(\"text\"),this._setupTextComponent(this.myPreviousButtonTextComponent),this.myPreviousButtonTextComponent.text=this._mySetup.myPreviousButtonText,this.myPreviousButtonCursorTargetComponent=this.myPreviousButtonCursorTarget.addComponent(\"cursor-target\"),this.myPreviousButtonCollisionComponent=this.myPreviousButtonCursorTarget.addComponent(\"collision\"),this.myPreviousButtonCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myPreviousButtonCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myPreviousButtonCollisionComponent.extents=this._mySetup.mySideButtonCollisionExtents,this.myValueTextComponents=[],this.myValueCursorTargetComponents=[],this.myValueCollisionComponents=[],this.myValueIncreaseButtonBackgroundComponents=[],this.myValueIncreaseButtonTextComponents=[],this.myValueIncreaseButtonCursorTargetComponents=[],this.myValueIncreaseButtonCollisionComponents=[],this.myValueDecreaseButtonBackgroundComponents=[],this.myValueDecreaseButtonTextComponents=[],this.myValueDecreaseButtonCursorTargetComponents=[],this.myValueDecreaseButtonCollisionComponents=[];for(let t=0;t<this._mySetup.myArraySize;t++)this.myValueTextComponents[t]=this.myValueTexts[t].addComponent(\"text\"),this._setupTextComponent(this.myValueTextComponents[t]),this.myValueTextComponents[t].text=\" \",this.myValueCursorTargetComponents[t]=this.myValueCursorTargets[t].addComponent(\"cursor-target\"),this.myValueCollisionComponents[t]=this.myValueCursorTargets[t].addComponent(\"collision\"),this.myValueCollisionComponents[t].collider=this._mySetup.myCursorTargetCollisionCollider,this.myValueCollisionComponents[t].group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myValueCollisionComponents[t].extents=this._mySetup.myValueCollisionExtents,this.myValueIncreaseButtonBackgroundComponents[t]=this.myValueIncreaseButtonBackgrounds[t].addComponent(\"mesh\"),this.myValueIncreaseButtonBackgroundComponents[t].mesh=this._myPlaneMesh,this.myValueIncreaseButtonBackgroundComponents[t].material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myValueIncreaseButtonBackgroundComponents[t].material.color=this._mySetup.myBackgroundColor,this.myValueIncreaseButtonTextComponents[t]=this.myValueIncreaseButtonTexts[t].addComponent(\"text\"),this._setupTextComponent(this.myValueIncreaseButtonTextComponents[t]),this.myValueIncreaseButtonTextComponents[t].text=this._mySetup.myIncreaseButtonText,this.myValueIncreaseButtonCursorTargetComponents[t]=this.myValueIncreaseButtonCursorTargets[t].addComponent(\"cursor-target\"),this.myValueIncreaseButtonCollisionComponents[t]=this.myValueIncreaseButtonCursorTargets[t].addComponent(\"collision\"),this.myValueIncreaseButtonCollisionComponents[t].collider=this._mySetup.myCursorTargetCollisionCollider,this.myValueIncreaseButtonCollisionComponents[t].group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myValueIncreaseButtonCollisionComponents[t].extents=this._mySetup.mySideButtonCollisionExtents,this.myValueDecreaseButtonBackgroundComponents[t]=this.myValueDecreaseButtonBackgrounds[t].addComponent(\"mesh\"),this.myValueDecreaseButtonBackgroundComponents[t].mesh=this._myPlaneMesh,this.myValueDecreaseButtonBackgroundComponents[t].material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myValueDecreaseButtonBackgroundComponents[t].material.color=this._mySetup.myBackgroundColor,this.myValueDecreaseButtonTextComponents[t]=this.myValueDecreaseButtonTexts[t].addComponent(\"text\"),this._setupTextComponent(this.myValueDecreaseButtonTextComponents[t]),this.myValueDecreaseButtonTextComponents[t].text=this._mySetup.myDecreaseButtonText,this.myValueDecreaseButtonCursorTargetComponents[t]=this.myValueDecreaseButtonCursorTargets[t].addComponent(\"cursor-target\"),this.myValueDecreaseButtonCollisionComponents[t]=this.myValueDecreaseButtonCursorTargets[t].addComponent(\"collision\"),this.myValueDecreaseButtonCollisionComponents[t].collider=this._mySetup.myCursorTargetCollisionCollider,this.myValueDecreaseButtonCollisionComponents[t].group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myValueDecreaseButtonCollisionComponents[t].extents=this._mySetup.mySideButtonCollisionExtents}_addPointerComponents(){this.myPointerCollisionComponent=this.myPointerCursorTarget.addComponent(\"collision\"),this.myPointerCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myPointerCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myPointerCollisionComponent.extents=this._mySetup.myPointerCollisionExtents}_setupTextComponent(t){t.alignment=this._mySetup.myTextAlignment,t.justification=this._mySetup.myTextJustification,t.material=this._myAdditionalSetup.myTextMaterial.clone(),t.material.color=this._mySetup.myTextColor,t.text=\"\"}}});var vs=C(()=>{PP.EasyTuneBoolArrayWidgetSetup=class{constructor(t){this.myArraySize=t,this._initializeBuildSetup(),this._initializeRuntimeSetup()}_initializeBuildSetup(){this.myBackgroundColor=[46/255,46/255,46/255,1],this.myCursorTargetCollisionCollider=2,this.myCursorTargetCollisionGroup=7,this.myCursorTargetCollisionThickness=.001,this.myDefaultTextColor=[255/255,255/255,255/255,1],this.myTextAlignment=2,this.myTextJustification=2,this.myTextColor=this.myDefaultTextColor,this.myPivotObjectPositions=[],this.myPivotObjectPositions[PP.ToolHandedness.NONE]=[0,0,0],this.myPivotObjectPositions[PP.ToolHandedness.LEFT]=[-.04,.02,3013e-8],this.myPivotObjectPositions[PP.ToolHandedness.RIGHT]=[-.08,.02,3013e-8];let t=.01,i=.0125,s=.055,n=.017,o=.2;this.mySideButtonBackgroundScale=[.015,.015,1],this.mySideButtonTextScale=[.18,.18,.18],this.mySideButtonTextPosition=[0,0,.007],this.mySideButtonCursorTargetPosition=[0,0,0],this.mySideButtonCursorTargetPosition[2]=n-t,this.mySideButtonCollisionExtents=this.mySideButtonBackgroundScale.slice(0),this.mySideButtonCollisionExtents[2]=this.myCursorTargetCollisionThickness,this.myLeftSideButtonPosition=[0,0,-1e-5],this.myLeftSideButtonPosition[0]=-o+this.mySideButtonBackgroundScale[0]+i,this.myRightSideButtonPosition=[0,0,-1e-5],this.myRightSideButtonPosition[0]=o-this.mySideButtonBackgroundScale[0]-i,this.myIncreaseButtonText=\"+\",this.myDecreaseButtonText=\"-\",this.myDisplayPanelPosition=[0,.1,0],this.myVariableLabelPanelPosition=[0,.025,t],this.myVariableLabelTextScale=[.19,.19,.19],this.myVariableLabelCursorTargetPosition=[0,0,0],this.myVariableLabelCursorTargetPosition[2]=n-t,this.myVariableLabelCollisionExtents=[.065,.0175,1],this.myVariableLabelCollisionExtents[2]=this.myCursorTargetCollisionThickness,this.myNextButtonText=\">\",this.myPreviousButtonText=\"<\",this.myValuesPanelPosition=[0,this.myVariableLabelPanelPosition[1]-s,t],this.myValueTextScale=[.4,.4,.4],this.myValueCursorTargetPosition=[0,0,0],this.myValueCursorTargetPosition[2]=n-t,this.myValueCollisionExtents=[.065,.02,1],this.myValueCollisionExtents[2]=this.myCursorTargetCollisionThickness,this.myDistanceBetweenValues=this.mySideButtonBackgroundScale[1]*2+.015,this.myValuePanelsPositions=[],this.myValuePanelsPositions[0]=[0,0,0];for(let r=1;r<this.myArraySize;r++)this.myValuePanelsPositions[r]=this.myValuePanelsPositions[r-1].slice(0),this.myValuePanelsPositions[r][1]-=this.myDistanceBetweenValues;{let r=this.myValuePanelsPositions[this.myArraySize-1]?this.myValuePanelsPositions[this.myArraySize-1][1]:0,l=this.myDisplayPanelPosition[1]+this.myVariableLabelPanelPosition[1]+this.mySideButtonBackgroundScale[1]+i*1.25,u=this.myDisplayPanelPosition[1]+this.myValuesPanelPosition[1]+r-i*1.25-this.mySideButtonBackgroundScale[1];this.myBackPanelPosition=[0,(l+u)/2,0],this.myBackBackgroundScale=[o,(l-u)/2,1],this.myBackBackgroundColor=[70/255,70/255,70/255,1]}this.myPointerCollisionExtents=this.myBackBackgroundScale.slice(0),this.myPointerCollisionExtents[2]=this.myCursorTargetCollisionThickness,this.myPointerCursorTargetPosition=this.myBackPanelPosition.slice(0),this.myPointerCursorTargetPosition[2]=n-1e-4}_initializeRuntimeSetup(){this.myButtonHoverColor=[150/255,150/255,150/255,1],this.myTextHoverScaleMultiplier=[1.25,1.25,1.25],this.myThumbstickToggleThreshold=.6,this.myButtonEditDelay=0,this.myScrollVariableDelay=.5}}});var xs=C(()=>{PP.EasyTuneBoolWidget=class{constructor(t){this._myGamepad=t,this._myParentObject=null,this._myAdditionalSetup=null,this._myWidgets=new Map,this._myVariable=null,this._myIsVisible=!0,this._myAppendToVariableName=null,this._myScrollVariableRequestCallbacks=new Map,this._myCurrentArraySize=0}setEasyTuneVariable(t,i){this._myVariable=t,this._myCurrentArraySize=this._myVariable.myValue.length,this._myAppendToVariableName=i,this._myWidgets.has(this._myCurrentArraySize)||this._createWidget(this._myCurrentArraySize),this._myWidgets.get(this._myCurrentArraySize).setEasyTuneVariable(t,i),this.setVisible(this._myIsVisible)}setVisible(t){if(this._myVariable){this._sizeChangedCheck();for(let i of this._myWidgets.values())i.setVisible(!1);this._myWidgets.get(this._myCurrentArraySize).setVisible(t)}this._myIsVisible=t}isScrollVariableActive(){let t=this._myWidgets.get(this._myCurrentArraySize);return t?t.isScrollVariableActive():!1}getScrollVariableDirection(){let t=this._myWidgets.get(this._myCurrentArraySize);return t?t.getScrollVariableDirection():0}setScrollVariableActive(t,i){let s=this._myWidgets.get(this._myCurrentArraySize);s&&s.setScrollVariableActive(t,i)}registerScrollVariableRequestEventListener(t,i){this._myScrollVariableRequestCallbacks.set(t,i)}unregisterScrollVariableRequestEventListener(t){this._myScrollVariableRequestCallbacks.delete(t)}start(t,i){this._myParentObject=t,this._myAdditionalSetup=i,this._createWidget(1),this._myVariable&&this.setEasyTuneVariable(this._myVariable,this._myAppendToVariableName)}update(t){this._isActive()&&(this._sizeChangedCheck(),this._myWidgets.get(this._myCurrentArraySize).update(t))}_isActive(){return this._myIsVisible&&this._myVariable}_scrollVariableRequest(t){for(let i of this._myScrollVariableRequestCallbacks.values())i(t)}_createWidget(t){this._myWidgets.set(t,new PP.EasyTuneBoolArrayWidget(t,this._myGamepad)),this._myWidgets.get(t).start(this._myParentObject,this._myAdditionalSetup),this._myWidgets.get(t).setVisible(!1),this._myWidgets.get(t).registerScrollVariableRequestEventListener(this,this._scrollVariableRequest.bind(this))}_sizeChangedCheck(){this._myVariable.myValue.length!=this._myCurrentArraySize&&this.setEasyTuneVariable(this._myVariable,this._myAppendToVariableName)}}});var Bs=C(()=>{PP.EasyTuneNoneWidget=class{constructor(){this._mySetup=new PP.EasyTuneNoneWidgetSetup,this._myUI=new PP.EasyTuneNoneWidgetUI,this._myVariable=null,this._myIsVisible=!0,this._myScrollVariableRequestCallbacks=new Map,this._myAppendToVariableName=\"\",this._myScrollVariableActive=!1,this._myScrollDirection=0,this._myScrollVariableTimer=0,this._myHasScrolled=!1}setEasyTuneVariable(t,i){this._myVariable=t,typeof i<\"u\"?this._myAppendToVariableName=i:this._myAppendToVariableName=\"\",this._refreshUI()}isScrollVariableActive(){return this._myScrollVariableActive}getScrollVariableDirection(){return this._myScrollDirection}setScrollVariableActive(t,i){this._myScrollVariableActive=t,this._myScrollDirection=i,this._myScrollVariableTimer=this._mySetup.myScrollVariableDelay,this._myHasScrolled=!1}_refreshUI(){if(this._myVariable)if(this._myVariable.myName!=null)this._myUI.myVariableLabelTextComponent.text=this._myVariable.myName.concat(this._myAppendToVariableName);else{let t=\"Unknown\";this._myUI.myVariableLabelTextComponent.text=t.concat(this._myAppendToVariableName)}}setVisible(t){t&&this._refreshUI(),this._myUI.setVisible(t),this._myIsVisible=t}registerScrollVariableRequestEventListener(t,i){this._myScrollVariableRequestCallbacks.set(t,i)}unregisterScrollVariableRequestEventListener(t){this._myScrollVariableRequestCallbacks.delete(t)}start(t,i){this._myUI.build(t,this._mySetup,i),this._addListeners()}update(t){this._isActive()&&this._updateScrollVariable(t)}_updateScrollVariable(t){this._myScrollVariableActive&&(this._myScrollVariableTimer<=0?(this._scrollVariableRequest(this._myScrollDirection),this._myScrollVariableTimer=this._mySetup.myScrollVariableDelay,this._myHasScrolled=!0):this._myScrollVariableTimer-=t)}_isActive(){return this._myIsVisible&&this._myVariable}_addListeners(){let t=this._myUI;t.myNextButtonCursorTargetComponent.addDownFunction(this._setScrollVariableActive.bind(this,!0,1,!1)),t.myNextButtonCursorTargetComponent.addDownOnHoverFunction(this._setScrollVariableActive.bind(this,!0,1,!1)),t.myNextButtonCursorTargetComponent.addUpFunction(this._setScrollVariableActive.bind(this,!1,0,!1)),t.myNextButtonCursorTargetComponent.addUpWithNoDownFunction(this._setScrollVariableActive.bind(this,!1,0,!0)),t.myNextButtonCursorTargetComponent.addUnHoverFunction(this._setScrollVariableActive.bind(this,!1,0,!0)),t.myNextButtonCursorTargetComponent.addHoverFunction(this._genericHover.bind(this,t.myNextButtonBackgroundComponent.material)),t.myNextButtonCursorTargetComponent.addUnHoverFunction(this._genericUnHover.bind(this,t.myNextButtonBackgroundComponent.material)),t.myPreviousButtonCursorTargetComponent.addDownFunction(this._setScrollVariableActive.bind(this,!0,-1,!1)),t.myPreviousButtonCursorTargetComponent.addDownOnHoverFunction(this._setScrollVariableActive.bind(this,!0,-1,!1)),t.myPreviousButtonCursorTargetComponent.addUpFunction(this._setScrollVariableActive.bind(this,!1,0,!1)),t.myPreviousButtonCursorTargetComponent.addUpWithNoDownFunction(this._setScrollVariableActive.bind(this,!1,0,!0)),t.myPreviousButtonCursorTargetComponent.addUnHoverFunction(this._setScrollVariableActive.bind(this,!1,0,!0)),t.myPreviousButtonCursorTargetComponent.addHoverFunction(this._genericHover.bind(this,t.myPreviousButtonBackgroundComponent.material)),t.myPreviousButtonCursorTargetComponent.addUnHoverFunction(this._genericUnHover.bind(this,t.myPreviousButtonBackgroundComponent.material))}_setScrollVariableActive(t,i,s){if(this._isActive()||!t){let n=!t&&!this._myHasScrolled&&!s,o=this._myScrollDirection;this.setScrollVariableActive(t,i),n&&this._scrollVariableRequest(o)}}_scrollVariableRequest(t){if(this._isActive()&&t!=0)for(let i of this._myScrollVariableRequestCallbacks.values())i(t)}_genericHover(t){t.color=this._mySetup.myButtonHoverColor}_genericUnHover(t){t.color=this._mySetup.myBackgroundColor}}});var Ms=C(()=>{PP.EasyTuneNoneWidgetUI=class{build(t,i,s){this._myParentObject=t,this._mySetup=i,this._myAdditionalSetup=s,this._myPlaneMesh=PP.MeshUtils.createPlaneMesh(),this._createSkeleton(),this._setTransforms(),this._addComponents()}setVisible(t){this.myPivotObject.pp_setActiveHierarchy(t)}_createSkeleton(){this.myPivotObject=WL.scene.addObject(this._myParentObject),this.myBackPanel=WL.scene.addObject(this.myPivotObject),this.myBackBackground=WL.scene.addObject(this.myBackPanel),this._createDisplaySkeleton(),this._createPointerSkeleton()}_createDisplaySkeleton(){this.myDisplayPanel=WL.scene.addObject(this.myPivotObject),this.myVariableLabelPanel=WL.scene.addObject(this.myDisplayPanel),this.myVariableLabelText=WL.scene.addObject(this.myVariableLabelPanel),this.myTypeNotSupportedPanel=WL.scene.addObject(this.myDisplayPanel),this.myTypeNotSupportedText=WL.scene.addObject(this.myTypeNotSupportedPanel),this.myTypeNotSupportedCursorTarget=WL.scene.addObject(this.myTypeNotSupportedPanel),this.myNextButtonPanel=WL.scene.addObject(this.myVariableLabelPanel),this.myNextButtonBackground=WL.scene.addObject(this.myNextButtonPanel),this.myNextButtonText=WL.scene.addObject(this.myNextButtonPanel),this.myNextButtonCursorTarget=WL.scene.addObject(this.myNextButtonPanel),this.myPreviousButtonPanel=WL.scene.addObject(this.myVariableLabelPanel),this.myPreviousButtonBackground=WL.scene.addObject(this.myPreviousButtonPanel),this.myPreviousButtonText=WL.scene.addObject(this.myPreviousButtonPanel),this.myPreviousButtonCursorTarget=WL.scene.addObject(this.myPreviousButtonPanel)}_createPointerSkeleton(){this.myPointerCursorTarget=WL.scene.addObject(this.myPivotObject)}_setTransforms(){this.myPivotObject.setTranslationLocal(this._mySetup.myPivotObjectPositions[this._myAdditionalSetup.myHandedness]),this.myBackPanel.setTranslationLocal(this._mySetup.myBackPanelPosition),this.myBackBackground.scale(this._mySetup.myBackBackgroundScale),this._setDisplayTransforms(),this._setPointerTransform()}_setDisplayTransforms(){this.myDisplayPanel.setTranslationLocal(this._mySetup.myDisplayPanelPosition),this.myVariableLabelPanel.setTranslationLocal(this._mySetup.myVariableLabelPanelPosition),this.myVariableLabelText.scale(this._mySetup.myVariableLabelTextScale),this.myTypeNotSupportedPanel.setTranslationLocal(this._mySetup.myTypeNotSupportedPanelPosition),this.myTypeNotSupportedText.scale(this._mySetup.myTypeNotSupportedTextScale),this.myNextButtonPanel.setTranslationLocal(this._mySetup.myRightSideButtonPosition),this.myNextButtonBackground.scale(this._mySetup.mySideButtonBackgroundScale),this.myNextButtonText.setTranslationLocal(this._mySetup.mySideButtonTextPosition),this.myNextButtonText.scale(this._mySetup.mySideButtonTextScale),this.myNextButtonCursorTarget.setTranslationLocal(this._mySetup.mySideButtonCursorTargetPosition),this.myPreviousButtonPanel.setTranslationLocal(this._mySetup.myLeftSideButtonPosition),this.myPreviousButtonBackground.scale(this._mySetup.mySideButtonBackgroundScale),this.myPreviousButtonText.setTranslationLocal(this._mySetup.mySideButtonTextPosition),this.myPreviousButtonText.scale(this._mySetup.mySideButtonTextScale),this.myPreviousButtonCursorTarget.setTranslationLocal(this._mySetup.mySideButtonCursorTargetPosition)}_setPointerTransform(){this.myPointerCursorTarget.setTranslationLocal(this._mySetup.myPointerCursorTargetPosition)}_addComponents(){this.myBackBackgroundComponent=this.myBackBackground.addComponent(\"mesh\"),this.myBackBackgroundComponent.mesh=this._myPlaneMesh,this.myBackBackgroundComponent.material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myBackBackgroundComponent.material.color=this._mySetup.myBackBackgroundColor,this._addDisplayComponents(),this._addPointerComponents()}_addDisplayComponents(){this.myVariableLabelTextComponent=this.myVariableLabelText.addComponent(\"text\"),this._setupTextComponent(this.myVariableLabelTextComponent),this.myVariableLabelTextComponent.text=\" \",this.myTypeNotSupportedTextComponent=this.myTypeNotSupportedText.addComponent(\"text\"),this._setupTextComponent(this.myTypeNotSupportedTextComponent),this.myTypeNotSupportedTextComponent.text=this._mySetup.myTypeNotSupportedText,this.myNextButtonBackgroundComponent=this.myNextButtonBackground.addComponent(\"mesh\"),this.myNextButtonBackgroundComponent.mesh=this._myPlaneMesh,this.myNextButtonBackgroundComponent.material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myNextButtonBackgroundComponent.material.color=this._mySetup.myBackgroundColor,this.myNextButtonTextComponent=this.myNextButtonText.addComponent(\"text\"),this._setupTextComponent(this.myNextButtonTextComponent),this.myNextButtonTextComponent.text=this._mySetup.myNextButtonText,this.myNextButtonCursorTargetComponent=this.myNextButtonCursorTarget.addComponent(\"cursor-target\"),this.myNextButtonCollisionComponent=this.myNextButtonCursorTarget.addComponent(\"collision\"),this.myNextButtonCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myNextButtonCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myNextButtonCollisionComponent.extents=this._mySetup.mySideButtonCollisionExtents,this.myPreviousButtonBackgroundComponent=this.myPreviousButtonBackground.addComponent(\"mesh\"),this.myPreviousButtonBackgroundComponent.mesh=this._myPlaneMesh,this.myPreviousButtonBackgroundComponent.material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myPreviousButtonBackgroundComponent.material.color=this._mySetup.myBackgroundColor,this.myPreviousButtonTextComponent=this.myPreviousButtonText.addComponent(\"text\"),this._setupTextComponent(this.myPreviousButtonTextComponent),this.myPreviousButtonTextComponent.text=this._mySetup.myPreviousButtonText,this.myPreviousButtonCursorTargetComponent=this.myPreviousButtonCursorTarget.addComponent(\"cursor-target\"),this.myPreviousButtonCollisionComponent=this.myPreviousButtonCursorTarget.addComponent(\"collision\"),this.myPreviousButtonCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myPreviousButtonCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myPreviousButtonCollisionComponent.extents=this._mySetup.mySideButtonCollisionExtents}_addPointerComponents(){this.myPointerCollisionComponent=this.myPointerCursorTarget.addComponent(\"collision\"),this.myPointerCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myPointerCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myPointerCollisionComponent.extents=this._mySetup.myPointerCollisionExtents}_setupTextComponent(t){t.alignment=this._mySetup.myTextAlignment,t.justification=this._mySetup.myTextJustification,t.material=this._myAdditionalSetup.myTextMaterial.clone(),t.material.color=this._mySetup.myTextColor,t.text=\"\"}}});var As=C(()=>{PP.EasyTuneNoneWidgetSetup=class{constructor(){this._initializeBuildSetup(),this._initializeRuntimeSetup()}_initializeBuildSetup(){this.myBackgroundColor=[46/255,46/255,46/255,1],this.myCursorTargetCollisionCollider=2,this.myCursorTargetCollisionGroup=7,this.myCursorTargetCollisionThickness=.001,this.myDefaultTextColor=[255/255,255/255,255/255,1],this.myTextAlignment=2,this.myTextJustification=2,this.myTextColor=this.myDefaultTextColor,this.myPivotObjectPositions=[],this.myPivotObjectPositions[PP.ToolHandedness.NONE]=[0,0,0],this.myPivotObjectPositions[PP.ToolHandedness.LEFT]=[-.04,.02,4213e-8],this.myPivotObjectPositions[PP.ToolHandedness.RIGHT]=[-.08,.02,4213e-8];let t=.01,i=.0125,s=.017,n=.2;this.mySideButtonBackgroundScale=[.015,.015,1],this.mySideButtonTextScale=[.18,.18,.18],this.mySideButtonTextPosition=[0,0,.007],this.mySideButtonCursorTargetPosition=[0,0,0],this.mySideButtonCursorTargetPosition[2]=s-t,this.mySideButtonCollisionExtents=this.mySideButtonBackgroundScale.slice(0),this.mySideButtonCollisionExtents[2]=this.myCursorTargetCollisionThickness,this.myLeftSideButtonPosition=[0,0,-1e-5],this.myLeftSideButtonPosition[0]=-n+this.mySideButtonBackgroundScale[0]+i,this.myRightSideButtonPosition=[0,0,-1e-5],this.myRightSideButtonPosition[0]=n-this.mySideButtonBackgroundScale[0]-i,this.myDisplayPanelPosition=[0,.1,0],this.myVariableLabelPanelPosition=[0,.025,t],this.myVariableLabelTextScale=[.19,.19,.19],this.myTypeNotSupportedPanelPosition=[0,-.03,t],this.myTypeNotSupportedTextScale=[.275,.275,.275],this.myTypeNotSupportedText=\"Type Not Supported\",this.myValueCursorTargetPosition=[0,0,0],this.myValueCursorTargetPosition[2]=s-t,this.myValueCollisionExtents=[.065,.02,1],this.myValueCollisionExtents[2]=this.myCursorTargetCollisionThickness,this.myNextButtonText=\">\",this.myPreviousButtonText=\"<\";{let o=this.myDisplayPanelPosition[1]+this.myVariableLabelPanelPosition[1]+this.mySideButtonBackgroundScale[1]+i*1.25,r=this.myDisplayPanelPosition[1]+this.myTypeNotSupportedPanelPosition[1]-i*1.25-this.mySideButtonBackgroundScale[1];this.myBackPanelPosition=[0,(o+r)/2,0],this.myBackBackgroundScale=[n,(o-r)/2,1],this.myBackBackgroundColor=[70/255,70/255,70/255,1]}this.myPointerCollisionExtents=this.myBackBackgroundScale.slice(0),this.myPointerCollisionExtents[2]=this.myCursorTargetCollisionThickness,this.myPointerCursorTargetPosition=this.myBackPanelPosition.slice(0),this.myPointerCursorTargetPosition[2]=s-1e-4}_initializeRuntimeSetup(){this.myButtonHoverColor=[150/255,150/255,150/255,1],this.myScrollVariableDelay=.5}}});var Ls=C(()=>{PP.EasyTuneNumberArrayWidget=class{constructor(t,i){this._myGamepad=i,this._mySetup=new PP.EasyTuneNumberArrayWidgetSetup(t),this._myUI=new PP.EasyTuneNumberArrayWidgetUI,this._myVariable=null,this._myIsVisible=!0,this._myScrollVariableRequestCallbacks=new Map,this._myAppendToVariableName=\"\",this._myValueEditIndex=-1,this._myValueButtonEditIntensity=0,this._myValueButtonEditIntensityTimer=0,this._myStepButtonEditIntensity=0,this._myStepButtonEditIntensityTimer=0,this._myValueEditActive=!1,this._myStepEditActive=!1,this._myValueRealValue=null,this._myStepMultiplierValue=null,this._myStepFastEdit=!1,this._myScrollVariableActive=!1,this._myScrollDirection=0,this._myScrollVariableTimer=0,this._myHasScrolled=!1}setEasyTuneVariable(t,i){this._myVariable=t,typeof i<\"u\"?this._myAppendToVariableName=i:this._myAppendToVariableName=\"\",this._myValueEditIndex>=0&&(this._myValueRealValue=this._myVariable.myValue[this._myValueEditIndex]),this._refreshUI()}isScrollVariableActive(){return this._myScrollVariableActive}getScrollVariableDirection(){return this._myScrollDirection}setScrollVariableActive(t,i){this._myScrollVariableActive=t,this._myScrollDirection=i,this._myScrollVariableTimer=this._mySetup.myScrollVariableDelay,this._myHasScrolled=!1}_refreshUI(){if(this._myVariable){this._myUI.myVariableLabelTextComponent.text=this._myVariable.myName.concat(this._myAppendToVariableName);for(let t=0;t<this._mySetup.myArraySize;t++)this._myUI.myValueTextComponents[t].text=this._myVariable.myValue[t].toFixed(this._myVariable.myDecimalPlaces);this._myUI.myStepTextComponent.text=this._mySetup.myStepStartString.concat(this._myVariable.myStepPerSecond)}}setVisible(t){t&&this._refreshUI(),this._myUI.setVisible(t),this._myIsVisible=t}registerScrollVariableRequestEventListener(t,i){this._myScrollVariableRequestCallbacks.set(t,i)}unregisterScrollVariableRequestEventListener(t){this._myScrollVariableRequestCallbacks.delete(t)}start(t,i){this._myUI.build(t,this._mySetup,i),this._myUI.setAdditionalButtonsActive(i.myEnableAdditionalButtons),this._addListeners()}update(t){this._isActive()&&(this._updateValue(t),this._updateScrollVariable(t))}_updateValue(t){let i=0;if(this._myGamepad){let o=this._myGamepad.getAxesInfo().myAxes[1];if(Math.abs(o)>this._mySetup.myEditThumbstickMinThreshold){let r=(Math.abs(o)-this._mySetup.myEditThumbstickMinThreshold)/(1-this._mySetup.myEditThumbstickMinThreshold);i=Math.sign(o)*r}}let s=0;if(this._myValueEditActive?s=i:this._myValueButtonEditIntensity!=0&&(this._myValueButtonEditIntensityTimer<=0?s=this._myValueButtonEditIntensity:this._myValueButtonEditIntensityTimer-=t),s!=0){let o=s*this._myVariable.myStepPerSecond*t;this._myValueRealValue+=o,this._myVariable.myMin!=null&&this._myVariable.myMax!=null?this._myValueRealValue=Math.pp_clamp(this._myValueRealValue,this._myVariable.myMin,this._myVariable.myMax):this._myVariable.myMin!=null?this._myValueRealValue=Math.max(this._myValueRealValue,this._myVariable.myMin):this._myVariable.myMax!=null&&(this._myValueRealValue=Math.min(this._myValueRealValue,this._myVariable.myMax));let r=Math.pow(10,this._myVariable.myDecimalPlaces);if(this._myVariable.myEditAllValuesTogether){let u=Math.round(this._myValueRealValue*r+Number.EPSILON)/r-this._myVariable.myValue[this._myValueEditIndex];for(let c=0;c<this._mySetup.myArraySize;c++)this._myVariable.myValue[c]=Math.round((this._myVariable.myValue[c]+u)*r+Number.EPSILON)/r,this._myVariable.myMin!=null&&this._myVariable.myMax!=null?this._myVariable.myValue[c]=Math.pp_clamp(this._myVariable.myValue[c],this._myVariable.myMin,this._myVariable.myMax):this._myVariable.myMin!=null?this._myVariable.myValue[c]=Math.max(this._myVariable.myValue[c],this._myVariable.myMin):this._myVariable.myMax!=null&&(this._myVariable.myValue[c]=Math.min(this._myVariable.myValue[c],this._myVariable.myMax)),this._myUI.myValueTextComponents[c].text=this._myVariable.myValue[c].toFixed(this._myVariable.myDecimalPlaces)}else this._myVariable.myValue[this._myValueEditIndex]=Math.round(this._myValueRealValue*r+Number.EPSILON)/r,this._myVariable.myMin!=null&&this._myVariable.myMax!=null?this._myVariable.myValue[this._myValueEditIndex]=Math.pp_clamp(this._myVariable.myValue[this._myValueEditIndex],this._myVariable.myMin,this._myVariable.myMax):this._myVariable.myMin!=null?this._myVariable.myValue[this._myValueEditIndex]=Math.max(this._myVariable.myValue[this._myValueEditIndex],this._myVariable.myMin):this._myVariable.myMax!=null&&(this._myVariable.myValue[this._myValueEditIndex]=Math.min(this._myVariable.myValue[this._myValueEditIndex],this._myVariable.myMax)),this._myUI.myValueTextComponents[this._myValueEditIndex].text=this._myVariable.myValue[this._myValueEditIndex].toFixed(this._myVariable.myDecimalPlaces)}else this._myValueRealValue=this._myVariable.myValue[this._myValueEditIndex];let n=0;if(this._myStepEditActive?n=i:this._myStepButtonEditIntensity!=0&&(this._myStepButtonEditIntensityTimer<=0?n=this._myStepButtonEditIntensity:this._myStepButtonEditIntensityTimer-=t),n!=0){let o=0;this._myStepFastEdit?(o=Math.sign(n)*1,this._myStepFastEdit=!1):o=n*this._mySetup.myStepMultiplierStepPerSecond*t,this._myStepMultiplierValue+=o,Math.abs(this._myStepMultiplierValue)>=1&&(Math.sign(this._myStepMultiplierValue)>0?(this._myStepMultiplierValue-=1,this._changeStep(this._myVariable.myStepPerSecond*10)):(this._myStepMultiplierValue+=1,this._changeStep(this._myVariable.myStepPerSecond*.1)))}else this._myStepMultiplierValue=0,this._myStepFastEdit=!0}_updateScrollVariable(t){this._myScrollVariableActive&&(this._myScrollVariableTimer<=0?(this._scrollVariableRequest(this._myScrollDirection),this._myScrollVariableTimer=this._mySetup.myScrollVariableDelay,this._myHasScrolled=!0):this._myScrollVariableTimer-=t)}_isActive(){return this._myIsVisible&&this._myVariable}_addListeners(){let t=this._myUI;t.myVariableLabelCursorTargetComponent.addClickFunction(this._resetAllValues.bind(this)),t.myVariableLabelCursorTargetComponent.addHoverFunction(this._genericTextHover.bind(this,t.myVariableLabelText)),t.myVariableLabelCursorTargetComponent.addUnHoverFunction(this._genericTextUnHover.bind(this,t.myVariableLabelText,this._mySetup.myVariableLabelTextScale)),t.myNextButtonCursorTargetComponent.addDownFunction(this._setScrollVariableActive.bind(this,!0,1,!1)),t.myNextButtonCursorTargetComponent.addDownOnHoverFunction(this._setScrollVariableActive.bind(this,!0,1,!1)),t.myNextButtonCursorTargetComponent.addUpFunction(this._setScrollVariableActive.bind(this,!1,0,!1)),t.myNextButtonCursorTargetComponent.addUpWithNoDownFunction(this._setScrollVariableActive.bind(this,!1,0,!0)),t.myNextButtonCursorTargetComponent.addUnHoverFunction(this._setScrollVariableActive.bind(this,!1,0,!0)),t.myNextButtonCursorTargetComponent.addHoverFunction(this._genericHover.bind(this,t.myNextButtonBackgroundComponent.material)),t.myNextButtonCursorTargetComponent.addUnHoverFunction(this._genericUnHover.bind(this,t.myNextButtonBackgroundComponent.material)),t.myPreviousButtonCursorTargetComponent.addDownFunction(this._setScrollVariableActive.bind(this,!0,-1,!1)),t.myPreviousButtonCursorTargetComponent.addDownOnHoverFunction(this._setScrollVariableActive.bind(this,!0,-1,!1)),t.myPreviousButtonCursorTargetComponent.addUpFunction(this._setScrollVariableActive.bind(this,!1,0,!1)),t.myPreviousButtonCursorTargetComponent.addUpWithNoDownFunction(this._setScrollVariableActive.bind(this,!1,0,!0)),t.myPreviousButtonCursorTargetComponent.addUnHoverFunction(this._setScrollVariableActive.bind(this,!1,0,!0)),t.myPreviousButtonCursorTargetComponent.addHoverFunction(this._genericHover.bind(this,t.myPreviousButtonBackgroundComponent.material)),t.myPreviousButtonCursorTargetComponent.addUnHoverFunction(this._genericUnHover.bind(this,t.myPreviousButtonBackgroundComponent.material));for(let i=0;i<this._mySetup.myArraySize;i++)t.myValueIncreaseButtonCursorTargetComponents[i].addDownFunction(this._setValueEditIntensity.bind(this,i,1)),t.myValueIncreaseButtonCursorTargetComponents[i].addDownOnHoverFunction(this._setValueEditIntensity.bind(this,i,1)),t.myValueIncreaseButtonCursorTargetComponents[i].addUpFunction(this._setValueEditIntensity.bind(this,i,0)),t.myValueIncreaseButtonCursorTargetComponents[i].addUpWithNoDownFunction(this._setValueEditIntensity.bind(this,i,0)),t.myValueIncreaseButtonCursorTargetComponents[i].addUnHoverFunction(this._setValueEditIntensity.bind(this,i,0)),t.myValueDecreaseButtonCursorTargetComponents[i].addDownFunction(this._setValueEditIntensity.bind(this,i,-1)),t.myValueDecreaseButtonCursorTargetComponents[i].addDownOnHoverFunction(this._setValueEditIntensity.bind(this,i,-1)),t.myValueDecreaseButtonCursorTargetComponents[i].addUpFunction(this._setValueEditIntensity.bind(this,i,0)),t.myValueDecreaseButtonCursorTargetComponents[i].addUpWithNoDownFunction(this._setValueEditIntensity.bind(this,i,0)),t.myValueDecreaseButtonCursorTargetComponents[i].addUnHoverFunction(this._setValueEditIntensity.bind(this,i,0)),t.myValueIncreaseButtonCursorTargetComponents[i].addHoverFunction(this._genericHover.bind(this,t.myValueIncreaseButtonBackgroundComponents[i].material)),t.myValueIncreaseButtonCursorTargetComponents[i].addUnHoverFunction(this._genericUnHover.bind(this,t.myValueIncreaseButtonBackgroundComponents[i].material)),t.myValueDecreaseButtonCursorTargetComponents[i].addHoverFunction(this._genericHover.bind(this,t.myValueDecreaseButtonBackgroundComponents[i].material)),t.myValueDecreaseButtonCursorTargetComponents[i].addUnHoverFunction(this._genericUnHover.bind(this,t.myValueDecreaseButtonBackgroundComponents[i].material)),t.myValueCursorTargetComponents[i].addClickFunction(this._resetValue.bind(this,i)),t.myValueCursorTargetComponents[i].addHoverFunction(this._setValueEditActive.bind(this,i,t.myValueTexts[i],!0)),t.myValueCursorTargetComponents[i].addUnHoverFunction(this._setValueEditActive.bind(this,i,t.myValueTexts[i],!1));t.myStepCursorTargetComponent.addClickFunction(this._resetStep.bind(this)),t.myStepCursorTargetComponent.addHoverFunction(this._setStepEditActive.bind(this,t.myStepText,!0)),t.myStepCursorTargetComponent.addUnHoverFunction(this._setStepEditActive.bind(this,t.myStepText,!1)),t.myStepIncreaseButtonCursorTargetComponent.addDownFunction(this._setStepEditIntensity.bind(this,1)),t.myStepIncreaseButtonCursorTargetComponent.addDownOnHoverFunction(this._setStepEditIntensity.bind(this,1)),t.myStepIncreaseButtonCursorTargetComponent.addUpFunction(this._setStepEditIntensity.bind(this,0)),t.myStepIncreaseButtonCursorTargetComponent.addUpWithNoDownFunction(this._setStepEditIntensity.bind(this,0)),t.myStepIncreaseButtonCursorTargetComponent.addUnHoverFunction(this._setStepEditIntensity.bind(this,0)),t.myStepDecreaseButtonCursorTargetComponent.addDownFunction(this._setStepEditIntensity.bind(this,-1)),t.myStepDecreaseButtonCursorTargetComponent.addDownOnHoverFunction(this._setStepEditIntensity.bind(this,-1)),t.myStepDecreaseButtonCursorTargetComponent.addUpFunction(this._setStepEditIntensity.bind(this,0)),t.myStepDecreaseButtonCursorTargetComponent.addUpWithNoDownFunction(this._setStepEditIntensity.bind(this,0)),t.myStepDecreaseButtonCursorTargetComponent.addUnHoverFunction(this._setStepEditIntensity.bind(this,0)),t.myStepIncreaseButtonCursorTargetComponent.addHoverFunction(this._genericHover.bind(this,t.myStepIncreaseButtonBackgroundComponent.material)),t.myStepIncreaseButtonCursorTargetComponent.addUnHoverFunction(this._genericUnHover.bind(this,t.myStepIncreaseButtonBackgroundComponent.material)),t.myStepDecreaseButtonCursorTargetComponent.addHoverFunction(this._genericHover.bind(this,t.myStepDecreaseButtonBackgroundComponent.material)),t.myStepDecreaseButtonCursorTargetComponent.addUnHoverFunction(this._genericUnHover.bind(this,t.myStepDecreaseButtonBackgroundComponent.material))}_setValueEditIntensity(t,i){(this._isActive()||i==0)&&(i!=0&&(this._myValueButtonEditIntensityTimer=this._mySetup.myButtonEditDelay,this._myValueRealValue=this._myVariable.myValue[t],this._myValueEditIndex=t),this._myValueButtonEditIntensity=i)}_setStepEditIntensity(t){(this._isActive()||t==0)&&(t!=0&&(this._myStepButtonEditIntensityTimer=this._mySetup.myButtonEditDelay),this._myStepButtonEditIntensity=t)}_setValueEditActive(t,i,s){(this._isActive()||!s)&&(s?(this._myValueRealValue=this._myVariable.myValue[t],this._myValueEditIndex=t,i.scale(this._mySetup.myTextHoverScaleMultiplier)):i.scalingWorld=this._mySetup.myValueTextScale,this._myValueEditActive=s)}_setStepEditActive(t,i){(this._isActive()||!i)&&(i?t.scale(this._mySetup.myTextHoverScaleMultiplier):t.scalingWorld=this._mySetup.myStepTextScale,this._myStepEditActive=i)}_setScrollVariableActive(t,i,s){if(this._isActive()||!t){let n=!t&&!this._myHasScrolled&&!s,o=this._myScrollDirection;this.setScrollVariableActive(t,i),n&&this._scrollVariableRequest(o)}}_scrollVariableRequest(t){if(this._isActive()&&t!=0)for(let i of this._myScrollVariableRequestCallbacks.values())i(t)}_resetValue(t){this._isActive()&&(this._myVariable.myValue[t]=this._myVariable.myInitialValue[t],this._myUI.myValueTextComponents[t].text=this._myVariable.myValue[t].toFixed(this._myVariable.myDecimalPlaces))}_resetAllValues(){for(let t=0;t<this._mySetup.myArraySize;t++)this._resetValue(t)}_resetStep(){this._isActive()&&this._changeStep(this._myVariable.myInitialStepPerSecond)}_changeStep(t){t=Math.pp_roundDecimal(t,10),this._myVariable.myStepPerSecond=t,this._myUI.myStepTextComponent.text=this._mySetup.myStepStartString.concat(this._myVariable.myStepPerSecond)}_genericHover(t){t.color=this._mySetup.myButtonHoverColor}_genericUnHover(t){t.color=this._mySetup.myBackgroundColor}_genericTextHover(t){t.scale(this._mySetup.myTextHoverScaleMultiplier)}_genericTextUnHover(t,i){t.scalingWorld=i}}});var Vs=C(()=>{PP.EasyTuneNumberArrayWidgetUI=class{build(t,i,s){this._myParentObject=t,this._mySetup=i,this._myAdditionalSetup=s,this._myAdditionalButtonsActive=!0,this._myPlaneMesh=PP.MeshUtils.createPlaneMesh(),this._createSkeleton(),this._setTransforms(),this._addComponents()}setVisible(t){this.myPivotObject.pp_setActiveHierarchy(t),t&&this.setAdditionalButtonsActive(this._myAdditionalButtonsActive)}setAdditionalButtonsActive(t){this._myAdditionalButtonsActive=t;for(let i=0;i<this._mySetup.myArraySize;i++)this.myValueIncreaseButtonPanels[i].pp_setActiveHierarchy(this._myAdditionalButtonsActive),this.myValueDecreaseButtonPanels[i].pp_setActiveHierarchy(this._myAdditionalButtonsActive);this.myStepIncreaseButtonPanel.pp_setActiveHierarchy(this._myAdditionalButtonsActive),this.myStepDecreaseButtonPanel.pp_setActiveHierarchy(this._myAdditionalButtonsActive)}_createSkeleton(){this.myPivotObject=WL.scene.addObject(this._myParentObject),this.myBackPanel=WL.scene.addObject(this.myPivotObject),this.myBackBackground=WL.scene.addObject(this.myBackPanel),this._createDisplaySkeleton(),this._createStepSkeleton(),this._createPointerSkeleton()}_createDisplaySkeleton(){this.myDisplayPanel=WL.scene.addObject(this.myPivotObject),this.myVariableLabelPanel=WL.scene.addObject(this.myDisplayPanel),this.myVariableLabelText=WL.scene.addObject(this.myVariableLabelPanel),this.myVariableLabelCursorTarget=WL.scene.addObject(this.myVariableLabelPanel),this.myNextButtonPanel=WL.scene.addObject(this.myVariableLabelPanel),this.myNextButtonBackground=WL.scene.addObject(this.myNextButtonPanel),this.myNextButtonText=WL.scene.addObject(this.myNextButtonPanel),this.myNextButtonCursorTarget=WL.scene.addObject(this.myNextButtonPanel),this.myPreviousButtonPanel=WL.scene.addObject(this.myVariableLabelPanel),this.myPreviousButtonBackground=WL.scene.addObject(this.myPreviousButtonPanel),this.myPreviousButtonText=WL.scene.addObject(this.myPreviousButtonPanel),this.myPreviousButtonCursorTarget=WL.scene.addObject(this.myPreviousButtonPanel),this.myValuesPanel=WL.scene.addObject(this.myDisplayPanel),this.myValuePanels=[],this.myValueTexts=[],this.myValueCursorTargets=[],this.myValueIncreaseButtonPanels=[],this.myValueIncreaseButtonBackgrounds=[],this.myValueIncreaseButtonTexts=[],this.myValueIncreaseButtonCursorTargets=[],this.myValueDecreaseButtonPanels=[],this.myValueDecreaseButtonBackgrounds=[],this.myValueDecreaseButtonTexts=[],this.myValueDecreaseButtonCursorTargets=[];for(let t=0;t<this._mySetup.myArraySize;t++)this.myValuePanels[t]=WL.scene.addObject(this.myValuesPanel),this.myValueTexts[t]=WL.scene.addObject(this.myValuePanels[t]),this.myValueCursorTargets[t]=WL.scene.addObject(this.myValuePanels[t]),this.myValueIncreaseButtonPanels[t]=WL.scene.addObject(this.myValuePanels[t]),this.myValueIncreaseButtonBackgrounds[t]=WL.scene.addObject(this.myValueIncreaseButtonPanels[t]),this.myValueIncreaseButtonTexts[t]=WL.scene.addObject(this.myValueIncreaseButtonPanels[t]),this.myValueIncreaseButtonCursorTargets[t]=WL.scene.addObject(this.myValueIncreaseButtonPanels[t]),this.myValueDecreaseButtonPanels[t]=WL.scene.addObject(this.myValuePanels[t]),this.myValueDecreaseButtonBackgrounds[t]=WL.scene.addObject(this.myValueDecreaseButtonPanels[t]),this.myValueDecreaseButtonTexts[t]=WL.scene.addObject(this.myValueDecreaseButtonPanels[t]),this.myValueDecreaseButtonCursorTargets[t]=WL.scene.addObject(this.myValueDecreaseButtonPanels[t])}_createStepSkeleton(){this.myStepPanel=WL.scene.addObject(this.myPivotObject),this.myStepText=WL.scene.addObject(this.myStepPanel),this.myStepCursorTarget=WL.scene.addObject(this.myStepPanel),this.myStepIncreaseButtonPanel=WL.scene.addObject(this.myStepPanel),this.myStepIncreaseButtonBackground=WL.scene.addObject(this.myStepIncreaseButtonPanel),this.myStepIncreaseButtonText=WL.scene.addObject(this.myStepIncreaseButtonPanel),this.myStepIncreaseButtonCursorTarget=WL.scene.addObject(this.myStepIncreaseButtonPanel),this.myStepDecreaseButtonPanel=WL.scene.addObject(this.myStepPanel),this.myStepDecreaseButtonBackground=WL.scene.addObject(this.myStepDecreaseButtonPanel),this.myStepDecreaseButtonText=WL.scene.addObject(this.myStepDecreaseButtonPanel),this.myStepDecreaseButtonCursorTarget=WL.scene.addObject(this.myStepDecreaseButtonPanel)}_createPointerSkeleton(){this.myPointerCursorTarget=WL.scene.addObject(this.myPivotObject)}_setTransforms(){this.myPivotObject.setTranslationLocal(this._mySetup.myPivotObjectPositions[this._myAdditionalSetup.myHandedness]),this.myBackPanel.setTranslationLocal(this._mySetup.myBackPanelPosition),this.myBackBackground.scale(this._mySetup.myBackBackgroundScale),this._setDisplayTransforms(),this._setStepTransforms(),this._setPointerTransform()}_setDisplayTransforms(){this.myDisplayPanel.setTranslationLocal(this._mySetup.myDisplayPanelPosition),this.myVariableLabelPanel.setTranslationLocal(this._mySetup.myVariableLabelPanelPosition),this.myVariableLabelText.scale(this._mySetup.myVariableLabelTextScale),this.myVariableLabelCursorTarget.setTranslationLocal(this._mySetup.myVariableLabelCursorTargetPosition),this.myNextButtonPanel.setTranslationLocal(this._mySetup.myRightSideButtonPosition),this.myNextButtonBackground.scale(this._mySetup.mySideButtonBackgroundScale),this.myNextButtonText.setTranslationLocal(this._mySetup.mySideButtonTextPosition),this.myNextButtonText.scale(this._mySetup.mySideButtonTextScale),this.myNextButtonCursorTarget.setTranslationLocal(this._mySetup.mySideButtonCursorTargetPosition),this.myPreviousButtonPanel.setTranslationLocal(this._mySetup.myLeftSideButtonPosition),this.myPreviousButtonBackground.scale(this._mySetup.mySideButtonBackgroundScale),this.myPreviousButtonText.setTranslationLocal(this._mySetup.mySideButtonTextPosition),this.myPreviousButtonText.scale(this._mySetup.mySideButtonTextScale),this.myPreviousButtonCursorTarget.setTranslationLocal(this._mySetup.mySideButtonCursorTargetPosition),this.myValuesPanel.setTranslationLocal(this._mySetup.myValuesPanelPosition);for(let t=0;t<this._mySetup.myArraySize;t++)this.myValuePanels[t].setTranslationLocal(this._mySetup.myValuePanelsPositions[t]),this.myValueTexts[t].scale(this._mySetup.myValueTextScale),this.myValueCursorTargets[t].setTranslationLocal(this._mySetup.myValueCursorTargetPosition),this.myValueIncreaseButtonPanels[t].setTranslationLocal(this._mySetup.myRightSideButtonPosition),this.myValueIncreaseButtonBackgrounds[t].scale(this._mySetup.mySideButtonBackgroundScale),this.myValueIncreaseButtonTexts[t].setTranslationLocal(this._mySetup.mySideButtonTextPosition),this.myValueIncreaseButtonTexts[t].scale(this._mySetup.mySideButtonTextScale),this.myValueIncreaseButtonCursorTargets[t].setTranslationLocal(this._mySetup.mySideButtonCursorTargetPosition),this.myValueDecreaseButtonPanels[t].setTranslationLocal(this._mySetup.myLeftSideButtonPosition),this.myValueDecreaseButtonBackgrounds[t].scale(this._mySetup.mySideButtonBackgroundScale),this.myValueDecreaseButtonTexts[t].setTranslationLocal(this._mySetup.mySideButtonTextPosition),this.myValueDecreaseButtonTexts[t].scale(this._mySetup.mySideButtonTextScale),this.myValueDecreaseButtonCursorTargets[t].setTranslationLocal(this._mySetup.mySideButtonCursorTargetPosition)}_setStepTransforms(){this.myStepPanel.setTranslationLocal(this._mySetup.myStepPanelPosition),this.myStepText.scale(this._mySetup.myStepTextScale),this.myStepCursorTarget.setTranslationLocal(this._mySetup.myStepCursorTargetPosition),this.myStepIncreaseButtonPanel.setTranslationLocal(this._mySetup.myRightSideButtonPosition),this.myStepIncreaseButtonBackground.scale(this._mySetup.mySideButtonBackgroundScale),this.myStepIncreaseButtonText.setTranslationLocal(this._mySetup.mySideButtonTextPosition),this.myStepIncreaseButtonText.scale(this._mySetup.mySideButtonTextScale),this.myStepIncreaseButtonCursorTarget.setTranslationLocal(this._mySetup.mySideButtonCursorTargetPosition),this.myStepDecreaseButtonPanel.setTranslationLocal(this._mySetup.myLeftSideButtonPosition),this.myStepDecreaseButtonBackground.scale(this._mySetup.mySideButtonBackgroundScale),this.myStepDecreaseButtonText.setTranslationLocal(this._mySetup.mySideButtonTextPosition),this.myStepDecreaseButtonText.scale(this._mySetup.mySideButtonTextScale),this.myStepDecreaseButtonCursorTarget.setTranslationLocal(this._mySetup.mySideButtonCursorTargetPosition)}_setPointerTransform(){this.myPointerCursorTarget.setTranslationLocal(this._mySetup.myPointerCursorTargetPosition)}_addComponents(){this.myBackBackgroundComponent=this.myBackBackground.addComponent(\"mesh\"),this.myBackBackgroundComponent.mesh=this._myPlaneMesh,this.myBackBackgroundComponent.material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myBackBackgroundComponent.material.color=this._mySetup.myBackBackgroundColor,this._addDisplayComponents(),this._addStepComponents(),this._addPointerComponents()}_addDisplayComponents(){this.myVariableLabelTextComponent=this.myVariableLabelText.addComponent(\"text\"),this._setupTextComponent(this.myVariableLabelTextComponent),this.myVariableLabelTextComponent.text=\" \",this.myVariableLabelCursorTargetComponent=this.myVariableLabelCursorTarget.addComponent(\"cursor-target\"),this.myVariableLabelCollisionComponent=this.myVariableLabelCursorTarget.addComponent(\"collision\"),this.myVariableLabelCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myVariableLabelCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myVariableLabelCollisionComponent.extents=this._mySetup.myVariableLabelCollisionExtents,this.myNextButtonBackgroundComponent=this.myNextButtonBackground.addComponent(\"mesh\"),this.myNextButtonBackgroundComponent.mesh=this._myPlaneMesh,this.myNextButtonBackgroundComponent.material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myNextButtonBackgroundComponent.material.color=this._mySetup.myBackgroundColor,this.myNextButtonTextComponent=this.myNextButtonText.addComponent(\"text\"),this._setupTextComponent(this.myNextButtonTextComponent),this.myNextButtonTextComponent.text=this._mySetup.myNextButtonText,this.myNextButtonCursorTargetComponent=this.myNextButtonCursorTarget.addComponent(\"cursor-target\"),this.myNextButtonCollisionComponent=this.myNextButtonCursorTarget.addComponent(\"collision\"),this.myNextButtonCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myNextButtonCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myNextButtonCollisionComponent.extents=this._mySetup.mySideButtonCollisionExtents,this.myPreviousButtonBackgroundComponent=this.myPreviousButtonBackground.addComponent(\"mesh\"),this.myPreviousButtonBackgroundComponent.mesh=this._myPlaneMesh,this.myPreviousButtonBackgroundComponent.material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myPreviousButtonBackgroundComponent.material.color=this._mySetup.myBackgroundColor,this.myPreviousButtonTextComponent=this.myPreviousButtonText.addComponent(\"text\"),this._setupTextComponent(this.myPreviousButtonTextComponent),this.myPreviousButtonTextComponent.text=this._mySetup.myPreviousButtonText,this.myPreviousButtonCursorTargetComponent=this.myPreviousButtonCursorTarget.addComponent(\"cursor-target\"),this.myPreviousButtonCollisionComponent=this.myPreviousButtonCursorTarget.addComponent(\"collision\"),this.myPreviousButtonCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myPreviousButtonCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myPreviousButtonCollisionComponent.extents=this._mySetup.mySideButtonCollisionExtents,this.myValueTextComponents=[],this.myValueCursorTargetComponents=[],this.myValueCollisionComponents=[],this.myValueIncreaseButtonBackgroundComponents=[],this.myValueIncreaseButtonTextComponents=[],this.myValueIncreaseButtonCursorTargetComponents=[],this.myValueIncreaseButtonCollisionComponents=[],this.myValueDecreaseButtonBackgroundComponents=[],this.myValueDecreaseButtonTextComponents=[],this.myValueDecreaseButtonCursorTargetComponents=[],this.myValueDecreaseButtonCollisionComponents=[];for(let t=0;t<this._mySetup.myArraySize;t++)this.myValueTextComponents[t]=this.myValueTexts[t].addComponent(\"text\"),this._setupTextComponent(this.myValueTextComponents[t]),this.myValueTextComponents[t].text=\" \",this.myValueCursorTargetComponents[t]=this.myValueCursorTargets[t].addComponent(\"cursor-target\"),this.myValueCollisionComponents[t]=this.myValueCursorTargets[t].addComponent(\"collision\"),this.myValueCollisionComponents[t].collider=this._mySetup.myCursorTargetCollisionCollider,this.myValueCollisionComponents[t].group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myValueCollisionComponents[t].extents=this._mySetup.myValueCollisionExtents,this.myValueIncreaseButtonBackgroundComponents[t]=this.myValueIncreaseButtonBackgrounds[t].addComponent(\"mesh\"),this.myValueIncreaseButtonBackgroundComponents[t].mesh=this._myPlaneMesh,this.myValueIncreaseButtonBackgroundComponents[t].material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myValueIncreaseButtonBackgroundComponents[t].material.color=this._mySetup.myBackgroundColor,this.myValueIncreaseButtonTextComponents[t]=this.myValueIncreaseButtonTexts[t].addComponent(\"text\"),this._setupTextComponent(this.myValueIncreaseButtonTextComponents[t]),this.myValueIncreaseButtonTextComponents[t].text=this._mySetup.myIncreaseButtonText,this.myValueIncreaseButtonCursorTargetComponents[t]=this.myValueIncreaseButtonCursorTargets[t].addComponent(\"cursor-target\"),this.myValueIncreaseButtonCollisionComponents[t]=this.myValueIncreaseButtonCursorTargets[t].addComponent(\"collision\"),this.myValueIncreaseButtonCollisionComponents[t].collider=this._mySetup.myCursorTargetCollisionCollider,this.myValueIncreaseButtonCollisionComponents[t].group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myValueIncreaseButtonCollisionComponents[t].extents=this._mySetup.mySideButtonCollisionExtents,this.myValueDecreaseButtonBackgroundComponents[t]=this.myValueDecreaseButtonBackgrounds[t].addComponent(\"mesh\"),this.myValueDecreaseButtonBackgroundComponents[t].mesh=this._myPlaneMesh,this.myValueDecreaseButtonBackgroundComponents[t].material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myValueDecreaseButtonBackgroundComponents[t].material.color=this._mySetup.myBackgroundColor,this.myValueDecreaseButtonTextComponents[t]=this.myValueDecreaseButtonTexts[t].addComponent(\"text\"),this._setupTextComponent(this.myValueDecreaseButtonTextComponents[t]),this.myValueDecreaseButtonTextComponents[t].text=this._mySetup.myDecreaseButtonText,this.myValueDecreaseButtonCursorTargetComponents[t]=this.myValueDecreaseButtonCursorTargets[t].addComponent(\"cursor-target\"),this.myValueDecreaseButtonCollisionComponents[t]=this.myValueDecreaseButtonCursorTargets[t].addComponent(\"collision\"),this.myValueDecreaseButtonCollisionComponents[t].collider=this._mySetup.myCursorTargetCollisionCollider,this.myValueDecreaseButtonCollisionComponents[t].group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myValueDecreaseButtonCollisionComponents[t].extents=this._mySetup.mySideButtonCollisionExtents}_addStepComponents(){this.myStepTextComponent=this.myStepText.addComponent(\"text\"),this._setupTextComponent(this.myStepTextComponent),this.myStepTextComponent.text=\" \",this.myStepCursorTargetComponent=this.myStepCursorTarget.addComponent(\"cursor-target\"),this.myStepCollisionComponent=this.myStepCursorTarget.addComponent(\"collision\"),this.myStepCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myStepCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myStepCollisionComponent.extents=this._mySetup.myStepCollisionExtents,this.myStepIncreaseButtonBackgroundComponent=this.myStepIncreaseButtonBackground.addComponent(\"mesh\"),this.myStepIncreaseButtonBackgroundComponent.mesh=this._myPlaneMesh,this.myStepIncreaseButtonBackgroundComponent.material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myStepIncreaseButtonBackgroundComponent.material.color=this._mySetup.myBackgroundColor,this.myStepIncreaseButtonTextComponent=this.myStepIncreaseButtonText.addComponent(\"text\"),this._setupTextComponent(this.myStepIncreaseButtonTextComponent),this.myStepIncreaseButtonTextComponent.text=this._mySetup.myIncreaseButtonText,this.myStepIncreaseButtonCursorTargetComponent=this.myStepIncreaseButtonCursorTarget.addComponent(\"cursor-target\"),this.myStepIncreaseButtonCollisionComponent=this.myStepIncreaseButtonCursorTarget.addComponent(\"collision\"),this.myStepIncreaseButtonCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myStepIncreaseButtonCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myStepIncreaseButtonCollisionComponent.extents=this._mySetup.mySideButtonCollisionExtents,this.myStepDecreaseButtonBackgroundComponent=this.myStepDecreaseButtonBackground.addComponent(\"mesh\"),this.myStepDecreaseButtonBackgroundComponent.mesh=this._myPlaneMesh,this.myStepDecreaseButtonBackgroundComponent.material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myStepDecreaseButtonBackgroundComponent.material.color=this._mySetup.myBackgroundColor,this.myStepDecreaseButtonTextComponent=this.myStepDecreaseButtonText.addComponent(\"text\"),this._setupTextComponent(this.myStepDecreaseButtonTextComponent),this.myStepDecreaseButtonTextComponent.text=this._mySetup.myDecreaseButtonText,this.myStepDecreaseButtonCursorTargetComponent=this.myStepDecreaseButtonCursorTarget.addComponent(\"cursor-target\"),this.myStepDecreaseButtonCollisionComponent=this.myStepDecreaseButtonCursorTarget.addComponent(\"collision\"),this.myStepDecreaseButtonCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myStepDecreaseButtonCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myStepDecreaseButtonCollisionComponent.extents=this._mySetup.mySideButtonCollisionExtents}_addPointerComponents(){this.myPointerCollisionComponent=this.myPointerCursorTarget.addComponent(\"collision\"),this.myPointerCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myPointerCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myPointerCollisionComponent.extents=this._mySetup.myPointerCollisionExtents}_setupTextComponent(t){t.alignment=this._mySetup.myTextAlignment,t.justification=this._mySetup.myTextJustification,t.material=this._myAdditionalSetup.myTextMaterial.clone(),t.material.color=this._mySetup.myTextColor,t.text=\"\"}}});var Ds=C(()=>{PP.EasyTuneNumberArrayWidgetSetup=class{constructor(t){this.myArraySize=t,this._initializeBuildSetup(),this._initializeRuntimeSetup()}_initializeBuildSetup(){this.myBackgroundColor=[46/255,46/255,46/255,1],this.myCursorTargetCollisionCollider=2,this.myCursorTargetCollisionGroup=7,this.myCursorTargetCollisionThickness=.001,this.myDefaultTextColor=[255/255,255/255,255/255,1],this.myTextAlignment=2,this.myTextJustification=2,this.myTextColor=this.myDefaultTextColor,this.myPivotObjectPositions=[],this.myPivotObjectPositions[PP.ToolHandedness.NONE]=[0,0,0],this.myPivotObjectPositions[PP.ToolHandedness.LEFT]=[-.04,.02,3713e-8],this.myPivotObjectPositions[PP.ToolHandedness.RIGHT]=[-.08,.02,3713e-8];let t=.01,i=.0125,s=.055,n=.017,o=.2;this.mySideButtonBackgroundScale=[.015,.015,1],this.mySideButtonTextScale=[.18,.18,.18],this.mySideButtonTextPosition=[0,0,.007],this.mySideButtonCursorTargetPosition=[0,0,0],this.mySideButtonCursorTargetPosition[2]=n-t,this.mySideButtonCollisionExtents=this.mySideButtonBackgroundScale.slice(0),this.mySideButtonCollisionExtents[2]=this.myCursorTargetCollisionThickness,this.myLeftSideButtonPosition=[0,0,-1e-5],this.myLeftSideButtonPosition[0]=-o+this.mySideButtonBackgroundScale[0]+i,this.myRightSideButtonPosition=[0,0,-1e-5],this.myRightSideButtonPosition[0]=o-this.mySideButtonBackgroundScale[0]-i,this.myIncreaseButtonText=\"+\",this.myDecreaseButtonText=\"-\",this.myDisplayPanelPosition=[0,.1,0],this.myVariableLabelPanelPosition=[0,.025,t],this.myVariableLabelTextScale=[.19,.19,.19],this.myVariableLabelCursorTargetPosition=[0,0,0],this.myVariableLabelCursorTargetPosition[2]=n-t,this.myVariableLabelCollisionExtents=[.065,.0175,1],this.myVariableLabelCollisionExtents[2]=this.myCursorTargetCollisionThickness,this.myNextButtonText=\">\",this.myPreviousButtonText=\"<\",this.myValuesPanelPosition=[0,this.myVariableLabelPanelPosition[1]-s,t],this.myValueTextScale=[.4,.4,.4],this.myValueCursorTargetPosition=[0,0,0],this.myValueCursorTargetPosition[2]=n-t,this.myValueCollisionExtents=[.065,.02,1],this.myValueCollisionExtents[2]=this.myCursorTargetCollisionThickness,this.myDistanceBetweenValues=this.mySideButtonBackgroundScale[1]*2+.015,this.myValuePanelsPositions=[],this.myValuePanelsPositions[0]=[0,0,0];for(let l=1;l<this.myArraySize;l++)this.myValuePanelsPositions[l]=this.myValuePanelsPositions[l-1].slice(0),this.myValuePanelsPositions[l][1]-=this.myDistanceBetweenValues;let r=this.myValuePanelsPositions[this.myArraySize-1]?this.myValuePanelsPositions[this.myArraySize-1][1]:0;this.myStepPanelPosition=[0,this.myDisplayPanelPosition[1]+this.myValuesPanelPosition[1]+r-s,t],this.myStepTextScale=[.19,.19,.19],this.myStepStartString=\"Step: \",this.myStepCursorTargetPosition=[0,0,0],this.myStepCursorTargetPosition[2]=n-this.myStepPanelPosition[2],this.myStepCollisionExtents=[.065,.0175,1],this.myStepCollisionExtents[2]=this.myCursorTargetCollisionThickness;{let l=this.myDisplayPanelPosition[1]+this.myVariableLabelPanelPosition[1]+this.mySideButtonBackgroundScale[1]+i*1.25,u=this.myStepPanelPosition[1]-i*1.25-this.mySideButtonBackgroundScale[1];this.myBackPanelPosition=[0,(l+u)/2,0],this.myBackBackgroundScale=[o,(l-u)/2,1],this.myBackBackgroundColor=[70/255,70/255,70/255,1]}this.myPointerCollisionExtents=this.myBackBackgroundScale.slice(0),this.myPointerCollisionExtents[2]=this.myCursorTargetCollisionThickness,this.myPointerCursorTargetPosition=this.myBackPanelPosition.slice(0),this.myPointerCursorTargetPosition[2]=n-1e-4}_initializeRuntimeSetup(){this.myButtonHoverColor=[150/255,150/255,150/255,1],this.myTextHoverScaleMultiplier=[1.25,1.25,1.25],this.myEditThumbstickMinThreshold=.35,this.myStepMultiplierStepPerSecond=2.25,this.myButtonEditDelay=0,this.myScrollVariableDelay=.5}}});var Rs=C(()=>{PP.EasyTuneNumberWidget=class{constructor(t){this._myGamepad=t,this._myParentObject=null,this._myAdditionalSetup=null,this._myWidgets=new Map,this._myVariable=null,this._myIsVisible=!0,this._myAppendToVariableName=null,this._myScrollVariableRequestCallbacks=new Map,this._myCurrentArraySize=0}setEasyTuneVariable(t,i){this._myVariable=t,this._myCurrentArraySize=this._myVariable.myValue.length,this._myAppendToVariableName=i,this._myWidgets.has(this._myCurrentArraySize)||this._createWidget(this._myCurrentArraySize),this._myWidgets.get(this._myCurrentArraySize).setEasyTuneVariable(t,i),this.setVisible(this._myIsVisible)}setVisible(t){if(this._myVariable){this._sizeChangedCheck();for(let i of this._myWidgets.values())i.setVisible(!1);this._myWidgets.get(this._myCurrentArraySize).setVisible(t)}this._myIsVisible=t}isScrollVariableActive(){let t=this._myWidgets.get(this._myCurrentArraySize);return t?t.isScrollVariableActive():!1}getScrollVariableDirection(){let t=this._myWidgets.get(this._myCurrentArraySize);return t?t.getScrollVariableDirection():0}setScrollVariableActive(t,i){let s=this._myWidgets.get(this._myCurrentArraySize);s&&s.setScrollVariableActive(t,i)}registerScrollVariableRequestEventListener(t,i){this._myScrollVariableRequestCallbacks.set(t,i)}unregisterScrollVariableRequestEventListener(t){this._myScrollVariableRequestCallbacks.delete(t)}start(t,i){this._myParentObject=t,this._myAdditionalSetup=i,this._createWidget(1),this._myVariable&&this.setEasyTuneVariable(this._myVariable,this._myAppendToVariableName)}update(t){this._isActive()&&(this._sizeChangedCheck(),this._myWidgets.get(this._myCurrentArraySize).update(t))}_isActive(){return this._myIsVisible&&this._myVariable}_scrollVariableRequest(t){for(let i of this._myScrollVariableRequestCallbacks.values())i(t)}_createWidget(t){this._myWidgets.set(t,new PP.EasyTuneNumberArrayWidget(t,this._myGamepad)),this._myWidgets.get(t).start(this._myParentObject,this._myAdditionalSetup),this._myWidgets.get(t).setVisible(!1),this._myWidgets.get(t).registerScrollVariableRequestEventListener(this,this._scrollVariableRequest.bind(this))}_sizeChangedCheck(){this._myVariable.myValue.length!=this._myCurrentArraySize&&this.setEasyTuneVariable(this._myVariable,this._myAppendToVariableName)}}});var Is=C(()=>{PP.EasyTuneTransformWidget=class{constructor(t){this._myGamepad=t,this._mySetup=new PP.EasyTuneTransformWidgetSetup,this._myUI=new PP.EasyTuneTransformWidgetUI,this._myVariable=null,this._myIsVisible=!0,this._myScrollVariableRequestCallbacks=new Map,this._myAppendToVariableName=\"\",this._myValueButtonEditIntensity=0,this._myValueButtonEditIntensityTimer=0,this._myStepButtonEditIntensity=0,this._myStepButtonEditIntensityTimer=0,this._myValueEditActive=!1,this._myStepEditActive=!1,this._myValueRealValue=null,this._myComponentStepValue=null,this._myStepMultiplierValue=null,this._myStepFastEdit=!1,this._myValueEditIndex=-1,this._myComponentIndex=0,this._myStepIndex=0,this._myScrollVariableActive=!1,this._myScrollDirection=0,this._myScrollVariableTimer=0,this._myHasScrolled=!1}setEasyTuneVariable(t,i){this._myVariable=t,typeof i<\"u\"?this._myAppendToVariableName=i:this._myAppendToVariableName=\"\",this._refreshUI()}isScrollVariableActive(){return this._myScrollVariableActive}getScrollVariableDirection(){return this._myScrollDirection}setScrollVariableActive(t,i){this._myScrollVariableActive=t,this._myScrollDirection=i,this._myScrollVariableTimer=this._mySetup.myScrollVariableDelay,this._myHasScrolled=!1}_refreshUI(){if(this._myVariable){this._myUI.myVariableLabelTextComponent.text=this._myVariable.myName.concat(this._myAppendToVariableName);for(let t=0;t<3;t++)this._myUI.myPositionTextComponents[t].text=this._myVariable.myPosition[t].toFixed(this._myVariable.myDecimalPlaces);this._myUI.myPositionStepTextComponent.text=this._mySetup.myStepStartString.concat(this._myVariable.myPositionStepPerSecond);for(let t=0;t<3;t++)this._myUI.myRotationTextComponents[t].text=this._myVariable.myRotation[t].toFixed(this._myVariable.myDecimalPlaces);this._myUI.myRotationStepTextComponent.text=this._mySetup.myStepStartString.concat(this._myVariable.myRotationStepPerSecond);for(let t=0;t<3;t++)this._myUI.myScaleTextComponents[t].text=this._myVariable.myScale[t].toFixed(this._myVariable.myDecimalPlaces);this._myUI.myScaleStepTextComponent.text=this._mySetup.myStepStartString.concat(this._myVariable.myScaleStepPerSecond)}}setVisible(t){t&&this._refreshUI(),this._myUI.setVisible(t),this._myIsVisible=t}registerScrollVariableRequestEventListener(t,i){this._myScrollVariableRequestCallbacks.set(t,i)}unregisterScrollVariableRequestEventListener(t){this._myScrollVariableRequestCallbacks.delete(t)}start(t,i){this._myUI.build(t,this._mySetup,i),this._myUI.setAdditionalButtonsActive(i.myEnableAdditionalButtons),this._addListeners()}update(t){this._isActive()&&(this._updateValue(t),this._updateScrollVariable(t))}_updateValue(t){let i=0;if(this._myGamepad){let o=this._myGamepad.getAxesInfo().myAxes[1];if(Math.abs(o)>this._mySetup.myEditThumbstickMinThreshold){let r=(Math.abs(o)-this._mySetup.myEditThumbstickMinThreshold)/(1-this._mySetup.myEditThumbstickMinThreshold);i=Math.sign(o)*r}}let s=0;if(this._myValueEditActive?s=i:this._myValueButtonEditIntensity!=0&&(this._myValueButtonEditIntensityTimer<=0?s=this._myValueButtonEditIntensity:this._myValueButtonEditIntensityTimer-=t),s!=0){let o=s*this._myComponentStepValue*t;this._myValueRealValue+=o;let r=Math.pow(10,this._myVariable.myDecimalPlaces);switch(this._myComponentIndex){case 0:this._myVariable.myPosition[this._myValueEditIndex]=Math.round(this._myValueRealValue*r+Number.EPSILON)/r,this._myUI.myPositionTextComponents[this._myValueEditIndex].text=this._myVariable.myPosition[this._myValueEditIndex].toFixed(this._myVariable.myDecimalPlaces);break;case 1:if(this._myValueRealValue>180){for(;this._myValueRealValue>180;)this._myValueRealValue-=180;this._myValueRealValue=-180+this._myValueRealValue}if(this._myValueRealValue<-180){for(;this._myValueRealValue<-180;)this._myValueRealValue+=180;this._myValueRealValue=180-this._myValueRealValue}this._myVariable.myRotation[this._myValueEditIndex]=Math.round(this._myValueRealValue*r+Number.EPSILON)/r,this._myUI.myRotationTextComponents[this._myValueEditIndex].text=this._myVariable.myRotation[this._myValueEditIndex].toFixed(this._myVariable.myDecimalPlaces);break;case 2:if(this._myValueRealValue<=0&&(this._myValueRealValue=1/r),this._myVariable.myScaleAsOne){let u=Math.round(this._myValueRealValue*r+Number.EPSILON)/r-this._myVariable.myScale[this._myValueEditIndex];for(let c=0;c<3;c++)this._myVariable.myScale[c]=Math.round((this._myVariable.myScale[c]+u)*r+Number.EPSILON)/r,this._myVariable.myScale[c]=Math.max(this._myVariable.myScale[c],1/r),this._myUI.myScaleTextComponents[c].text=this._myVariable.myScale[c].toFixed(this._myVariable.myDecimalPlaces)}else this._myVariable.myScale[this._myValueEditIndex]=Math.round(this._myValueRealValue*r+Number.EPSILON)/r,this._myVariable.myScale[this._myValueEditIndex]=Math.max(this._myVariable.myScale[this._myValueEditIndex],1/r),this._myUI.myScaleTextComponents[this._myValueEditIndex].text=this._myVariable.myScale[this._myValueEditIndex].toFixed(this._myVariable.myDecimalPlaces);break}}else switch(this._myComponentIndex){case 0:this._myValueRealValue=this._myVariable.myPosition[this._myValueEditIndex];break;case 1:this._myValueRealValue=this._myVariable.myRotation[this._myValueEditIndex];break;case 2:this._myValueRealValue=this._myVariable.myScale[this._myValueEditIndex];break}let n=0;if(this._myStepEditActive?n=i:this._myStepButtonEditIntensity!=0&&(this._myStepButtonEditIntensityTimer<=0?n=this._myStepButtonEditIntensity:this._myStepButtonEditIntensityTimer-=t),n!=0){let o=0;if(this._myStepFastEdit?(o=Math.sign(n)*1,this._myStepFastEdit=!1):o=n*this._mySetup.myStepMultiplierStepPerSecond*t,this._myStepMultiplierValue+=o,Math.abs(this._myStepMultiplierValue)>=1){let r=0;switch(this._myStepIndex){case 0:r=this._myVariable.myPositionStepPerSecond;break;case 1:r=this._myVariable.myRotationStepPerSecond;break;case 2:r=this._myVariable.myScaleStepPerSecond;break;default:r=0}Math.sign(this._myStepMultiplierValue)>0?(this._myStepMultiplierValue-=1,this._changeStep(this._myStepIndex,r*10)):(this._myStepMultiplierValue+=1,this._changeStep(this._myStepIndex,r*.1))}}else this._myStepMultiplierValue=0,this._myStepFastEdit=!0}_updateScrollVariable(t){this._myScrollVariableActive&&(this._myScrollVariableTimer<=0?(this._scrollVariableRequest(this._myScrollDirection),this._myScrollVariableTimer=this._mySetup.myScrollVariableDelay,this._myHasScrolled=!0):this._myScrollVariableTimer-=t)}_isActive(){return this._myIsVisible&&this._myVariable}_addListeners(){let t=this._myUI;t.myVariableLabelCursorTargetComponent.addClickFunction(this._resetAllValues.bind(this)),t.myVariableLabelCursorTargetComponent.addHoverFunction(this._genericTextHover.bind(this,t.myVariableLabelText)),t.myVariableLabelCursorTargetComponent.addUnHoverFunction(this._genericTextUnHover.bind(this,t.myVariableLabelText,this._mySetup.myVariableLabelTextScale)),t.myNextButtonCursorTargetComponent.addDownFunction(this._setScrollVariableActive.bind(this,!0,1,!1)),t.myNextButtonCursorTargetComponent.addDownOnHoverFunction(this._setScrollVariableActive.bind(this,!0,1,!1)),t.myNextButtonCursorTargetComponent.addUpFunction(this._setScrollVariableActive.bind(this,!1,0,!1)),t.myNextButtonCursorTargetComponent.addUpWithNoDownFunction(this._setScrollVariableActive.bind(this,!1,0,!0)),t.myNextButtonCursorTargetComponent.addUnHoverFunction(this._setScrollVariableActive.bind(this,!1,0,!0)),t.myNextButtonCursorTargetComponent.addHoverFunction(this._genericHover.bind(this,t.myNextButtonBackgroundComponent.material)),t.myNextButtonCursorTargetComponent.addUnHoverFunction(this._genericUnHover.bind(this,t.myNextButtonBackgroundComponent.material)),t.myPreviousButtonCursorTargetComponent.addDownFunction(this._setScrollVariableActive.bind(this,!0,-1,!1)),t.myPreviousButtonCursorTargetComponent.addDownOnHoverFunction(this._setScrollVariableActive.bind(this,!0,-1,!1)),t.myPreviousButtonCursorTargetComponent.addUpFunction(this._setScrollVariableActive.bind(this,!1,0,!1)),t.myPreviousButtonCursorTargetComponent.addUpWithNoDownFunction(this._setScrollVariableActive.bind(this,!1,0,!0)),t.myPreviousButtonCursorTargetComponent.addUnHoverFunction(this._setScrollVariableActive.bind(this,!1,0,!0)),t.myPreviousButtonCursorTargetComponent.addHoverFunction(this._genericHover.bind(this,t.myPreviousButtonBackgroundComponent.material)),t.myPreviousButtonCursorTargetComponent.addUnHoverFunction(this._genericUnHover.bind(this,t.myPreviousButtonBackgroundComponent.material)),t.myPositionLabelCursorTargetComponent.addClickFunction(this._resetComponentValues.bind(this,0)),t.myPositionLabelCursorTargetComponent.addHoverFunction(this._genericTextHover.bind(this,t.myPositionLabelText)),t.myPositionLabelCursorTargetComponent.addUnHoverFunction(this._genericTextUnHover.bind(this,t.myPositionLabelText,this._mySetup.myComponentLabelTextScale));for(let i=0;i<3;i++)t.myPositionIncreaseButtonCursorTargetComponents[i].addDownFunction(this._setValueEditIntensity.bind(this,0,i,1)),t.myPositionIncreaseButtonCursorTargetComponents[i].addDownOnHoverFunction(this._setValueEditIntensity.bind(this,0,i,1)),t.myPositionIncreaseButtonCursorTargetComponents[i].addUpFunction(this._setValueEditIntensity.bind(this,0,i,0)),t.myPositionIncreaseButtonCursorTargetComponents[i].addUpWithNoDownFunction(this._setValueEditIntensity.bind(this,0,i,0)),t.myPositionIncreaseButtonCursorTargetComponents[i].addUnHoverFunction(this._setValueEditIntensity.bind(this,0,i,0)),t.myPositionDecreaseButtonCursorTargetComponents[i].addDownFunction(this._setValueEditIntensity.bind(this,0,i,-1)),t.myPositionDecreaseButtonCursorTargetComponents[i].addDownOnHoverFunction(this._setValueEditIntensity.bind(this,0,i,-1)),t.myPositionDecreaseButtonCursorTargetComponents[i].addUpFunction(this._setValueEditIntensity.bind(this,0,i,0)),t.myPositionDecreaseButtonCursorTargetComponents[i].addUpWithNoDownFunction(this._setValueEditIntensity.bind(this,0,i,0)),t.myPositionDecreaseButtonCursorTargetComponents[i].addUnHoverFunction(this._setValueEditIntensity.bind(this,0,i,0)),t.myPositionIncreaseButtonCursorTargetComponents[i].addHoverFunction(this._genericHover.bind(this,t.myPositionIncreaseButtonBackgroundComponents[i].material)),t.myPositionIncreaseButtonCursorTargetComponents[i].addUnHoverFunction(this._genericUnHover.bind(this,t.myPositionIncreaseButtonBackgroundComponents[i].material)),t.myPositionDecreaseButtonCursorTargetComponents[i].addHoverFunction(this._genericHover.bind(this,t.myPositionDecreaseButtonBackgroundComponents[i].material)),t.myPositionDecreaseButtonCursorTargetComponents[i].addUnHoverFunction(this._genericUnHover.bind(this,t.myPositionDecreaseButtonBackgroundComponents[i].material)),t.myPositionCursorTargetComponents[i].addClickFunction(this._resetValue.bind(this,0,i)),t.myPositionCursorTargetComponents[i].addHoverFunction(this._setValueEditActive.bind(this,0,i,t.myPositionTexts[i],!0)),t.myPositionCursorTargetComponents[i].addUnHoverFunction(this._setValueEditActive.bind(this,0,i,t.myPositionTexts[i],!1));t.myRotationLabelCursorTargetComponent.addClickFunction(this._resetComponentValues.bind(this,1)),t.myRotationLabelCursorTargetComponent.addHoverFunction(this._genericTextHover.bind(this,t.myRotationLabelText)),t.myRotationLabelCursorTargetComponent.addUnHoverFunction(this._genericTextUnHover.bind(this,t.myRotationLabelText,this._mySetup.myComponentLabelTextScale));for(let i=0;i<3;i++)t.myRotationIncreaseButtonCursorTargetComponents[i].addDownFunction(this._setValueEditIntensity.bind(this,1,i,1)),t.myRotationIncreaseButtonCursorTargetComponents[i].addDownOnHoverFunction(this._setValueEditIntensity.bind(this,1,i,1)),t.myRotationIncreaseButtonCursorTargetComponents[i].addUpFunction(this._setValueEditIntensity.bind(this,1,i,0)),t.myRotationIncreaseButtonCursorTargetComponents[i].addUpWithNoDownFunction(this._setValueEditIntensity.bind(this,1,i,0)),t.myRotationIncreaseButtonCursorTargetComponents[i].addUnHoverFunction(this._setValueEditIntensity.bind(this,1,i,0)),t.myRotationDecreaseButtonCursorTargetComponents[i].addDownFunction(this._setValueEditIntensity.bind(this,1,i,-1)),t.myRotationDecreaseButtonCursorTargetComponents[i].addDownOnHoverFunction(this._setValueEditIntensity.bind(this,1,i,-1)),t.myRotationDecreaseButtonCursorTargetComponents[i].addUpFunction(this._setValueEditIntensity.bind(this,1,i,0)),t.myRotationDecreaseButtonCursorTargetComponents[i].addUpWithNoDownFunction(this._setValueEditIntensity.bind(this,1,i,0)),t.myRotationDecreaseButtonCursorTargetComponents[i].addUnHoverFunction(this._setValueEditIntensity.bind(this,1,i,0)),t.myRotationIncreaseButtonCursorTargetComponents[i].addHoverFunction(this._genericHover.bind(this,t.myRotationIncreaseButtonBackgroundComponents[i].material)),t.myRotationIncreaseButtonCursorTargetComponents[i].addUnHoverFunction(this._genericUnHover.bind(this,t.myRotationIncreaseButtonBackgroundComponents[i].material)),t.myRotationDecreaseButtonCursorTargetComponents[i].addHoverFunction(this._genericHover.bind(this,t.myRotationDecreaseButtonBackgroundComponents[i].material)),t.myRotationDecreaseButtonCursorTargetComponents[i].addUnHoverFunction(this._genericUnHover.bind(this,t.myRotationDecreaseButtonBackgroundComponents[i].material)),t.myRotationCursorTargetComponents[i].addClickFunction(this._resetValue.bind(this,1,i)),t.myRotationCursorTargetComponents[i].addHoverFunction(this._setValueEditActive.bind(this,1,i,t.myRotationTexts[i],!0)),t.myRotationCursorTargetComponents[i].addUnHoverFunction(this._setValueEditActive.bind(this,1,i,t.myRotationTexts[i],!1));t.myScaleLabelCursorTargetComponent.addClickFunction(this._resetComponentValues.bind(this,2)),t.myScaleLabelCursorTargetComponent.addHoverFunction(this._genericTextHover.bind(this,t.myScaleLabelText)),t.myScaleLabelCursorTargetComponent.addUnHoverFunction(this._genericTextUnHover.bind(this,t.myScaleLabelText,this._mySetup.myComponentLabelTextScale));for(let i=0;i<3;i++)t.myScaleIncreaseButtonCursorTargetComponents[i].addDownFunction(this._setValueEditIntensity.bind(this,2,i,1)),t.myScaleIncreaseButtonCursorTargetComponents[i].addDownOnHoverFunction(this._setValueEditIntensity.bind(this,2,i,1)),t.myScaleIncreaseButtonCursorTargetComponents[i].addUpFunction(this._setValueEditIntensity.bind(this,2,i,0)),t.myScaleIncreaseButtonCursorTargetComponents[i].addUpWithNoDownFunction(this._setValueEditIntensity.bind(this,2,i,0)),t.myScaleIncreaseButtonCursorTargetComponents[i].addUnHoverFunction(this._setValueEditIntensity.bind(this,2,i,0)),t.myScaleDecreaseButtonCursorTargetComponents[i].addDownFunction(this._setValueEditIntensity.bind(this,2,i,-1)),t.myScaleDecreaseButtonCursorTargetComponents[i].addDownOnHoverFunction(this._setValueEditIntensity.bind(this,2,i,-1)),t.myScaleDecreaseButtonCursorTargetComponents[i].addUpFunction(this._setValueEditIntensity.bind(this,2,i,0)),t.myScaleDecreaseButtonCursorTargetComponents[i].addUpWithNoDownFunction(this._setValueEditIntensity.bind(this,2,i,0)),t.myScaleDecreaseButtonCursorTargetComponents[i].addUnHoverFunction(this._setValueEditIntensity.bind(this,2,i,0)),t.myScaleIncreaseButtonCursorTargetComponents[i].addHoverFunction(this._genericHover.bind(this,t.myScaleIncreaseButtonBackgroundComponents[i].material)),t.myScaleIncreaseButtonCursorTargetComponents[i].addUnHoverFunction(this._genericUnHover.bind(this,t.myScaleIncreaseButtonBackgroundComponents[i].material)),t.myScaleDecreaseButtonCursorTargetComponents[i].addHoverFunction(this._genericHover.bind(this,t.myScaleDecreaseButtonBackgroundComponents[i].material)),t.myScaleDecreaseButtonCursorTargetComponents[i].addUnHoverFunction(this._genericUnHover.bind(this,t.myScaleDecreaseButtonBackgroundComponents[i].material)),t.myScaleCursorTargetComponents[i].addClickFunction(this._resetValue.bind(this,2,i)),t.myScaleCursorTargetComponents[i].addHoverFunction(this._setValueEditActive.bind(this,2,i,t.myScaleTexts[i],!0)),t.myScaleCursorTargetComponents[i].addUnHoverFunction(this._setValueEditActive.bind(this,2,i,t.myScaleTexts[i],!1));t.myPositionStepCursorTargetComponent.addClickFunction(this._resetStep.bind(this,0)),t.myPositionStepCursorTargetComponent.addHoverFunction(this._setStepEditActive.bind(this,0,t.myPositionStepText,!0)),t.myPositionStepCursorTargetComponent.addUnHoverFunction(this._setStepEditActive.bind(this,0,t.myPositionStepText,!1)),t.myPositionStepIncreaseButtonCursorTargetComponent.addDownFunction(this._setStepEditIntensity.bind(this,0,1)),t.myPositionStepIncreaseButtonCursorTargetComponent.addDownOnHoverFunction(this._setStepEditIntensity.bind(this,0,1)),t.myPositionStepIncreaseButtonCursorTargetComponent.addUpFunction(this._setStepEditIntensity.bind(this,0,0)),t.myPositionStepIncreaseButtonCursorTargetComponent.addUpWithNoDownFunction(this._setStepEditIntensity.bind(this,0,0)),t.myPositionStepIncreaseButtonCursorTargetComponent.addUnHoverFunction(this._setStepEditIntensity.bind(this,0,0)),t.myPositionStepDecreaseButtonCursorTargetComponent.addDownFunction(this._setStepEditIntensity.bind(this,0,-1)),t.myPositionStepDecreaseButtonCursorTargetComponent.addDownOnHoverFunction(this._setStepEditIntensity.bind(this,0,-1)),t.myPositionStepDecreaseButtonCursorTargetComponent.addUpFunction(this._setStepEditIntensity.bind(this,0,0)),t.myPositionStepDecreaseButtonCursorTargetComponent.addUpWithNoDownFunction(this._setStepEditIntensity.bind(this,0,0)),t.myPositionStepDecreaseButtonCursorTargetComponent.addUnHoverFunction(this._setStepEditIntensity.bind(this,0,0)),t.myPositionStepIncreaseButtonCursorTargetComponent.addHoverFunction(this._genericHover.bind(this,t.myPositionStepIncreaseButtonBackgroundComponent.material)),t.myPositionStepIncreaseButtonCursorTargetComponent.addUnHoverFunction(this._genericUnHover.bind(this,t.myPositionStepIncreaseButtonBackgroundComponent.material)),t.myPositionStepDecreaseButtonCursorTargetComponent.addHoverFunction(this._genericHover.bind(this,t.myPositionStepDecreaseButtonBackgroundComponent.material)),t.myPositionStepDecreaseButtonCursorTargetComponent.addUnHoverFunction(this._genericUnHover.bind(this,t.myPositionStepDecreaseButtonBackgroundComponent.material)),t.myRotationStepCursorTargetComponent.addClickFunction(this._resetStep.bind(this,1)),t.myRotationStepCursorTargetComponent.addHoverFunction(this._setStepEditActive.bind(this,1,t.myRotationStepText,!0)),t.myRotationStepCursorTargetComponent.addUnHoverFunction(this._setStepEditActive.bind(this,1,t.myRotationStepText,!1)),t.myRotationStepIncreaseButtonCursorTargetComponent.addDownFunction(this._setStepEditIntensity.bind(this,1,1)),t.myRotationStepIncreaseButtonCursorTargetComponent.addDownOnHoverFunction(this._setStepEditIntensity.bind(this,1,1)),t.myRotationStepIncreaseButtonCursorTargetComponent.addUpFunction(this._setStepEditIntensity.bind(this,1,0)),t.myRotationStepIncreaseButtonCursorTargetComponent.addUpWithNoDownFunction(this._setStepEditIntensity.bind(this,1,0)),t.myRotationStepIncreaseButtonCursorTargetComponent.addUnHoverFunction(this._setStepEditIntensity.bind(this,1,0)),t.myRotationStepDecreaseButtonCursorTargetComponent.addDownFunction(this._setStepEditIntensity.bind(this,1,-1)),t.myRotationStepDecreaseButtonCursorTargetComponent.addDownOnHoverFunction(this._setStepEditIntensity.bind(this,1,-1)),t.myRotationStepDecreaseButtonCursorTargetComponent.addUpFunction(this._setStepEditIntensity.bind(this,1,0)),t.myRotationStepDecreaseButtonCursorTargetComponent.addUpWithNoDownFunction(this._setStepEditIntensity.bind(this,1,0)),t.myRotationStepDecreaseButtonCursorTargetComponent.addUnHoverFunction(this._setStepEditIntensity.bind(this,1,0)),t.myRotationStepIncreaseButtonCursorTargetComponent.addHoverFunction(this._genericHover.bind(this,t.myRotationStepIncreaseButtonBackgroundComponent.material)),t.myRotationStepIncreaseButtonCursorTargetComponent.addUnHoverFunction(this._genericUnHover.bind(this,t.myRotationStepIncreaseButtonBackgroundComponent.material)),t.myRotationStepDecreaseButtonCursorTargetComponent.addHoverFunction(this._genericHover.bind(this,t.myRotationStepDecreaseButtonBackgroundComponent.material)),t.myRotationStepDecreaseButtonCursorTargetComponent.addUnHoverFunction(this._genericUnHover.bind(this,t.myRotationStepDecreaseButtonBackgroundComponent.material)),t.myScaleStepCursorTargetComponent.addClickFunction(this._resetStep.bind(this,2)),t.myScaleStepCursorTargetComponent.addHoverFunction(this._setStepEditActive.bind(this,2,t.myScaleStepText,!0)),t.myScaleStepCursorTargetComponent.addUnHoverFunction(this._setStepEditActive.bind(this,2,t.myScaleStepText,!1)),t.myScaleStepIncreaseButtonCursorTargetComponent.addDownFunction(this._setStepEditIntensity.bind(this,2,1)),t.myScaleStepIncreaseButtonCursorTargetComponent.addDownOnHoverFunction(this._setStepEditIntensity.bind(this,2,1)),t.myScaleStepIncreaseButtonCursorTargetComponent.addUpFunction(this._setStepEditIntensity.bind(this,2,0)),t.myScaleStepIncreaseButtonCursorTargetComponent.addUpWithNoDownFunction(this._setStepEditIntensity.bind(this,2,0)),t.myScaleStepIncreaseButtonCursorTargetComponent.addUnHoverFunction(this._setStepEditIntensity.bind(this,2,0)),t.myScaleStepDecreaseButtonCursorTargetComponent.addDownFunction(this._setStepEditIntensity.bind(this,2,-1)),t.myScaleStepDecreaseButtonCursorTargetComponent.addDownOnHoverFunction(this._setStepEditIntensity.bind(this,2,-1)),t.myScaleStepDecreaseButtonCursorTargetComponent.addUpFunction(this._setStepEditIntensity.bind(this,2,0)),t.myScaleStepDecreaseButtonCursorTargetComponent.addUpWithNoDownFunction(this._setStepEditIntensity.bind(this,2,0)),t.myScaleStepDecreaseButtonCursorTargetComponent.addUnHoverFunction(this._setStepEditIntensity.bind(this,2,0)),t.myScaleStepIncreaseButtonCursorTargetComponent.addHoverFunction(this._genericHover.bind(this,t.myScaleStepIncreaseButtonBackgroundComponent.material)),t.myScaleStepIncreaseButtonCursorTargetComponent.addUnHoverFunction(this._genericUnHover.bind(this,t.myScaleStepIncreaseButtonBackgroundComponent.material)),t.myScaleStepDecreaseButtonCursorTargetComponent.addHoverFunction(this._genericHover.bind(this,t.myScaleStepDecreaseButtonBackgroundComponent.material)),t.myScaleStepDecreaseButtonCursorTargetComponent.addUnHoverFunction(this._genericUnHover.bind(this,t.myScaleStepDecreaseButtonBackgroundComponent.material))}_setValueEditIntensity(t,i,s){if(this._isActive()||s==0){if(s!=0){switch(t){case 0:this._myValueRealValue=this._myVariable.myPosition[i],this._myComponentStepValue=this._myVariable.myPositionStepPerSecond;break;case 1:this._myValueRealValue=this._myVariable.myRotation[i],this._myComponentStepValue=this._myVariable.myRotationStepPerSecond;break;case 2:this._myValueRealValue=this._myVariable.myScale[i],this._myComponentStepValue=this._myVariable.myScaleStepPerSecond;break}this._myValueButtonEditIntensityTimer=this._mySetup.myButtonEditDelay,this._myValueEditIndex=i,this._myComponentIndex=t}this._myValueButtonEditIntensity=s}}_setStepEditIntensity(t,i){(this._isActive()||i==0)&&(i!=0&&(this._myStepButtonEditIntensityTimer=this._mySetup.myButtonEditDelay),this._myStepButtonEditIntensity=i,this._myStepIndex=t)}_setValueEditActive(t,i,s,n){if(this._isActive()||!n){if(n){switch(t){case 0:this._myValueRealValue=this._myVariable.myPosition[i],this._myComponentStepValue=this._myVariable.myPositionStepPerSecond;break;case 1:this._myValueRealValue=this._myVariable.myRotation[i],this._myComponentStepValue=this._myVariable.myRotationStepPerSecond;break;case 2:this._myValueRealValue=this._myVariable.myScale[i],this._myComponentStepValue=this._myVariable.myScaleStepPerSecond;break}this._myValueEditIndex=i,this._myComponentIndex=t,s.scale(this._mySetup.myTextHoverScaleMultiplier)}else s.scalingWorld=this._mySetup.myValueTextScale;this._myValueEditActive=n}}_setStepEditActive(t,i,s){(this._isActive()||!s)&&(s?i.scale(this._mySetup.myTextHoverScaleMultiplier):i.scalingWorld=this._mySetup.myStepTextScale,this._myStepEditActive=s,this._myStepIndex=t)}_setScrollVariableActive(t,i,s){if(this._isActive()||!t){let n=!t&&!this._myHasScrolled&&!s,o=this._myScrollDirection;this.setScrollVariableActive(t,i),n&&this._scrollVariableRequest(o)}}_scrollVariableRequest(t){if(this._isActive()&&t!=0)for(let i of this._myScrollVariableRequestCallbacks.values())i(t)}_resetValue(t,i){if(this._isActive())switch(t){case 0:this._myVariable.myPosition[i]=this._myVariable.myInitialPosition[i],this._myUI.myPositionTextComponents[i].text=this._myVariable.myPosition[i].toFixed(this._myVariable.myDecimalPlaces);break;case 1:this._myVariable.myRotation[i]=this._myVariable.myInitialRotation[i],this._myUI.myRotationTextComponents[i].text=this._myVariable.myRotation[i].toFixed(this._myVariable.myDecimalPlaces);break;case 2:this._myVariable.myScale[i]=this._myVariable.myInitialScale[i],this._myUI.myScaleTextComponents[i].text=this._myVariable.myScale[i].toFixed(this._myVariable.myDecimalPlaces);break;default:initialValue=0}}_resetAllValues(){for(let t=0;t<3;t++)this._resetComponentValues(t)}_resetComponentValues(t){for(let i=0;i<3;i++)this._resetValue(t,i)}_resetStep(t){if(this._isActive()){let i=0;switch(t){case 0:i=this._myVariable.myInitialPositionStepPerSecond;break;case 1:i=this._myVariable.myInitialRotationStepPerSecond;break;case 2:i=this._myVariable.myInitialScaleStepPerSecond;break;default:i=0}this._changeStep(t,i)}}_changeStep(t,i){switch(i=Math.pp_roundDecimal(i,10),t){case 0:this._myVariable.myPositionStepPerSecond=i,this._myUI.myPositionStepTextComponent.text=this._mySetup.myStepStartString.concat(this._myVariable.myPositionStepPerSecond);break;case 1:this._myVariable.myRotationStepPerSecond=i,this._myUI.myRotationStepTextComponent.text=this._mySetup.myStepStartString.concat(this._myVariable.myRotationStepPerSecond);break;case 2:this._myVariable.myScaleStepPerSecond=i,this._myUI.myScaleStepTextComponent.text=this._mySetup.myStepStartString.concat(this._myVariable.myScaleStepPerSecond);break}}_genericHover(t){t.color=this._mySetup.myButtonHoverColor}_genericUnHover(t){t.color=this._mySetup.myBackgroundColor}_genericTextHover(t){t.scale(this._mySetup.myTextHoverScaleMultiplier)}_genericTextUnHover(t,i){t.scalingWorld=i}}});var Os=C(()=>{PP.EasyTuneTransformWidgetUI=class{build(t,i,s){this._myParentObject=t,this._mySetup=i,this._myAdditionalSetup=s,this._myAdditionalButtonsActive=!0,this._myPlaneMesh=PP.MeshUtils.createPlaneMesh(),this._createSkeleton(),this._setTransforms(),this._addComponents()}setVisible(t){this.myPivotObject.pp_setActiveHierarchy(t),t&&this.setAdditionalButtonsActive(this._myAdditionalButtonsActive)}setAdditionalButtonsActive(t){this._myAdditionalButtonsActive=t;for(let i=0;i<3;i++)this.myPositionIncreaseButtonPanels[i].pp_setActiveHierarchy(this._myAdditionalButtonsActive),this.myPositionDecreaseButtonPanels[i].pp_setActiveHierarchy(this._myAdditionalButtonsActive);this.myPositionStepIncreaseButtonPanel.pp_setActiveHierarchy(this._myAdditionalButtonsActive),this.myPositionStepDecreaseButtonPanel.pp_setActiveHierarchy(this._myAdditionalButtonsActive);for(let i=0;i<3;i++)this.myRotationIncreaseButtonPanels[i].pp_setActiveHierarchy(this._myAdditionalButtonsActive),this.myRotationDecreaseButtonPanels[i].pp_setActiveHierarchy(this._myAdditionalButtonsActive);this.myRotationStepIncreaseButtonPanel.pp_setActiveHierarchy(this._myAdditionalButtonsActive),this.myRotationStepDecreaseButtonPanel.pp_setActiveHierarchy(this._myAdditionalButtonsActive);for(let i=0;i<3;i++)this.myScaleIncreaseButtonPanels[i].pp_setActiveHierarchy(this._myAdditionalButtonsActive),this.myScaleDecreaseButtonPanels[i].pp_setActiveHierarchy(this._myAdditionalButtonsActive);this.myScaleStepIncreaseButtonPanel.pp_setActiveHierarchy(this._myAdditionalButtonsActive),this.myScaleStepDecreaseButtonPanel.pp_setActiveHierarchy(this._myAdditionalButtonsActive)}_createSkeleton(){this.myPivotObject=WL.scene.addObject(this._myParentObject),this.myBackPanel=WL.scene.addObject(this.myPivotObject),this.myBackBackground=WL.scene.addObject(this.myBackPanel),this._createDisplaySkeleton(),this._createStepSkeleton(),this._createPointerSkeleton()}_createDisplaySkeleton(){this.myDisplayPanel=WL.scene.addObject(this.myPivotObject),this.myVariableLabelPanel=WL.scene.addObject(this.myDisplayPanel),this.myVariableLabelText=WL.scene.addObject(this.myVariableLabelPanel),this.myVariableLabelCursorTarget=WL.scene.addObject(this.myVariableLabelPanel),this.myNextButtonPanel=WL.scene.addObject(this.myVariableLabelPanel),this.myNextButtonBackground=WL.scene.addObject(this.myNextButtonPanel),this.myNextButtonText=WL.scene.addObject(this.myNextButtonPanel),this.myNextButtonCursorTarget=WL.scene.addObject(this.myNextButtonPanel),this.myPreviousButtonPanel=WL.scene.addObject(this.myVariableLabelPanel),this.myPreviousButtonBackground=WL.scene.addObject(this.myPreviousButtonPanel),this.myPreviousButtonText=WL.scene.addObject(this.myPreviousButtonPanel),this.myPreviousButtonCursorTarget=WL.scene.addObject(this.myPreviousButtonPanel),this.myPositionPanel=WL.scene.addObject(this.myDisplayPanel),this.myPositionLabelText=WL.scene.addObject(this.myPositionPanel),this.myPositionLabelCursorTarget=WL.scene.addObject(this.myPositionPanel),this.myPositionPanels=[],this.myPositionTexts=[],this.myPositionCursorTargets=[],this.myPositionIncreaseButtonPanels=[],this.myPositionIncreaseButtonBackgrounds=[],this.myPositionIncreaseButtonTexts=[],this.myPositionIncreaseButtonCursorTargets=[],this.myPositionDecreaseButtonPanels=[],this.myPositionDecreaseButtonBackgrounds=[],this.myPositionDecreaseButtonTexts=[],this.myPositionDecreaseButtonCursorTargets=[];for(let t=0;t<3;t++)this.myPositionPanels[t]=WL.scene.addObject(this.myPositionPanel),this.myPositionTexts[t]=WL.scene.addObject(this.myPositionPanels[t]),this.myPositionCursorTargets[t]=WL.scene.addObject(this.myPositionPanels[t]),this.myPositionIncreaseButtonPanels[t]=WL.scene.addObject(this.myPositionPanels[t]),this.myPositionIncreaseButtonBackgrounds[t]=WL.scene.addObject(this.myPositionIncreaseButtonPanels[t]),this.myPositionIncreaseButtonTexts[t]=WL.scene.addObject(this.myPositionIncreaseButtonPanels[t]),this.myPositionIncreaseButtonCursorTargets[t]=WL.scene.addObject(this.myPositionIncreaseButtonPanels[t]),this.myPositionDecreaseButtonPanels[t]=WL.scene.addObject(this.myPositionPanels[t]),this.myPositionDecreaseButtonBackgrounds[t]=WL.scene.addObject(this.myPositionDecreaseButtonPanels[t]),this.myPositionDecreaseButtonTexts[t]=WL.scene.addObject(this.myPositionDecreaseButtonPanels[t]),this.myPositionDecreaseButtonCursorTargets[t]=WL.scene.addObject(this.myPositionDecreaseButtonPanels[t]);this.myRotationPanel=WL.scene.addObject(this.myDisplayPanel),this.myRotationLabelText=WL.scene.addObject(this.myRotationPanel),this.myRotationLabelCursorTarget=WL.scene.addObject(this.myRotationPanel),this.myRotationPanels=[],this.myRotationTexts=[],this.myRotationCursorTargets=[],this.myRotationIncreaseButtonPanels=[],this.myRotationIncreaseButtonBackgrounds=[],this.myRotationIncreaseButtonTexts=[],this.myRotationIncreaseButtonCursorTargets=[],this.myRotationDecreaseButtonPanels=[],this.myRotationDecreaseButtonBackgrounds=[],this.myRotationDecreaseButtonTexts=[],this.myRotationDecreaseButtonCursorTargets=[];for(let t=0;t<3;t++)this.myRotationPanels[t]=WL.scene.addObject(this.myRotationPanel),this.myRotationTexts[t]=WL.scene.addObject(this.myRotationPanels[t]),this.myRotationCursorTargets[t]=WL.scene.addObject(this.myRotationPanels[t]),this.myRotationIncreaseButtonPanels[t]=WL.scene.addObject(this.myRotationPanels[t]),this.myRotationIncreaseButtonBackgrounds[t]=WL.scene.addObject(this.myRotationIncreaseButtonPanels[t]),this.myRotationIncreaseButtonTexts[t]=WL.scene.addObject(this.myRotationIncreaseButtonPanels[t]),this.myRotationIncreaseButtonCursorTargets[t]=WL.scene.addObject(this.myRotationIncreaseButtonPanels[t]),this.myRotationDecreaseButtonPanels[t]=WL.scene.addObject(this.myRotationPanels[t]),this.myRotationDecreaseButtonBackgrounds[t]=WL.scene.addObject(this.myRotationDecreaseButtonPanels[t]),this.myRotationDecreaseButtonTexts[t]=WL.scene.addObject(this.myRotationDecreaseButtonPanels[t]),this.myRotationDecreaseButtonCursorTargets[t]=WL.scene.addObject(this.myRotationDecreaseButtonPanels[t]);this.myScalePanel=WL.scene.addObject(this.myDisplayPanel),this.myScaleLabelText=WL.scene.addObject(this.myScalePanel),this.myScaleLabelCursorTarget=WL.scene.addObject(this.myScalePanel),this.myScalePanels=[],this.myScaleTexts=[],this.myScaleCursorTargets=[],this.myScaleIncreaseButtonPanels=[],this.myScaleIncreaseButtonBackgrounds=[],this.myScaleIncreaseButtonTexts=[],this.myScaleIncreaseButtonCursorTargets=[],this.myScaleDecreaseButtonPanels=[],this.myScaleDecreaseButtonBackgrounds=[],this.myScaleDecreaseButtonTexts=[],this.myScaleDecreaseButtonCursorTargets=[];for(let t=0;t<3;t++)this.myScalePanels[t]=WL.scene.addObject(this.myScalePanel),this.myScaleTexts[t]=WL.scene.addObject(this.myScalePanels[t]),this.myScaleCursorTargets[t]=WL.scene.addObject(this.myScalePanels[t]),this.myScaleIncreaseButtonPanels[t]=WL.scene.addObject(this.myScalePanels[t]),this.myScaleIncreaseButtonBackgrounds[t]=WL.scene.addObject(this.myScaleIncreaseButtonPanels[t]),this.myScaleIncreaseButtonTexts[t]=WL.scene.addObject(this.myScaleIncreaseButtonPanels[t]),this.myScaleIncreaseButtonCursorTargets[t]=WL.scene.addObject(this.myScaleIncreaseButtonPanels[t]),this.myScaleDecreaseButtonPanels[t]=WL.scene.addObject(this.myScalePanels[t]),this.myScaleDecreaseButtonBackgrounds[t]=WL.scene.addObject(this.myScaleDecreaseButtonPanels[t]),this.myScaleDecreaseButtonTexts[t]=WL.scene.addObject(this.myScaleDecreaseButtonPanels[t]),this.myScaleDecreaseButtonCursorTargets[t]=WL.scene.addObject(this.myScaleDecreaseButtonPanels[t])}_createStepSkeleton(){this.myPositionStepPanel=WL.scene.addObject(this.myPositionPanel),this.myPositionStepText=WL.scene.addObject(this.myPositionStepPanel),this.myPositionStepCursorTarget=WL.scene.addObject(this.myPositionStepPanel),this.myPositionStepIncreaseButtonPanel=WL.scene.addObject(this.myPositionStepPanel),this.myPositionStepIncreaseButtonBackground=WL.scene.addObject(this.myPositionStepIncreaseButtonPanel),this.myPositionStepIncreaseButtonText=WL.scene.addObject(this.myPositionStepIncreaseButtonPanel),this.myPositionStepIncreaseButtonCursorTarget=WL.scene.addObject(this.myPositionStepIncreaseButtonPanel),this.myPositionStepDecreaseButtonPanel=WL.scene.addObject(this.myPositionStepPanel),this.myPositionStepDecreaseButtonBackground=WL.scene.addObject(this.myPositionStepDecreaseButtonPanel),this.myPositionStepDecreaseButtonText=WL.scene.addObject(this.myPositionStepDecreaseButtonPanel),this.myPositionStepDecreaseButtonCursorTarget=WL.scene.addObject(this.myPositionStepDecreaseButtonPanel),this.myRotationStepPanel=WL.scene.addObject(this.myRotationPanel),this.myRotationStepText=WL.scene.addObject(this.myRotationStepPanel),this.myRotationStepCursorTarget=WL.scene.addObject(this.myRotationStepPanel),this.myRotationStepIncreaseButtonPanel=WL.scene.addObject(this.myRotationStepPanel),this.myRotationStepIncreaseButtonBackground=WL.scene.addObject(this.myRotationStepIncreaseButtonPanel),this.myRotationStepIncreaseButtonText=WL.scene.addObject(this.myRotationStepIncreaseButtonPanel),this.myRotationStepIncreaseButtonCursorTarget=WL.scene.addObject(this.myRotationStepIncreaseButtonPanel),this.myRotationStepDecreaseButtonPanel=WL.scene.addObject(this.myRotationStepPanel),this.myRotationStepDecreaseButtonBackground=WL.scene.addObject(this.myRotationStepDecreaseButtonPanel),this.myRotationStepDecreaseButtonText=WL.scene.addObject(this.myRotationStepDecreaseButtonPanel),this.myRotationStepDecreaseButtonCursorTarget=WL.scene.addObject(this.myRotationStepDecreaseButtonPanel),this.myScaleStepPanel=WL.scene.addObject(this.myScalePanel),this.myScaleStepText=WL.scene.addObject(this.myScaleStepPanel),this.myScaleStepCursorTarget=WL.scene.addObject(this.myScaleStepPanel),this.myScaleStepIncreaseButtonPanel=WL.scene.addObject(this.myScaleStepPanel),this.myScaleStepIncreaseButtonBackground=WL.scene.addObject(this.myScaleStepIncreaseButtonPanel),this.myScaleStepIncreaseButtonText=WL.scene.addObject(this.myScaleStepIncreaseButtonPanel),this.myScaleStepIncreaseButtonCursorTarget=WL.scene.addObject(this.myScaleStepIncreaseButtonPanel),this.myScaleStepDecreaseButtonPanel=WL.scene.addObject(this.myScaleStepPanel),this.myScaleStepDecreaseButtonBackground=WL.scene.addObject(this.myScaleStepDecreaseButtonPanel),this.myScaleStepDecreaseButtonText=WL.scene.addObject(this.myScaleStepDecreaseButtonPanel),this.myScaleStepDecreaseButtonCursorTarget=WL.scene.addObject(this.myScaleStepDecreaseButtonPanel)}_createPointerSkeleton(){this.myPointerCursorTarget=WL.scene.addObject(this.myPivotObject)}_setTransforms(){this.myPivotObject.setTranslationLocal(this._mySetup.myPivotObjectPositions[this._myAdditionalSetup.myHandedness]),this.myBackPanel.setTranslationLocal(this._mySetup.myBackPanelPosition),this.myBackBackground.scale(this._mySetup.myBackBackgroundScale),this._setDisplayTransforms(),this._setStepTransforms(),this._setPointerTransform()}_setDisplayTransforms(){this.myDisplayPanel.setTranslationLocal(this._mySetup.myDisplayPanelPosition),this.myVariableLabelPanel.setTranslationLocal(this._mySetup.myVariableLabelPanelPosition),this.myVariableLabelText.scale(this._mySetup.myVariableLabelTextScale),this.myVariableLabelCursorTarget.setTranslationLocal(this._mySetup.myVariableLabelCursorTargetPosition),this.myNextButtonPanel.setTranslationLocal(this._mySetup.myNextButtonPosition),this.myNextButtonBackground.scale(this._mySetup.mySideButtonBackgroundScale),this.myNextButtonText.setTranslationLocal(this._mySetup.mySideButtonTextPosition),this.myNextButtonText.scale(this._mySetup.mySideButtonTextScale),this.myNextButtonCursorTarget.setTranslationLocal(this._mySetup.mySideButtonCursorTargetPosition),this.myPreviousButtonPanel.setTranslationLocal(this._mySetup.myPreviousButtonPosition),this.myPreviousButtonBackground.scale(this._mySetup.mySideButtonBackgroundScale),this.myPreviousButtonText.setTranslationLocal(this._mySetup.mySideButtonTextPosition),this.myPreviousButtonText.scale(this._mySetup.mySideButtonTextScale),this.myPreviousButtonCursorTarget.setTranslationLocal(this._mySetup.mySideButtonCursorTargetPosition),this.myPositionPanel.setTranslationLocal(this._mySetup.myPositionPanelPosition),this.myPositionLabelText.scale(this._mySetup.myComponentLabelTextScale),this.myPositionLabelCursorTarget.setTranslationLocal(this._mySetup.myComponentLabelCursorTargetPosition);for(let t=0;t<3;t++)this.myPositionPanels[t].setTranslationLocal(this._mySetup.myValuePanelsPositions[t]),this.myPositionTexts[t].scale(this._mySetup.myValueTextScale),this.myPositionCursorTargets[t].setTranslationLocal(this._mySetup.myValueCursorTargetPosition),this.myPositionIncreaseButtonPanels[t].setTranslationLocal(this._mySetup.myRightSideButtonPosition),this.myPositionIncreaseButtonBackgrounds[t].scale(this._mySetup.mySideButtonBackgroundScale),this.myPositionIncreaseButtonTexts[t].setTranslationLocal(this._mySetup.mySideButtonTextPosition),this.myPositionIncreaseButtonTexts[t].scale(this._mySetup.mySideButtonTextScale),this.myPositionIncreaseButtonCursorTargets[t].setTranslationLocal(this._mySetup.mySideButtonCursorTargetPosition),this.myPositionDecreaseButtonPanels[t].setTranslationLocal(this._mySetup.myLeftSideButtonPosition),this.myPositionDecreaseButtonBackgrounds[t].scale(this._mySetup.mySideButtonBackgroundScale),this.myPositionDecreaseButtonTexts[t].setTranslationLocal(this._mySetup.mySideButtonTextPosition),this.myPositionDecreaseButtonTexts[t].scale(this._mySetup.mySideButtonTextScale),this.myPositionDecreaseButtonCursorTargets[t].setTranslationLocal(this._mySetup.mySideButtonCursorTargetPosition);this.myRotationPanel.setTranslationLocal(this._mySetup.myRotationPanelPosition),this.myRotationLabelText.scale(this._mySetup.myComponentLabelTextScale),this.myRotationLabelCursorTarget.setTranslationLocal(this._mySetup.myComponentLabelCursorTargetPosition);for(let t=0;t<3;t++)this.myRotationPanels[t].setTranslationLocal(this._mySetup.myValuePanelsPositions[t]),this.myRotationTexts[t].scale(this._mySetup.myValueTextScale),this.myRotationCursorTargets[t].setTranslationLocal(this._mySetup.myValueCursorTargetPosition),this.myRotationIncreaseButtonPanels[t].setTranslationLocal(this._mySetup.myRightSideButtonPosition),this.myRotationIncreaseButtonBackgrounds[t].scale(this._mySetup.mySideButtonBackgroundScale),this.myRotationIncreaseButtonTexts[t].setTranslationLocal(this._mySetup.mySideButtonTextPosition),this.myRotationIncreaseButtonTexts[t].scale(this._mySetup.mySideButtonTextScale),this.myRotationIncreaseButtonCursorTargets[t].setTranslationLocal(this._mySetup.mySideButtonCursorTargetPosition),this.myRotationDecreaseButtonPanels[t].setTranslationLocal(this._mySetup.myLeftSideButtonPosition),this.myRotationDecreaseButtonBackgrounds[t].scale(this._mySetup.mySideButtonBackgroundScale),this.myRotationDecreaseButtonTexts[t].setTranslationLocal(this._mySetup.mySideButtonTextPosition),this.myRotationDecreaseButtonTexts[t].scale(this._mySetup.mySideButtonTextScale),this.myRotationDecreaseButtonCursorTargets[t].setTranslationLocal(this._mySetup.mySideButtonCursorTargetPosition);this.myScalePanel.setTranslationLocal(this._mySetup.myScalePanelPosition),this.myScaleLabelText.scale(this._mySetup.myComponentLabelTextScale),this.myScaleLabelCursorTarget.setTranslationLocal(this._mySetup.myComponentLabelCursorTargetPosition);for(let t=0;t<3;t++)this.myScalePanels[t].setTranslationLocal(this._mySetup.myValuePanelsPositions[t]),this.myScaleTexts[t].scale(this._mySetup.myValueTextScale),this.myScaleCursorTargets[t].setTranslationLocal(this._mySetup.myValueCursorTargetPosition),this.myScaleIncreaseButtonPanels[t].setTranslationLocal(this._mySetup.myRightSideButtonPosition),this.myScaleIncreaseButtonBackgrounds[t].scale(this._mySetup.mySideButtonBackgroundScale),this.myScaleIncreaseButtonTexts[t].setTranslationLocal(this._mySetup.mySideButtonTextPosition),this.myScaleIncreaseButtonTexts[t].scale(this._mySetup.mySideButtonTextScale),this.myScaleIncreaseButtonCursorTargets[t].setTranslationLocal(this._mySetup.mySideButtonCursorTargetPosition),this.myScaleDecreaseButtonPanels[t].setTranslationLocal(this._mySetup.myLeftSideButtonPosition),this.myScaleDecreaseButtonBackgrounds[t].scale(this._mySetup.mySideButtonBackgroundScale),this.myScaleDecreaseButtonTexts[t].setTranslationLocal(this._mySetup.mySideButtonTextPosition),this.myScaleDecreaseButtonTexts[t].scale(this._mySetup.mySideButtonTextScale),this.myScaleDecreaseButtonCursorTargets[t].setTranslationLocal(this._mySetup.mySideButtonCursorTargetPosition)}_setStepTransforms(){this.myPositionStepPanel.setTranslationLocal(this._mySetup.myStepPanelPosition),this.myPositionStepText.scale(this._mySetup.myStepTextScale),this.myPositionStepCursorTarget.setTranslationLocal(this._mySetup.myStepCursorTargetPosition),this.myPositionStepIncreaseButtonPanel.setTranslationLocal(this._mySetup.myRightSideButtonPosition),this.myPositionStepIncreaseButtonBackground.scale(this._mySetup.mySideButtonBackgroundScale),this.myPositionStepIncreaseButtonText.setTranslationLocal(this._mySetup.mySideButtonTextPosition),this.myPositionStepIncreaseButtonText.scale(this._mySetup.mySideButtonTextScale),this.myPositionStepIncreaseButtonCursorTarget.setTranslationLocal(this._mySetup.mySideButtonCursorTargetPosition),this.myPositionStepDecreaseButtonPanel.setTranslationLocal(this._mySetup.myLeftSideButtonPosition),this.myPositionStepDecreaseButtonBackground.scale(this._mySetup.mySideButtonBackgroundScale),this.myPositionStepDecreaseButtonText.setTranslationLocal(this._mySetup.mySideButtonTextPosition),this.myPositionStepDecreaseButtonText.scale(this._mySetup.mySideButtonTextScale),this.myPositionStepDecreaseButtonCursorTarget.setTranslationLocal(this._mySetup.mySideButtonCursorTargetPosition),this.myRotationStepPanel.setTranslationLocal(this._mySetup.myStepPanelPosition),this.myRotationStepText.scale(this._mySetup.myStepTextScale),this.myRotationStepCursorTarget.setTranslationLocal(this._mySetup.myStepCursorTargetPosition),this.myRotationStepIncreaseButtonPanel.setTranslationLocal(this._mySetup.myRightSideButtonPosition),this.myRotationStepIncreaseButtonBackground.scale(this._mySetup.mySideButtonBackgroundScale),this.myRotationStepIncreaseButtonText.setTranslationLocal(this._mySetup.mySideButtonTextPosition),this.myRotationStepIncreaseButtonText.scale(this._mySetup.mySideButtonTextScale),this.myRotationStepIncreaseButtonCursorTarget.setTranslationLocal(this._mySetup.mySideButtonCursorTargetPosition),this.myRotationStepDecreaseButtonPanel.setTranslationLocal(this._mySetup.myLeftSideButtonPosition),this.myRotationStepDecreaseButtonBackground.scale(this._mySetup.mySideButtonBackgroundScale),this.myRotationStepDecreaseButtonText.setTranslationLocal(this._mySetup.mySideButtonTextPosition),this.myRotationStepDecreaseButtonText.scale(this._mySetup.mySideButtonTextScale),this.myRotationStepDecreaseButtonCursorTarget.setTranslationLocal(this._mySetup.mySideButtonCursorTargetPosition),this.myScaleStepPanel.setTranslationLocal(this._mySetup.myStepPanelPosition),this.myScaleStepText.scale(this._mySetup.myStepTextScale),this.myScaleStepCursorTarget.setTranslationLocal(this._mySetup.myStepCursorTargetPosition),this.myScaleStepIncreaseButtonPanel.setTranslationLocal(this._mySetup.myRightSideButtonPosition),this.myScaleStepIncreaseButtonBackground.scale(this._mySetup.mySideButtonBackgroundScale),this.myScaleStepIncreaseButtonText.setTranslationLocal(this._mySetup.mySideButtonTextPosition),this.myScaleStepIncreaseButtonText.scale(this._mySetup.mySideButtonTextScale),this.myScaleStepIncreaseButtonCursorTarget.setTranslationLocal(this._mySetup.mySideButtonCursorTargetPosition),this.myScaleStepDecreaseButtonPanel.setTranslationLocal(this._mySetup.myLeftSideButtonPosition),this.myScaleStepDecreaseButtonBackground.scale(this._mySetup.mySideButtonBackgroundScale),this.myScaleStepDecreaseButtonText.setTranslationLocal(this._mySetup.mySideButtonTextPosition),this.myScaleStepDecreaseButtonText.scale(this._mySetup.mySideButtonTextScale),this.myScaleStepDecreaseButtonCursorTarget.setTranslationLocal(this._mySetup.mySideButtonCursorTargetPosition)}_setPointerTransform(){this.myPointerCursorTarget.setTranslationLocal(this._mySetup.myPointerCursorTargetPosition)}_addComponents(){this.myBackBackgroundComponent=this.myBackBackground.addComponent(\"mesh\"),this.myBackBackgroundComponent.mesh=this._myPlaneMesh,this.myBackBackgroundComponent.material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myBackBackgroundComponent.material.color=this._mySetup.myBackBackgroundColor,this._addDisplayComponents(),this._addStepComponents(),this._addPointerComponents()}_addDisplayComponents(){this.myVariableLabelTextComponent=this.myVariableLabelText.addComponent(\"text\"),this._setupTextComponent(this.myVariableLabelTextComponent),this.myVariableLabelTextComponent.text=\" \",this.myVariableLabelCursorTargetComponent=this.myVariableLabelCursorTarget.addComponent(\"cursor-target\"),this.myVariableLabelCollisionComponent=this.myVariableLabelCursorTarget.addComponent(\"collision\"),this.myVariableLabelCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myVariableLabelCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myVariableLabelCollisionComponent.extents=this._mySetup.myVariableLabelCollisionExtents,this.myNextButtonBackgroundComponent=this.myNextButtonBackground.addComponent(\"mesh\"),this.myNextButtonBackgroundComponent.mesh=this._myPlaneMesh,this.myNextButtonBackgroundComponent.material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myNextButtonBackgroundComponent.material.color=this._mySetup.myBackgroundColor,this.myNextButtonTextComponent=this.myNextButtonText.addComponent(\"text\"),this._setupTextComponent(this.myNextButtonTextComponent),this.myNextButtonTextComponent.text=this._mySetup.myNextButtonText,this.myNextButtonCursorTargetComponent=this.myNextButtonCursorTarget.addComponent(\"cursor-target\"),this.myNextButtonCollisionComponent=this.myNextButtonCursorTarget.addComponent(\"collision\"),this.myNextButtonCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myNextButtonCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myNextButtonCollisionComponent.extents=this._mySetup.mySideButtonCollisionExtents,this.myPreviousButtonBackgroundComponent=this.myPreviousButtonBackground.addComponent(\"mesh\"),this.myPreviousButtonBackgroundComponent.mesh=this._myPlaneMesh,this.myPreviousButtonBackgroundComponent.material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myPreviousButtonBackgroundComponent.material.color=this._mySetup.myBackgroundColor,this.myPreviousButtonTextComponent=this.myPreviousButtonText.addComponent(\"text\"),this._setupTextComponent(this.myPreviousButtonTextComponent),this.myPreviousButtonTextComponent.text=this._mySetup.myPreviousButtonText,this.myPreviousButtonCursorTargetComponent=this.myPreviousButtonCursorTarget.addComponent(\"cursor-target\"),this.myPreviousButtonCollisionComponent=this.myPreviousButtonCursorTarget.addComponent(\"collision\"),this.myPreviousButtonCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myPreviousButtonCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myPreviousButtonCollisionComponent.extents=this._mySetup.mySideButtonCollisionExtents,this.myPositionLabelTextComponent=this.myPositionLabelText.addComponent(\"text\"),this._setupTextComponent(this.myPositionLabelTextComponent),this.myPositionLabelTextComponent.text=this._mySetup.myPositionText,this.myPositionLabelCursorTargetComponent=this.myPositionLabelCursorTarget.addComponent(\"cursor-target\"),this.myPositionLabelCollisionComponent=this.myPositionLabelCursorTarget.addComponent(\"collision\"),this.myPositionLabelCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myPositionLabelCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myPositionLabelCollisionComponent.extents=this._mySetup.myComponentLabelCollisionExtents,this.myPositionTextComponents=[],this.myPositionCursorTargetComponents=[],this.myPositionCollisionComponents=[],this.myPositionIncreaseButtonBackgroundComponents=[],this.myPositionIncreaseButtonTextComponents=[],this.myPositionIncreaseButtonCursorTargetComponents=[],this.myPositionIncreaseButtonCollisionComponents=[],this.myPositionDecreaseButtonBackgroundComponents=[],this.myPositionDecreaseButtonTextComponents=[],this.myPositionDecreaseButtonCursorTargetComponents=[],this.myPositionDecreaseButtonCollisionComponents=[];for(let t=0;t<3;t++)this.myPositionTextComponents[t]=this.myPositionTexts[t].addComponent(\"text\"),this._setupTextComponent(this.myPositionTextComponents[t]),this.myPositionTextComponents[t].text=\" \",this.myPositionCursorTargetComponents[t]=this.myPositionCursorTargets[t].addComponent(\"cursor-target\"),this.myPositionCollisionComponents[t]=this.myPositionCursorTargets[t].addComponent(\"collision\"),this.myPositionCollisionComponents[t].collider=this._mySetup.myCursorTargetCollisionCollider,this.myPositionCollisionComponents[t].group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myPositionCollisionComponents[t].extents=this._mySetup.myValueCollisionExtents,this.myPositionIncreaseButtonBackgroundComponents[t]=this.myPositionIncreaseButtonBackgrounds[t].addComponent(\"mesh\"),this.myPositionIncreaseButtonBackgroundComponents[t].mesh=this._myPlaneMesh,this.myPositionIncreaseButtonBackgroundComponents[t].material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myPositionIncreaseButtonBackgroundComponents[t].material.color=this._mySetup.myBackgroundColor,this.myPositionIncreaseButtonTextComponents[t]=this.myPositionIncreaseButtonTexts[t].addComponent(\"text\"),this._setupTextComponent(this.myPositionIncreaseButtonTextComponents[t]),this.myPositionIncreaseButtonTextComponents[t].text=this._mySetup.myIncreaseButtonText,this.myPositionIncreaseButtonCursorTargetComponents[t]=this.myPositionIncreaseButtonCursorTargets[t].addComponent(\"cursor-target\"),this.myPositionIncreaseButtonCollisionComponents[t]=this.myPositionIncreaseButtonCursorTargets[t].addComponent(\"collision\"),this.myPositionIncreaseButtonCollisionComponents[t].collider=this._mySetup.myCursorTargetCollisionCollider,this.myPositionIncreaseButtonCollisionComponents[t].group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myPositionIncreaseButtonCollisionComponents[t].extents=this._mySetup.mySideButtonCollisionExtents,this.myPositionDecreaseButtonBackgroundComponents[t]=this.myPositionDecreaseButtonBackgrounds[t].addComponent(\"mesh\"),this.myPositionDecreaseButtonBackgroundComponents[t].mesh=this._myPlaneMesh,this.myPositionDecreaseButtonBackgroundComponents[t].material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myPositionDecreaseButtonBackgroundComponents[t].material.color=this._mySetup.myBackgroundColor,this.myPositionDecreaseButtonTextComponents[t]=this.myPositionDecreaseButtonTexts[t].addComponent(\"text\"),this._setupTextComponent(this.myPositionDecreaseButtonTextComponents[t]),this.myPositionDecreaseButtonTextComponents[t].text=this._mySetup.myDecreaseButtonText,this.myPositionDecreaseButtonCursorTargetComponents[t]=this.myPositionDecreaseButtonCursorTargets[t].addComponent(\"cursor-target\"),this.myPositionDecreaseButtonCollisionComponents[t]=this.myPositionDecreaseButtonCursorTargets[t].addComponent(\"collision\"),this.myPositionDecreaseButtonCollisionComponents[t].collider=this._mySetup.myCursorTargetCollisionCollider,this.myPositionDecreaseButtonCollisionComponents[t].group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myPositionDecreaseButtonCollisionComponents[t].extents=this._mySetup.mySideButtonCollisionExtents;this.myRotationLabelTextComponent=this.myRotationLabelText.addComponent(\"text\"),this._setupTextComponent(this.myRotationLabelTextComponent),this.myRotationLabelTextComponent.text=this._mySetup.myRotationText,this.myRotationLabelCursorTargetComponent=this.myRotationLabelCursorTarget.addComponent(\"cursor-target\"),this.myRotationLabelCollisionComponent=this.myRotationLabelCursorTarget.addComponent(\"collision\"),this.myRotationLabelCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myRotationLabelCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myRotationLabelCollisionComponent.extents=this._mySetup.myComponentLabelCollisionExtents,this.myRotationTextComponents=[],this.myRotationCursorTargetComponents=[],this.myRotationCollisionComponents=[],this.myRotationIncreaseButtonBackgroundComponents=[],this.myRotationIncreaseButtonTextComponents=[],this.myRotationIncreaseButtonCursorTargetComponents=[],this.myRotationIncreaseButtonCollisionComponents=[],this.myRotationDecreaseButtonBackgroundComponents=[],this.myRotationDecreaseButtonTextComponents=[],this.myRotationDecreaseButtonCursorTargetComponents=[],this.myRotationDecreaseButtonCollisionComponents=[];for(let t=0;t<3;t++)this.myRotationTextComponents[t]=this.myRotationTexts[t].addComponent(\"text\"),this._setupTextComponent(this.myRotationTextComponents[t]),this.myRotationTextComponents[t].text=\" \",this.myRotationCursorTargetComponents[t]=this.myRotationCursorTargets[t].addComponent(\"cursor-target\"),this.myRotationCollisionComponents[t]=this.myRotationCursorTargets[t].addComponent(\"collision\"),this.myRotationCollisionComponents[t].collider=this._mySetup.myCursorTargetCollisionCollider,this.myRotationCollisionComponents[t].group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myRotationCollisionComponents[t].extents=this._mySetup.myValueCollisionExtents,this.myRotationIncreaseButtonBackgroundComponents[t]=this.myRotationIncreaseButtonBackgrounds[t].addComponent(\"mesh\"),this.myRotationIncreaseButtonBackgroundComponents[t].mesh=this._myPlaneMesh,this.myRotationIncreaseButtonBackgroundComponents[t].material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myRotationIncreaseButtonBackgroundComponents[t].material.color=this._mySetup.myBackgroundColor,this.myRotationIncreaseButtonTextComponents[t]=this.myRotationIncreaseButtonTexts[t].addComponent(\"text\"),this._setupTextComponent(this.myRotationIncreaseButtonTextComponents[t]),this.myRotationIncreaseButtonTextComponents[t].text=this._mySetup.myIncreaseButtonText,this.myRotationIncreaseButtonCursorTargetComponents[t]=this.myRotationIncreaseButtonCursorTargets[t].addComponent(\"cursor-target\"),this.myRotationIncreaseButtonCollisionComponents[t]=this.myRotationIncreaseButtonCursorTargets[t].addComponent(\"collision\"),this.myRotationIncreaseButtonCollisionComponents[t].collider=this._mySetup.myCursorTargetCollisionCollider,this.myRotationIncreaseButtonCollisionComponents[t].group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myRotationIncreaseButtonCollisionComponents[t].extents=this._mySetup.mySideButtonCollisionExtents,this.myRotationDecreaseButtonBackgroundComponents[t]=this.myRotationDecreaseButtonBackgrounds[t].addComponent(\"mesh\"),this.myRotationDecreaseButtonBackgroundComponents[t].mesh=this._myPlaneMesh,this.myRotationDecreaseButtonBackgroundComponents[t].material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myRotationDecreaseButtonBackgroundComponents[t].material.color=this._mySetup.myBackgroundColor,this.myRotationDecreaseButtonTextComponents[t]=this.myRotationDecreaseButtonTexts[t].addComponent(\"text\"),this._setupTextComponent(this.myRotationDecreaseButtonTextComponents[t]),this.myRotationDecreaseButtonTextComponents[t].text=this._mySetup.myDecreaseButtonText,this.myRotationDecreaseButtonCursorTargetComponents[t]=this.myRotationDecreaseButtonCursorTargets[t].addComponent(\"cursor-target\"),this.myRotationDecreaseButtonCollisionComponents[t]=this.myRotationDecreaseButtonCursorTargets[t].addComponent(\"collision\"),this.myRotationDecreaseButtonCollisionComponents[t].collider=this._mySetup.myCursorTargetCollisionCollider,this.myRotationDecreaseButtonCollisionComponents[t].group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myRotationDecreaseButtonCollisionComponents[t].extents=this._mySetup.mySideButtonCollisionExtents;this.myScaleLabelTextComponent=this.myScaleLabelText.addComponent(\"text\"),this._setupTextComponent(this.myScaleLabelTextComponent),this.myScaleLabelTextComponent.text=this._mySetup.myScaleText,this.myScaleLabelCursorTargetComponent=this.myScaleLabelCursorTarget.addComponent(\"cursor-target\"),this.myScaleLabelCollisionComponent=this.myScaleLabelCursorTarget.addComponent(\"collision\"),this.myScaleLabelCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myScaleLabelCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myScaleLabelCollisionComponent.extents=this._mySetup.myComponentLabelCollisionExtents,this.myScaleTextComponents=[],this.myScaleCursorTargetComponents=[],this.myScaleCollisionComponents=[],this.myScaleIncreaseButtonBackgroundComponents=[],this.myScaleIncreaseButtonTextComponents=[],this.myScaleIncreaseButtonCursorTargetComponents=[],this.myScaleIncreaseButtonCollisionComponents=[],this.myScaleDecreaseButtonBackgroundComponents=[],this.myScaleDecreaseButtonTextComponents=[],this.myScaleDecreaseButtonCursorTargetComponents=[],this.myScaleDecreaseButtonCollisionComponents=[];for(let t=0;t<3;t++)this.myScaleTextComponents[t]=this.myScaleTexts[t].addComponent(\"text\"),this._setupTextComponent(this.myScaleTextComponents[t]),this.myScaleTextComponents[t].text=\" \",this.myScaleCursorTargetComponents[t]=this.myScaleCursorTargets[t].addComponent(\"cursor-target\"),this.myScaleCollisionComponents[t]=this.myScaleCursorTargets[t].addComponent(\"collision\"),this.myScaleCollisionComponents[t].collider=this._mySetup.myCursorTargetCollisionCollider,this.myScaleCollisionComponents[t].group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myScaleCollisionComponents[t].extents=this._mySetup.myValueCollisionExtents,this.myScaleIncreaseButtonBackgroundComponents[t]=this.myScaleIncreaseButtonBackgrounds[t].addComponent(\"mesh\"),this.myScaleIncreaseButtonBackgroundComponents[t].mesh=this._myPlaneMesh,this.myScaleIncreaseButtonBackgroundComponents[t].material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myScaleIncreaseButtonBackgroundComponents[t].material.color=this._mySetup.myBackgroundColor,this.myScaleIncreaseButtonTextComponents[t]=this.myScaleIncreaseButtonTexts[t].addComponent(\"text\"),this._setupTextComponent(this.myScaleIncreaseButtonTextComponents[t]),this.myScaleIncreaseButtonTextComponents[t].text=this._mySetup.myIncreaseButtonText,this.myScaleIncreaseButtonCursorTargetComponents[t]=this.myScaleIncreaseButtonCursorTargets[t].addComponent(\"cursor-target\"),this.myScaleIncreaseButtonCollisionComponents[t]=this.myScaleIncreaseButtonCursorTargets[t].addComponent(\"collision\"),this.myScaleIncreaseButtonCollisionComponents[t].collider=this._mySetup.myCursorTargetCollisionCollider,this.myScaleIncreaseButtonCollisionComponents[t].group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myScaleIncreaseButtonCollisionComponents[t].extents=this._mySetup.mySideButtonCollisionExtents,this.myScaleDecreaseButtonBackgroundComponents[t]=this.myScaleDecreaseButtonBackgrounds[t].addComponent(\"mesh\"),this.myScaleDecreaseButtonBackgroundComponents[t].mesh=this._myPlaneMesh,this.myScaleDecreaseButtonBackgroundComponents[t].material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myScaleDecreaseButtonBackgroundComponents[t].material.color=this._mySetup.myBackgroundColor,this.myScaleDecreaseButtonTextComponents[t]=this.myScaleDecreaseButtonTexts[t].addComponent(\"text\"),this._setupTextComponent(this.myScaleDecreaseButtonTextComponents[t]),this.myScaleDecreaseButtonTextComponents[t].text=this._mySetup.myDecreaseButtonText,this.myScaleDecreaseButtonCursorTargetComponents[t]=this.myScaleDecreaseButtonCursorTargets[t].addComponent(\"cursor-target\"),this.myScaleDecreaseButtonCollisionComponents[t]=this.myScaleDecreaseButtonCursorTargets[t].addComponent(\"collision\"),this.myScaleDecreaseButtonCollisionComponents[t].collider=this._mySetup.myCursorTargetCollisionCollider,this.myScaleDecreaseButtonCollisionComponents[t].group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myScaleDecreaseButtonCollisionComponents[t].extents=this._mySetup.mySideButtonCollisionExtents}_addStepComponents(){this.myPositionStepTextComponent=this.myPositionStepText.addComponent(\"text\"),this._setupTextComponent(this.myPositionStepTextComponent),this.myPositionStepTextComponent.text=\" \",this.myPositionStepCursorTargetComponent=this.myPositionStepCursorTarget.addComponent(\"cursor-target\"),this.myPositionStepCollisionComponent=this.myPositionStepCursorTarget.addComponent(\"collision\"),this.myPositionStepCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myPositionStepCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myPositionStepCollisionComponent.extents=this._mySetup.myStepCollisionExtents,this.myPositionStepIncreaseButtonBackgroundComponent=this.myPositionStepIncreaseButtonBackground.addComponent(\"mesh\"),this.myPositionStepIncreaseButtonBackgroundComponent.mesh=this._myPlaneMesh,this.myPositionStepIncreaseButtonBackgroundComponent.material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myPositionStepIncreaseButtonBackgroundComponent.material.color=this._mySetup.myBackgroundColor,this.myPositionStepIncreaseButtonTextComponent=this.myPositionStepIncreaseButtonText.addComponent(\"text\"),this._setupTextComponent(this.myPositionStepIncreaseButtonTextComponent),this.myPositionStepIncreaseButtonTextComponent.text=this._mySetup.myIncreaseButtonText,this.myPositionStepIncreaseButtonCursorTargetComponent=this.myPositionStepIncreaseButtonCursorTarget.addComponent(\"cursor-target\"),this.myPositionStepIncreaseButtonCollisionComponent=this.myPositionStepIncreaseButtonCursorTarget.addComponent(\"collision\"),this.myPositionStepIncreaseButtonCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myPositionStepIncreaseButtonCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myPositionStepIncreaseButtonCollisionComponent.extents=this._mySetup.mySideButtonCollisionExtents,this.myPositionStepDecreaseButtonBackgroundComponent=this.myPositionStepDecreaseButtonBackground.addComponent(\"mesh\"),this.myPositionStepDecreaseButtonBackgroundComponent.mesh=this._myPlaneMesh,this.myPositionStepDecreaseButtonBackgroundComponent.material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myPositionStepDecreaseButtonBackgroundComponent.material.color=this._mySetup.myBackgroundColor,this.myPositionStepDecreaseButtonTextComponent=this.myPositionStepDecreaseButtonText.addComponent(\"text\"),this._setupTextComponent(this.myPositionStepDecreaseButtonTextComponent),this.myPositionStepDecreaseButtonTextComponent.text=this._mySetup.myDecreaseButtonText,this.myPositionStepDecreaseButtonCursorTargetComponent=this.myPositionStepDecreaseButtonCursorTarget.addComponent(\"cursor-target\"),this.myPositionStepDecreaseButtonCollisionComponent=this.myPositionStepDecreaseButtonCursorTarget.addComponent(\"collision\"),this.myPositionStepDecreaseButtonCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myPositionStepDecreaseButtonCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myPositionStepDecreaseButtonCollisionComponent.extents=this._mySetup.mySideButtonCollisionExtents,this.myRotationStepTextComponent=this.myRotationStepText.addComponent(\"text\"),this._setupTextComponent(this.myRotationStepTextComponent),this.myRotationStepTextComponent.text=\" \",this.myRotationStepCursorTargetComponent=this.myRotationStepCursorTarget.addComponent(\"cursor-target\"),this.myRotationStepCollisionComponent=this.myRotationStepCursorTarget.addComponent(\"collision\"),this.myRotationStepCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myRotationStepCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myRotationStepCollisionComponent.extents=this._mySetup.myStepCollisionExtents,this.myRotationStepIncreaseButtonBackgroundComponent=this.myRotationStepIncreaseButtonBackground.addComponent(\"mesh\"),this.myRotationStepIncreaseButtonBackgroundComponent.mesh=this._myPlaneMesh,this.myRotationStepIncreaseButtonBackgroundComponent.material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myRotationStepIncreaseButtonBackgroundComponent.material.color=this._mySetup.myBackgroundColor,this.myRotationStepIncreaseButtonTextComponent=this.myRotationStepIncreaseButtonText.addComponent(\"text\"),this._setupTextComponent(this.myRotationStepIncreaseButtonTextComponent),this.myRotationStepIncreaseButtonTextComponent.text=this._mySetup.myIncreaseButtonText,this.myRotationStepIncreaseButtonCursorTargetComponent=this.myRotationStepIncreaseButtonCursorTarget.addComponent(\"cursor-target\"),this.myRotationStepIncreaseButtonCollisionComponent=this.myRotationStepIncreaseButtonCursorTarget.addComponent(\"collision\"),this.myRotationStepIncreaseButtonCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myRotationStepIncreaseButtonCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myRotationStepIncreaseButtonCollisionComponent.extents=this._mySetup.mySideButtonCollisionExtents,this.myRotationStepDecreaseButtonBackgroundComponent=this.myRotationStepDecreaseButtonBackground.addComponent(\"mesh\"),this.myRotationStepDecreaseButtonBackgroundComponent.mesh=this._myPlaneMesh,this.myRotationStepDecreaseButtonBackgroundComponent.material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myRotationStepDecreaseButtonBackgroundComponent.material.color=this._mySetup.myBackgroundColor,this.myRotationStepDecreaseButtonTextComponent=this.myRotationStepDecreaseButtonText.addComponent(\"text\"),this._setupTextComponent(this.myRotationStepDecreaseButtonTextComponent),this.myRotationStepDecreaseButtonTextComponent.text=this._mySetup.myDecreaseButtonText,this.myRotationStepDecreaseButtonCursorTargetComponent=this.myRotationStepDecreaseButtonCursorTarget.addComponent(\"cursor-target\"),this.myRotationStepDecreaseButtonCollisionComponent=this.myRotationStepDecreaseButtonCursorTarget.addComponent(\"collision\"),this.myRotationStepDecreaseButtonCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myRotationStepDecreaseButtonCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myRotationStepDecreaseButtonCollisionComponent.extents=this._mySetup.mySideButtonCollisionExtents,this.myScaleStepTextComponent=this.myScaleStepText.addComponent(\"text\"),this._setupTextComponent(this.myScaleStepTextComponent),this.myScaleStepTextComponent.text=\" \",this.myScaleStepCursorTargetComponent=this.myScaleStepCursorTarget.addComponent(\"cursor-target\"),this.myScaleStepCollisionComponent=this.myScaleStepCursorTarget.addComponent(\"collision\"),this.myScaleStepCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myScaleStepCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myScaleStepCollisionComponent.extents=this._mySetup.myStepCollisionExtents,this.myScaleStepIncreaseButtonBackgroundComponent=this.myScaleStepIncreaseButtonBackground.addComponent(\"mesh\"),this.myScaleStepIncreaseButtonBackgroundComponent.mesh=this._myPlaneMesh,this.myScaleStepIncreaseButtonBackgroundComponent.material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myScaleStepIncreaseButtonBackgroundComponent.material.color=this._mySetup.myBackgroundColor,this.myScaleStepIncreaseButtonTextComponent=this.myScaleStepIncreaseButtonText.addComponent(\"text\"),this._setupTextComponent(this.myScaleStepIncreaseButtonTextComponent),this.myScaleStepIncreaseButtonTextComponent.text=this._mySetup.myIncreaseButtonText,this.myScaleStepIncreaseButtonCursorTargetComponent=this.myScaleStepIncreaseButtonCursorTarget.addComponent(\"cursor-target\"),this.myScaleStepIncreaseButtonCollisionComponent=this.myScaleStepIncreaseButtonCursorTarget.addComponent(\"collision\"),this.myScaleStepIncreaseButtonCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myScaleStepIncreaseButtonCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myScaleStepIncreaseButtonCollisionComponent.extents=this._mySetup.mySideButtonCollisionExtents,this.myScaleStepDecreaseButtonBackgroundComponent=this.myScaleStepDecreaseButtonBackground.addComponent(\"mesh\"),this.myScaleStepDecreaseButtonBackgroundComponent.mesh=this._myPlaneMesh,this.myScaleStepDecreaseButtonBackgroundComponent.material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myScaleStepDecreaseButtonBackgroundComponent.material.color=this._mySetup.myBackgroundColor,this.myScaleStepDecreaseButtonTextComponent=this.myScaleStepDecreaseButtonText.addComponent(\"text\"),this._setupTextComponent(this.myScaleStepDecreaseButtonTextComponent),this.myScaleStepDecreaseButtonTextComponent.text=this._mySetup.myDecreaseButtonText,this.myScaleStepDecreaseButtonCursorTargetComponent=this.myScaleStepDecreaseButtonCursorTarget.addComponent(\"cursor-target\"),this.myScaleStepDecreaseButtonCollisionComponent=this.myScaleStepDecreaseButtonCursorTarget.addComponent(\"collision\"),this.myScaleStepDecreaseButtonCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myScaleStepDecreaseButtonCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myScaleStepDecreaseButtonCollisionComponent.extents=this._mySetup.mySideButtonCollisionExtents}_addPointerComponents(){this.myPointerCollisionComponent=this.myPointerCursorTarget.addComponent(\"collision\"),this.myPointerCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myPointerCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myPointerCollisionComponent.extents=this._mySetup.myPointerCollisionExtents}_setupTextComponent(t){t.alignment=this._mySetup.myTextAlignment,t.justification=this._mySetup.myTextJustification,t.material=this._myAdditionalSetup.myTextMaterial.clone(),t.material.color=this._mySetup.myTextColor,t.text=\"\"}}});var Ws=C(()=>{PP.EasyTuneTransformWidgetSetup=class{constructor(){this._initializeBuildSetup(),this._initializeRuntimeSetup()}_initializeBuildSetup(){this.myBackgroundColor=[46/255,46/255,46/255,1],this.myCursorTargetCollisionCollider=2,this.myCursorTargetCollisionGroup=7,this.myCursorTargetCollisionThickness=.001,this.myDefaultTextColor=[255/255,255/255,255/255,1],this.myTextAlignment=2,this.myTextJustification=2,this.myTextColor=this.myDefaultTextColor,this.myPivotObjectPositions=[],this.myPivotObjectPositions[PP.ToolHandedness.NONE]=[0,0,0],this.myPivotObjectPositions[PP.ToolHandedness.LEFT]=[-.04,.02,3713e-8],this.myPivotObjectPositions[PP.ToolHandedness.RIGHT]=[-.08,.02,3713e-8];let t=.01,i=.0125,s=.055,n=.017,o=.2;this.mySideButtonBackgroundScale=[.015,.015,1],this.mySideButtonTextScale=[.18,.18,.18],this.mySideButtonTextPosition=[0,0,.007],this.mySideButtonCursorTargetPosition=[0,0,0],this.mySideButtonCursorTargetPosition[2]=n-t,this.mySideButtonCollisionExtents=this.mySideButtonBackgroundScale.slice(0),this.mySideButtonCollisionExtents[2]=this.myCursorTargetCollisionThickness,this.myLeftSideButtonPosition=[-.13,0,0],this.myRightSideButtonPosition=[-this.myLeftSideButtonPosition[0],0,0],this.myPreviousButtonPosition=[0,0,-1e-5],this.myPreviousButtonPosition[0]=-o+this.mySideButtonBackgroundScale[0]+i,this.myNextButtonPosition=[0,0,-1e-5],this.myNextButtonPosition[0]=o-this.mySideButtonBackgroundScale[0]-i,this.myIncreaseButtonText=\"+\",this.myDecreaseButtonText=\"-\",this.myDisplayPanelPosition=[0,.1,0],this.myVariableLabelPanelPosition=[0,.025,t],this.myVariableLabelTextScale=[.19,.19,.19],this.myVariableLabelCursorTargetPosition=[0,0,0],this.myVariableLabelCursorTargetPosition[2]=n-t,this.myVariableLabelCollisionExtents=[.065,.0175,1],this.myVariableLabelCollisionExtents[2]=this.myCursorTargetCollisionThickness,this.myNextButtonText=\">\",this.myPreviousButtonText=\"<\";let r=Math.abs(this.myNextButtonPosition[0])+Math.abs(this.myRightSideButtonPosition[0]),l=.045;this.myPositionPanelPosition=[0,this.myVariableLabelPanelPosition[1]-l,t],this.myRotationPanelPosition=[this.myPositionPanelPosition[0]+r,this.myVariableLabelPanelPosition[1]-l,t],this.myScalePanelPosition=[this.myPositionPanelPosition[0]-r,this.myVariableLabelPanelPosition[1]-l,t],this.myPositionText=\"Position\",this.myRotationText=\"Rotation\",this.myScaleText=\"Scale\",this.myComponentLabelTextScale=[.19,.19,.19],this.myComponentLabelCursorTargetPosition=[0,0,0],this.myComponentLabelCursorTargetPosition[2]=n-t,this.myComponentLabelCollisionExtents=[.065,.0175,1],this.myComponentLabelCollisionExtents[2]=this.myCursorTargetCollisionThickness,this.myValueTextScale=[.4,.4,.4],this.myValueCursorTargetPosition=[0,0,0],this.myValueCursorTargetPosition[2]=n-t,this.myValueCollisionExtents=[.065,.02,1],this.myValueCollisionExtents[2]=this.myCursorTargetCollisionThickness;let u=this.mySideButtonBackgroundScale[1]*2+.015;this.myValuePanelsPositions=[],this.myValuePanelsPositions[0]=[0,-s,0];for(let a=1;a<3;a++)this.myValuePanelsPositions[a]=this.myValuePanelsPositions[a-1].slice(0),this.myValuePanelsPositions[a][1]-=u;let c=this.myValuePanelsPositions[2][1];this.myStepPanelPosition=[0,c-s,0],this.myStepTextScale=[.19,.19,.19],this.myStepStartString=\"Step: \",this.myStepCursorTargetPosition=[0,0,0],this.myStepCursorTargetPosition[2]=n-this.myStepPanelPosition[2],this.myStepCollisionExtents=[.065,.0175,1],this.myStepCollisionExtents[2]=this.myCursorTargetCollisionThickness;{let a=this.myDisplayPanelPosition[1]+this.myVariableLabelPanelPosition[1]+this.mySideButtonBackgroundScale[1]+i*1.25,m=this.myDisplayPanelPosition[1]+this.myPositionPanelPosition[1]+this.myStepPanelPosition[1]-i*1.25-this.mySideButtonBackgroundScale[1],y=this.myDisplayPanelPosition[0]+this.myRotationPanelPosition[0]+this.myRightSideButtonPosition[0]+this.mySideButtonBackgroundScale[0]+i,p=this.myDisplayPanelPosition[0]+this.myScalePanelPosition[0]+this.myLeftSideButtonPosition[0]-this.mySideButtonBackgroundScale[0]-i;this.myBackPanelPosition=[(y+p)/2,(a+m)/2,0],this.myBackBackgroundScale=[(y-p)/2,(a-m)/2,1],this.myBackBackgroundColor=[70/255,70/255,70/255,1]}this.myPointerCollisionExtents=this.myBackBackgroundScale.slice(0),this.myPointerCollisionExtents[2]=this.myCursorTargetCollisionThickness,this.myPointerCursorTargetPosition=this.myBackPanelPosition.slice(0),this.myPointerCursorTargetPosition[2]=n-1e-4}_initializeRuntimeSetup(){this.myButtonHoverColor=[150/255,150/255,150/255,1],this.myTextHoverScaleMultiplier=[1.25,1.25,1.25],this.myEditThumbstickMinThreshold=.35,this.myStepMultiplierStepPerSecond=2.25,this.myButtonEditDelay=0,this.myScrollVariableDelay=.5}}});var Es=C(()=>{PP.EasyTuneWidget=class{constructor(){this._myIsStarted=!1,this._myStartVariable=null,this._myWidgetFrame=new PP.WidgetFrame(\"E\",1),this._myWidgetFrame.registerWidgetVisibleChangedEventListener(this,this._widgetVisibleChanged.bind(this)),this._mySetup=new PP.EasyTuneWidgetSetup,this._myAdditionalSetup=null,this._myWidgets=[],this._myEasyTuneVariables=null,this._myEasyTuneLastSize=0,this._myVariableNames=null,this._myCurrentWidget=null,this._myCurrentVariable=null,this._myScrollVariableTimer=0,this._myGamepad=null,this._myRefreshVariablesTimer=0,this._myDirty=!1}setActiveVariable(t){this._myIsStarted?this._myEasyTuneVariables.has(t)?(this._myCurrentVariable=this._myEasyTuneVariables.get(t),this._selectCurrentWidget()):console.log(\"Can't set easy tune active variable\"):this._myStartVariable=t}refresh(){this._myWidgetFrame.myIsWidgetVisible&&(this._myDirty=!0)}start(t,i,s){this._myRightGamepad=PP.myRightGamepad,this._myLeftGamepad=PP.myLeftGamepad,this._mySetup.myGamepadHandedness==PP.ToolHandedness.RIGHT?this._myGamepad=this._myRightGamepad:this._mySetup.myGamepadHandedness==PP.ToolHandedness.LEFT&&(this._myGamepad=this._myLeftGamepad),this._myIsStarted=!0,this._myAdditionalSetup=i,this._myWidgetFrame.start(t,i),this._myEasyTuneVariables=s,this._myEasyTuneLastSize=this._myEasyTuneVariables.size,this._myVariableNames=Array.from(this._myEasyTuneVariables.keys()),this._myEasyTuneVariables.size>0&&(this._myCurrentVariable=this._myEasyTuneVariables.get(this._myVariableNames[0])),this._myStartVariable&&(this._myEasyTuneVariables.has(this._myStartVariable)?this._myCurrentVariable=this._myEasyTuneVariables.get(this._myStartVariable):console.log(\"Can't set easy tune active variable\")),this._initializeWidgets()}update(t){this._myWidgetFrame.update(t),(this._myEasyTuneVariables.size!=this._myEasyTuneLastSize||this._myDirty)&&this._refreshEasyTuneVariables(),this._myWidgetFrame.myIsWidgetVisible&&this._myEasyTuneVariables.size>0&&(this._mySetup.myRefreshVariablesDelay!=null&&(this._myRefreshVariablesTimer+=t,this._myRefreshVariablesTimer>this._mySetup.myRefreshVariablesDelay&&(this._myRefreshVariablesTimer=0,this._refreshEasyTuneVariables())),this._myCurrentWidget&&this._myCurrentWidget.update(t),this._myAdditionalSetup.myEnableGamepadScrollVariable&&this._updateGamepadScrollVariable(t)),this._updateGamepadWidgetVisibility(),this._updateActiveVariable()}_initializeWidgets(){this._myWidgets[PP.EasyTuneVariableType.NONE]=new PP.EasyTuneNoneWidget,this._myWidgets[PP.EasyTuneVariableType.NUMBER]=new PP.EasyTuneNumberWidget(this._myGamepad),this._myWidgets[PP.EasyTuneVariableType.BOOL]=new PP.EasyTuneBoolWidget(this._myGamepad),this._myWidgets[PP.EasyTuneVariableType.TRANSFORM]=new PP.EasyTuneTransformWidget(this._myGamepad);for(let t of this._myWidgets)t.start(this._myWidgetFrame.getWidgetObject(),this._myAdditionalSetup),t.setVisible(!1),t.registerScrollVariableRequestEventListener(this,this._scrollVariable.bind(this));this._selectCurrentWidget()}_selectCurrentWidget(){if(this._myEasyTuneVariables.size<=0)return;let t=!1,i=0;this._myCurrentWidget&&(t=this._myCurrentWidget.isScrollVariableActive(),i=this._myCurrentWidget.getScrollVariableDirection(),this._myCurrentWidget.setVisible(!1)),this._myCurrentVariable.myType in this._myWidgets?this._myCurrentWidget=this._myWidgets[this._myCurrentVariable.myType]:this._myCurrentWidget=this._myWidgets[PP.EasyTuneVariableType.NONE],this._myCurrentWidget.setEasyTuneVariable(this._myCurrentVariable,this._createIndexString()),this._myCurrentWidget.setVisible(this._myWidgetFrame.myIsWidgetVisible),this._myCurrentWidget.setScrollVariableActive(t,i)}_refreshEasyTuneVariables(){this._myVariableNames=Array.from(this._myEasyTuneVariables.keys()),this._myEasyTuneLastSize=this._myEasyTuneVariables.size,this._myEasyTuneVariables.size>0?(this._myCurrentVariable&&this._myEasyTuneVariables.has(this._myCurrentVariable.myName)?this._myCurrentVariable=this._myEasyTuneVariables.get(this._myCurrentVariable.myName):this._myCurrentVariable=this._myEasyTuneVariables.get(this._myVariableNames[0]),this._selectCurrentWidget()):(this._myCurrentVariable=null,this._myCurrentWidget&&(this._myCurrentWidget.setVisible(!1),this._myCurrentWidget=null)),this._myDirty=!1}_updateGamepadWidgetVisibility(){this._myGamepad&&(this._myGamepad.getButtonInfo(PP.ButtonType.BOTTOM_BUTTON).isPressStart()&&this._myGamepad.getButtonInfo(PP.ButtonType.TOP_BUTTON).myIsPressed||this._myGamepad.getButtonInfo(PP.ButtonType.TOP_BUTTON).isPressStart()&&this._myGamepad.getButtonInfo(PP.ButtonType.BOTTOM_BUTTON).myIsPressed)&&this._toggleVisibility()}_toggleVisibility(){this._myWidgetFrame.toggleVisibility()}_widgetVisibleChanged(t){this._myCurrentWidget&&(this._myEasyTuneVariables.size>0?this._myCurrentWidget.setVisible(t):this._myCurrentWidget.setVisible(!1)),t&&this._refreshEasyTuneVariables()}_updateGamepadScrollVariable(t){if(this._myGamepad&&(!this._mySetup.myScrollVariableButtonType||this._myGamepad.getButtonInfo(this._mySetup.myScrollVariableButtonType).myIsPressed)){let i=this._myGamepad.getAxesInfo().myAxes[0],s=this._myGamepad.getAxesInfo().myAxes[1];if(Math.abs(i)>this._mySetup.myScrollVariableMinXThreshold&&Math.abs(s)<this._mySetup.myScrollVariableMaxYThreshold)for(this._myScrollVariableTimer+=t;this._myScrollVariableTimer>this._mySetup.myScrollVariableDelay;)this._myScrollVariableTimer-=this._mySetup.myScrollVariableDelay,this._scrollVariable(Math.sign(i));else this._myScrollVariableTimer=this._mySetup.myScrollVariableDelay}else this._myScrollVariableTimer=this._mySetup.myScrollVariableDelay}_scrollVariable(t){if(this._myEasyTuneVariables.size<=0)return;let i=this._getVariableIndex(this._myCurrentVariable);if(i>=0){let s=((i+t)%this._myVariableNames.length+this._myVariableNames.length)%this._myVariableNames.length;this._myEasyTuneVariables.has(this._myVariableNames[s])?(this._myCurrentVariable=this._myEasyTuneVariables.get(this._myVariableNames[s]),this._selectCurrentWidget()):this._refreshEasyTuneVariables()}else this._refreshEasyTuneVariables()}_createIndexString(){let t=\" (\",i=(this._getVariableIndex(this._myCurrentVariable)+1).toString(),s=this._myEasyTuneVariables.size.toString();for(;i.length<s.length;)i=\"0\".concat(i);return t=t.concat(i).concat(\" - \").concat(s).concat(\")\"),t}_getVariableIndex(t){return this._myVariableNames.indexOf(t.myName)}_updateActiveVariable(){this._myEasyTuneVariables.forEach(function(t){t.myIsActive=!1}),this._myWidgetFrame.myIsWidgetVisible&&this._myCurrentVariable&&(this._myCurrentVariable.myIsActive=!0)}}});var ks=C(()=>{PP.EasyTuneWidgetSetup=class{constructor(){this._initializeRuntimeSetup()}_initializeRuntimeSetup(){this.myGamepadHandedness=PP.ToolHandedness.RIGHT,this.myScrollVariableDelay=.5,this.myScrollVariableMinXThreshold=.6,this.myScrollVariableMaxYThreshold=.25,this.myScrollVariableButtonType=null,this.myRefreshVariablesDelay=null}}});var js=C(()=>{PP.EasyTuneVariables=class{constructor(){this._myMap=new Map}add(t){this._myMap.set(t.myName,t)}remove(t){this._myMap.delete(t)}get(t){let i=this._myMap.get(t);return i?i.getValue():null}set(t,i,s=!1){let n=this._myMap.get(t);n&&n.setValue(i,s)}isActive(t){let i=this._myMap.get(t);return i?i.myIsActive:!1}getEasyTuneVariable(t){return this._myMap.get(t)}_getInternalMap(){return this._myMap}registerValueChangedEventListener(t,i,s){this._myMap.get(t).registerValueChangedEventListener(i,s)}unregisterValueChangedEventListener(t,i,s){this._myMap.get(t).unregisterValueChangedEventListener(i)}};PP.EasyTuneVariableType={NONE:0,NUMBER:1,BOOL:2,TRANSFORM:3};PP.EasyTuneVariable=class{constructor(t,i){this.myName=t.slice(0),this.myType=i,this.myValue=null,this.myInitialValue=null,this.myIsActive=!1,this._myValueChangedCallbacks=new Map}getValue(){return this.myValue}setValue(t,i=!1){let s=this.myValue;this.myValue=t,i&&PP.EasyTuneVariable.prototype.setInitialValue.call(this,t),PP.refreshEasyTuneWidget(),s!=t&&this._triggerValueChangedCallback()}setInitialValue(t){this.myInitialValue=t}registerValueChangedEventListener(t,i){this._myValueChangedCallbacks.set(t,i)}unregisterValueChangedEventListener(t){this._myValueChangedCallbacks.delete(t)}_triggerValueChangedCallback(){this._myValueChangedCallbacks.size>0&&this._myValueChangedCallbacks.forEach(function(t){t(this.myName,this.getValue())}.bind(this))}};PP.EasyTuneVariableArray=class extends PP.EasyTuneVariable{constructor(t,i,s){super(t,i),PP.EasyTuneVariableArray.prototype.setValue.call(this,s,!0)}getValue(){return this.myValue.slice(0)}setValue(t,i=!1){let s=this.myValue;this.myValue=t.slice(0),i&&PP.EasyTuneVariableArray.prototype.setInitialValue.call(this,t),PP.refreshEasyTuneWidget(),(s==null||!s.pp_equals(t))&&this._triggerValueChangedCallback()}setInitialValue(t){this.myInitialValue=t.slice(0)}};PP.EasyTuneNumberArray=class extends PP.EasyTuneVariableArray{constructor(t,i,s,n,o=null,r=null,l=!1){super(t,PP.EasyTuneVariableType.NUMBER,i),this.myDecimalPlaces=n,this.myStepPerSecond=s,this.myInitialStepPerSecond=this.myStepPerSecond,this.myMin=o,this.myMax=r,this.myEditAllValuesTogether=l,this._clampValue(!0)}setMax(t){this.myMax=t,this._clampValue(!1)}setMin(t){this.myMin=t,this._clampValue(!1)}_clampValue(t){let i=this.myValue.vec_clamp(this.myMin,this.myMax);if(!t){let s=this.myInitialValue.vec_clamp(this.myMin,this.myMax);!s.vec_equals(this.myInitialValue,1e-5)&&PP.EasyTuneVariableArray.prototype.setInitialValue.call(this,s)}PP.EasyTuneVariableArray.prototype.setValue.call(this,i,t)}};PP.EasyTuneNumber=class extends PP.EasyTuneNumberArray{constructor(t,i,s,n,o,r){super(t,[i],s,n,o,r)}getValue(){return this.myValue[0]}setValue(t,i=!1){super.setValue([t],i)}setInitialValue(t){super.setValue([t])}};PP.EasyTuneInt=class extends PP.EasyTuneNumber{constructor(t,i,s,n,o){super(t,i,s,0,n,o)}};PP.EasyTuneIntArray=class extends PP.EasyTuneNumberArray{constructor(t,i,s,n,o){let r=i.slice(0);for(let l=0;l<i.length;l++)r[l]=Math.round(r[l]);super(t,r,s,0,Math.round(n),Math.round(o))}};PP.EasyTuneBoolArray=class extends PP.EasyTuneVariableArray{constructor(t,i){super(t,PP.EasyTuneVariableType.BOOL,i)}};PP.EasyTuneBool=class extends PP.EasyTuneBoolArray{constructor(t,i){super(t,[i])}getValue(){return this.myValue[0]}setValue(t,i=!1){super.setValue([t],i)}setInitialValue(t){super.setValue([t])}};PP.EasyTuneTransform=class extends PP.EasyTuneVariable{constructor(t,i,s=!0,n=1,o=50,r=1){super(t,PP.EasyTuneVariableType.TRANSFORM),this.myDecimalPlaces=3,this.myPosition=i.mat4_getPosition(),this.myRotation=i.mat4_getRotationDegrees(),this.myScale=i.mat4_getScale();let l=Math.pow(10,this.myDecimalPlaces);for(let u=0;u<3;u++)this.myScale[u]=Math.max(this.myScale[u],1/l);this.myScaleAsOne=s,this.myPositionStepPerSecond=n,this.myRotationStepPerSecond=o,this.myScaleStepPerSecond=r,this.myInitialPosition=this.myPosition.vec3_clone(),this.myInitialRotation=this.myRotation.vec3_clone(),this.myInitialScale=this.myScale.vec3_clone(),this.myInitialPositionStepPerSecond=this.myPositionStepPerSecond,this.myInitialRotationStepPerSecond=this.myRotationStepPerSecond,this.myInitialScaleStepPerSecond=this.myScaleStepPerSecond,this.myTransform=PP.mat4_create(),this.myTransform.mat4_setPositionRotationDegreesScale(this.myPosition,this.myRotation,this.myScale),this.myTempTransform=PP.mat4_create()}getValue(){return this.myTransform.mat4_setPositionRotationDegreesScale(this.myPosition,this.myRotation,this.myScale),this.myTransform.slice(0)}setValue(t,i=!1){this.myTempTransform.mat4_setPositionRotationDegreesScale(this.myPosition,this.myRotation,this.myScale),t.mat4_getPosition(this.myPosition),t.mat4_getRotationDegrees(this.myRotation),t.mat4_getScale(this.myScale),this.myTransform.mat4_setPositionRotationDegreesScale(this.myPosition,this.myRotation,this.myScale),i&&PP.EasyTuneTransform.prototype.setInitialValue.call(this,t),PP.refreshEasyTuneWidget(),this.myTempTransform.pp_equals(this.myTransform)||this._triggerValueChangedCallback()}setInitialValue(t){this.myInitialPosition=t.mat4_getPosition(),this.myInitialRotation=t.mat4_getRotationDegrees(),this.myInitialScale=t.mat4_getScale()}}});var ws=C(()=>{WL.registerComponent(\"pp-easy-tune\",{_myHandedness:{type:WL.Type.Enum,values:[\"none\",\"left\",\"right\"],default:\"none\"},_myShowOnStart:{type:WL.Type.Bool,default:!1},_myShowVisibilityButton:{type:WL.Type.Bool,default:!1},_myEnableGamepadScrollVariable:{type:WL.Type.Bool,default:!0}},{init:function(){PP.myEasyTuneVariables=new PP.EasyTuneVariables,this._myWidget=new PP.EasyTuneWidget,PP.setEasyTuneWidgetActiveVariable=function(e){this._myWidget.setActiveVariable(e)}.bind(this),PP.refreshEasyTuneWidget=function(){this._myWidget.refresh()}.bind(this)},start:function(){let e={};e.myHandedness=[null,\"left\",\"right\"][this._myHandedness],e.myShowOnStart=this._myShowOnStart,e.myShowVisibilityButton=this._myShowVisibilityButton,e.myEnableAdditionalButtons=!0,e.myEnableGamepadScrollVariable=this._myEnableGamepadScrollVariable,e.myPlaneMaterial=PP.myDefaultResources.myMaterials.myFlatOpaque,e.myTextMaterial=PP.myDefaultResources.myMaterials.myText,this._myWidget.start(this.object,e,PP.myEasyTuneVariables._getInternalMap())},update:function(e){this._myWidget.update(e)}});PP.myEasyTuneVariables=null;PP.myEasyTuneTarget=null;PP.setEasyTuneWidgetActiveVariable=function(){console.log(\"setEasyTuneWidgetActiveVariable function not initialized yet\")};PP.refreshEasyTuneWidget=function(){console.log(\"refreshEasyTuneWidget function not initialized yet\")}});var Fs=C(()=>{PP.WidgetFrameSetup=class{constructor(t,i){this._initializeBuildSetup(t,i),this._initializeRuntimeSetup()}_initializeBuildSetup(t,i){this.myBackgroundColor=[46/255,46/255,46/255,1],this.myCursorTargetCollisionCollider=2,this.myCursorTargetCollisionGroup=7,this.myCursorTargetCollisionThickness=.001,this.myDefaultTextColor=[255/255,255/255,255/255,1],this.myTextAlignment=2,this.myTextJustification=2,this.myTextColor=this.myDefaultTextColor,this.myVisibilityButtonBackgroundScale=[.015,.015,1],this.myVisibilityButtonTextPosition=[0,0,.007],this.myVisibilityButtonTextScale=[.18,.18,.18];let s=.01,n=this.myVisibilityButtonBackgroundScale[0]*(2*i)+s*i;this.myVisibilityButtonPosition=[],this.myVisibilityButtonPosition[PP.ToolHandedness.NONE]={},this.myVisibilityButtonPosition[PP.ToolHandedness.NONE].myPosition=[-.3+n,-.205,.035],this.myVisibilityButtonPosition[PP.ToolHandedness.LEFT]={},this.myVisibilityButtonPosition[PP.ToolHandedness.LEFT].myPosition=[-.2+n,.025,.015],this.myVisibilityButtonPosition[PP.ToolHandedness.RIGHT]={},this.myVisibilityButtonPosition[PP.ToolHandedness.RIGHT].myPosition=[.2-n,.025,.015],this.myVisibilityButtonText=t,this.myVisibilityButtonCursorTargetPosition=[0,0,0],this.myVisibilityButtonCursorTargetPosition[2]=this.myVisibilityButtonTextPosition[2],this.myVisibilityButtonCollisionExtents=this.myVisibilityButtonBackgroundScale.slice(0),this.myVisibilityButtonCollisionExtents[2]=this.myCursorTargetCollisionThickness,this.myFlagButtonBackgroundScale=[.0125,.0125,1],this.myFlagButtonTextPosition=[0,0,.007],this.myFlagButtonTextScale=[.15,.15,.15];let o=.0075,r=0,l=this.myVisibilityButtonBackgroundScale[1]+this.myFlagButtonBackgroundScale[1]+o+this.myFlagButtonBackgroundScale[1]*(2*r)+o*r;this.myPinButtonPosition=[],this.myPinButtonPosition[PP.ToolHandedness.NONE]={},this.myPinButtonPosition[PP.ToolHandedness.NONE].myPosition=this.myVisibilityButtonPosition[PP.ToolHandedness.NONE].myPosition.slice(0),this.myPinButtonPosition[PP.ToolHandedness.NONE].myPosition[1]+=l,this.myPinButtonPosition[PP.ToolHandedness.LEFT]={},this.myPinButtonPosition[PP.ToolHandedness.LEFT].myPosition=this.myVisibilityButtonPosition[PP.ToolHandedness.LEFT].myPosition.slice(0),this.myPinButtonPosition[PP.ToolHandedness.LEFT].myPosition[1]+=l,this.myPinButtonPosition[PP.ToolHandedness.RIGHT]={},this.myPinButtonPosition[PP.ToolHandedness.RIGHT].myPosition=this.myVisibilityButtonPosition[PP.ToolHandedness.RIGHT].myPosition.slice(0),this.myPinButtonPosition[PP.ToolHandedness.RIGHT].myPosition[1]+=l,this.myPinButtonText=\"P\",this.myPinButtonCursorTargetPosition=[0,0,0],this.myPinButtonCursorTargetPosition[2]=this.myFlagButtonTextPosition[2],this.myPinButtonCollisionExtents=this.myFlagButtonBackgroundScale.slice(0),this.myPinButtonCollisionExtents[2]=this.myCursorTargetCollisionThickness}_initializeRuntimeSetup(){this._initializeObjectsTransforms(),this.myButtonHoverColor=[150/255,150/255,150/255,1],this.myButtonDisabledTextColor=this.myBackgroundColor,this.myButtonDisabledBackgroundColor=[110/255,110/255,110/255,1]}_initializeObjectsTransforms(){this.myPivotObjectTransforms=this._createDefaultObjectTransforms(),this.myPivotObjectTransforms[PP.ToolInputSourceType.GAMEPAD][PP.ToolHandedness.LEFT].myRotation=[-.645,.425,.25,.584],this.myPivotObjectTransforms[PP.ToolInputSourceType.GAMEPAD][PP.ToolHandedness.LEFT].myRotation.quat_normalize(this.myPivotObjectTransforms[PP.ToolInputSourceType.GAMEPAD][PP.ToolHandedness.LEFT].myRotation),this.myPivotObjectTransforms[PP.ToolInputSourceType.GAMEPAD][PP.ToolHandedness.RIGHT].myRotation=[-.645,-.425,-.25,.584],this.myPivotObjectTransforms[PP.ToolInputSourceType.GAMEPAD][PP.ToolHandedness.RIGHT].myRotation.quat_normalize(this.myPivotObjectTransforms[PP.ToolInputSourceType.GAMEPAD][PP.ToolHandedness.RIGHT].myRotation),this.myPivotObjectTransforms[PP.ToolInputSourceType.HAND][PP.ToolHandedness.LEFT].myPosition=[-.04,.045,-.055],this.myPivotObjectTransforms[PP.ToolInputSourceType.HAND][PP.ToolHandedness.LEFT].myRotation=[0,.536,-.43,.727],this.myPivotObjectTransforms[PP.ToolInputSourceType.HAND][PP.ToolHandedness.LEFT].myRotation.quat_normalize(this.myPivotObjectTransforms[PP.ToolInputSourceType.HAND][PP.ToolHandedness.LEFT].myRotation),this.myPivotObjectTransforms[PP.ToolInputSourceType.HAND][PP.ToolHandedness.RIGHT].myPosition=[.04,.045,-.055],this.myPivotObjectTransforms[PP.ToolInputSourceType.HAND][PP.ToolHandedness.RIGHT].myRotation=[0,-.536,.43,.727],this.myPivotObjectTransforms[PP.ToolInputSourceType.HAND][PP.ToolHandedness.RIGHT].myRotation.quat_normalize(this.myPivotObjectTransforms[PP.ToolInputSourceType.HAND][PP.ToolHandedness.RIGHT].myRotation),this.myWidgetObjectTransforms=this._createDefaultObjectTransforms(),this.myWidgetObjectTransforms[PP.ToolInputSourceType.GAMEPAD][PP.ToolHandedness.LEFT].myPosition=[.1,.23,-.02],this.myWidgetObjectTransforms[PP.ToolInputSourceType.GAMEPAD][PP.ToolHandedness.RIGHT].myPosition=[.07,.23,-.02],this.myWidgetObjectTransforms[PP.ToolInputSourceType.HAND][PP.ToolHandedness.LEFT].myPosition=[.1,.23,-.02],this.myWidgetObjectTransforms[PP.ToolInputSourceType.HAND][PP.ToolHandedness.RIGHT].myPosition=[.07,.23,-.02]}_createDefaultObjectTransforms(){let t=[];for(let i in PP.ToolInputSourceType){let s=PP.ToolInputSourceType[i];t[s]=[];for(let n in PP.ToolHandedness){let o=PP.ToolHandedness[n];t[s][o]={},t[s][o].myPosition=[0,0,0],t[s][o].myRotation=[0,0,0,1]}}return t}}});var Hs=C(()=>{PP.WidgetFrameUI=class{constructor(){this._myInputSourceType=null,this._myParentObject=null,this._myIsPinned=!1}build(t,i,s){this._myParentObject=t,this._mySetup=i,this._myAdditionalSetup=s,this._myPlaneMesh=PP.MeshUtils.createPlaneMesh(),this._createSkeleton(),this._setTransforms(),this._addComponents()}setWidgetVisible(t){this.myFlagsButtonPanel.pp_setActiveHierarchy(t),t&&this._updateObjectsTransforms(!0)}setVisibilityButtonVisible(t){this.myVisibilityButtonPanel.pp_setActiveHierarchy(t)}setPinned(t){t!=this._myIsPinned&&(this._myIsPinned=t,this._myIsPinned?this.myPivotObject.pp_setParent(null):(this.myPivotObject.pp_setParent(this.myFixForwardObject),this._updateObjectsTransforms(!0)))}update(t){this._updateObjectsTransforms(!1)}_updateObjectsTransforms(t){let i=PP.InputUtils.getInputSourceType(this._myAdditionalSetup.myHandedness);(i!=this._myInputSourceType||t)&&(this._myInputSourceType=i,this._myIsPinned||(this.myPivotObject.setTranslationLocal(this._mySetup.myPivotObjectTransforms[this._myInputSourceType][this._myAdditionalSetup.myHandedness].myPosition),this.myPivotObject.resetRotation(),this.myPivotObject.rotateObject(this._mySetup.myPivotObjectTransforms[this._myInputSourceType][this._myAdditionalSetup.myHandedness].myRotation),this.myWidgetObject.setTranslationLocal(this._mySetup.myWidgetObjectTransforms[this._myInputSourceType][this._myAdditionalSetup.myHandedness].myPosition),this.myWidgetObject.resetRotation(),this.myWidgetObject.rotateObject(this._mySetup.myWidgetObjectTransforms[this._myInputSourceType][this._myAdditionalSetup.myHandedness].myRotation)))}_createSkeleton(){this.myFixForwardObject=WL.scene.addObject(this._myParentObject),this.myFixForwardObject.pp_rotateObject([0,180,0]),this.myPivotObject=WL.scene.addObject(this.myFixForwardObject),this.myWidgetObject=WL.scene.addObject(this.myPivotObject),this.myVisibilityButtonPanel=WL.scene.addObject(this.myPivotObject),this.myVisibilityButtonBackground=WL.scene.addObject(this.myVisibilityButtonPanel),this.myVisibilityButtonText=WL.scene.addObject(this.myVisibilityButtonPanel),this.myVisibilityButtonCursorTarget=WL.scene.addObject(this.myVisibilityButtonPanel),this.myFlagsButtonPanel=WL.scene.addObject(this.myPivotObject),this.myPinButtonPanel=WL.scene.addObject(this.myFlagsButtonPanel),this.myPinButtonBackground=WL.scene.addObject(this.myPinButtonPanel),this.myPinButtonText=WL.scene.addObject(this.myPinButtonPanel),this.myPinButtonCursorTarget=WL.scene.addObject(this.myPinButtonPanel)}_setTransforms(){this.myPivotObject.setDirty(),this.myVisibilityButtonPanel.setTranslationLocal(this._mySetup.myVisibilityButtonPosition[this._myAdditionalSetup.myHandedness].myPosition),this.myVisibilityButtonBackground.scale(this._mySetup.myVisibilityButtonBackgroundScale),this.myVisibilityButtonText.setTranslationLocal(this._mySetup.myVisibilityButtonTextPosition),this.myVisibilityButtonText.scale(this._mySetup.myVisibilityButtonTextScale),this.myVisibilityButtonCursorTarget.setTranslationLocal(this._mySetup.myVisibilityButtonCursorTargetPosition),this.myPinButtonPanel.setTranslationLocal(this._mySetup.myPinButtonPosition[this._myAdditionalSetup.myHandedness].myPosition),this.myPinButtonBackground.scale(this._mySetup.myFlagButtonBackgroundScale),this.myPinButtonText.setTranslationLocal(this._mySetup.myFlagButtonTextPosition),this.myPinButtonText.scale(this._mySetup.myFlagButtonTextScale),this.myPinButtonCursorTarget.setTranslationLocal(this._mySetup.myPinButtonCursorTargetPosition)}_addComponents(){this.myVisibilityButtonBackgroundComponent=this.myVisibilityButtonBackground.addComponent(\"mesh\"),this.myVisibilityButtonBackgroundComponent.mesh=this._myPlaneMesh,this.myVisibilityButtonBackgroundComponent.material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myVisibilityButtonBackgroundComponent.material.color=this._mySetup.myBackgroundColor,this.myVisibilityButtonTextComponent=this.myVisibilityButtonText.addComponent(\"text\"),this._setupButtonTextComponent(this.myVisibilityButtonTextComponent),this.myVisibilityButtonTextComponent.text=this._mySetup.myVisibilityButtonText,this.myVisibilityButtonCursorTargetComponent=this.myVisibilityButtonCursorTarget.addComponent(\"cursor-target\"),this.myVisibilityButtonCollisionComponent=this.myVisibilityButtonCursorTarget.addComponent(\"collision\"),this.myVisibilityButtonCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myVisibilityButtonCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myVisibilityButtonCollisionComponent.extents=this._mySetup.myVisibilityButtonCollisionExtents,this.myPinButtonBackgroundComponent=this.myPinButtonBackground.addComponent(\"mesh\"),this.myPinButtonBackgroundComponent.mesh=this._myPlaneMesh,this.myPinButtonBackgroundComponent.material=this._myAdditionalSetup.myPlaneMaterial.clone(),this.myPinButtonBackgroundComponent.material.color=this._mySetup.myButtonDisabledBackgroundColor,this.myPinButtonTextComponent=this.myPinButtonText.addComponent(\"text\"),this._setupButtonTextComponent(this.myPinButtonTextComponent),this.myPinButtonTextComponent.material.color=this._mySetup.myButtonDisabledTextColor,this.myPinButtonTextComponent.text=this._mySetup.myPinButtonText,this.myPinButtonCursorTargetComponent=this.myPinButtonCursorTarget.addComponent(\"cursor-target\"),this.myPinButtonCollisionComponent=this.myPinButtonCursorTarget.addComponent(\"collision\"),this.myPinButtonCollisionComponent.collider=this._mySetup.myCursorTargetCollisionCollider,this.myPinButtonCollisionComponent.group=1<<this._mySetup.myCursorTargetCollisionGroup,this.myPinButtonCollisionComponent.extents=this._mySetup.myPinButtonCollisionExtents}_setupButtonTextComponent(t){t.alignment=this._mySetup.myTextAlignment,t.justification=this._mySetup.myTextJustification,t.material=this._myAdditionalSetup.myTextMaterial.clone(),t.material.color=this._mySetup.myTextColor,t.text=\"\"}}});var Ns=C(()=>{PP.WidgetFrame=class{constructor(t,i){this.myIsWidgetVisible=!0,this.myIsPinned=!1,this._mySetup=new PP.WidgetFrameSetup(t,i),this._myAdditionalSetup=null,this._myUI=new PP.WidgetFrameUI,this._myWidgetVisibleChangedCallbacks=new Map,this._myPinChangedCallbacks=new Map}getWidgetObject(){return this._myUI.myWidgetObject}toggleVisibility(){this._toggleVisibility(!1,!0)}togglePin(){this._togglePin(!1)}registerWidgetVisibleChangedEventListener(t,i){this._myWidgetVisibleChangedCallbacks.set(t,i)}unregisterWidgetVisibleChangedEventListener(t){this._myWidgetVisibleChangedCallbacks.delete(t)}registerPinChangedEventListener(t,i){this._myPinChangedCallbacks.set(t,i)}unregisterPinChangedEventListener(t){this._myPinChangedCallbacks.delete(t)}start(t,i){this._myAdditionalSetup=i,this._myUI.build(t,this._mySetup,i),this._myUI.setVisibilityButtonVisible(i.myShowVisibilityButton),i.myShowOnStart||this._toggleVisibility(!1,!1),this._addListeners()}update(t){this._myUI.update(t)}_addListeners(){let t=this._myUI;t.myPinButtonCursorTargetComponent.addClickFunction(this._togglePin.bind(this,!0)),t.myPinButtonCursorTargetComponent.addHoverFunction(this._genericHover.bind(this,t.myPinButtonBackgroundComponent.material)),t.myPinButtonCursorTargetComponent.addUnHoverFunction(this._pinUnHover.bind(this,t.myPinButtonBackgroundComponent.material)),this._myAdditionalSetup.myShowVisibilityButton&&(t.myVisibilityButtonCursorTargetComponent.addClickFunction(this._toggleVisibility.bind(this,!0,!0)),t.myVisibilityButtonCursorTargetComponent.addHoverFunction(this._genericHover.bind(this,t.myVisibilityButtonBackgroundComponent.material)),t.myVisibilityButtonCursorTargetComponent.addUnHoverFunction(this._visibilityUnHover.bind(this,t.myVisibilityButtonBackgroundComponent.material)))}_toggleVisibility(t,i){this.myIsWidgetVisible=!this.myIsWidgetVisible,this._myUI.setWidgetVisible(this.myIsWidgetVisible);let s=this._myUI.myVisibilityButtonTextComponent.material,n=this._myUI.myVisibilityButtonBackgroundComponent.material;if(this.myIsWidgetVisible?(s.color=this._mySetup.myDefaultTextColor,t||(n.color=this._mySetup.myBackgroundColor)):(s.color=this._mySetup.myButtonDisabledTextColor,t||(n.color=this._mySetup.myButtonDisabledBackgroundColor)),i)for(let o of this._myWidgetVisibleChangedCallbacks.values())o(this.myIsWidgetVisible)}_togglePin(t){if(this.myIsWidgetVisible){this.myIsPinned=!this.myIsPinned,this._myUI.setPinned(this.myIsPinned);let i=this._myUI.myPinButtonTextComponent.material,s=this._myUI.myPinButtonBackgroundComponent.material;this.myIsPinned?(i.color=this._mySetup.myDefaultTextColor,t||(s.color=this._mySetup.myBackgroundColor)):(i.color=this._mySetup.myButtonDisabledTextColor,t||(s.color=this._mySetup.myButtonDisabledBackgroundColor));for(let n of this._myPinChangedCallbacks.values())n(this.myIsPinned)}}_genericHover(t){t.color=this._mySetup.myButtonHoverColor}_visibilityUnHover(t){this.myIsWidgetVisible?t.color=this._mySetup.myBackgroundColor:t.color=this._mySetup.myButtonDisabledBackgroundColor}_pinUnHover(t){this.myIsPinned?t.color=this._mySetup.myBackgroundColor:t.color=this._mySetup.myButtonDisabledBackgroundColor}}});Gt();zt();Ee();ke();je();we();Fe();He();Ne();qe();Ue();Ge();ze();Ke();Xe();Ye();Ze();Je();$e();ti();ei();ii();si();ni();oi();ai();ri();li();mi();ui();yi();ci();hi();pi();_i();di();gi();Pi();fi();Ti();Ci();bi();Si();vi();xi();Bi();Mi();Ai();Li();Vi();Di();Ri();Ii();Oi();Wi();Ei();ki();ji();Ni();qi();Ui();Gi();zi();Qi();Ki();Xi();Yi();Zi();Ji();$i();ts();es();is();ss();ns();os();as();rs();ls();ms();us();ys();cs();hs();ps();_s();ds();gs();Ps();fs();Ts();Cs();bs();Ss();vs();xs();Bs();Ms();As();Ls();Vs();Ds();Rs();Is();Os();Ws();Es();ks();js();ws();Fs();Hs();Ns();})();\n/*!\n *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.\n *  \n *  howler.js v2.2.3\n *  howlerjs.com\n *\n *  (c) 2013-2020, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n/*!\n *  howler.js v2.2.3\n *  howlerjs.com\n *\n *  (c) 2013-2020, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n//# sourceMappingURL=wle_pp_bundler-bundle.js.map\n"
    ],
    "mappings": "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",
    "names": []
}